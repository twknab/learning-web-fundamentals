!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i=t("./core/core.js")();t("./core/core.helpers")(i),t("./core/core.element")(i),t("./core/core.animation")(i),t("./core/core.controller")(i),t("./core/core.datasetController")(i),t("./core/core.layoutService")(i),t("./core/core.scaleService")(i),t("./core/core.plugin.js")(i),t("./core/core.scale")(i),t("./core/core.title")(i),t("./core/core.legend")(i),t("./core/core.tooltip")(i),t("./elements/element.arc")(i),t("./elements/element.line")(i),t("./elements/element.point")(i),t("./elements/element.rectangle")(i),t("./scales/scale.linearbase.js")(i),t("./scales/scale.category")(i),t("./scales/scale.linear")(i),t("./scales/scale.logarithmic")(i),t("./scales/scale.radialLinear")(i),t("./scales/scale.time")(i),t("./controllers/controller.bar")(i),t("./controllers/controller.bubble")(i),t("./controllers/controller.doughnut")(i),t("./controllers/controller.line")(i),t("./controllers/controller.polarArea")(i),t("./controllers/controller.radar")(i),t("./charts/Chart.Bar")(i),t("./charts/Chart.Bubble")(i),t("./charts/Chart.Doughnut")(i),t("./charts/Chart.Line")(i),t("./charts/Chart.PolarArea")(i),t("./charts/Chart.Radar")(i),t("./charts/Chart.Scatter")(i),window.Chart=e.exports=i},{"./charts/Chart.Bar":2,"./charts/Chart.Bubble":3,"./charts/Chart.Doughnut":4,"./charts/Chart.Line":5,"./charts/Chart.PolarArea":6,"./charts/Chart.Radar":7,"./charts/Chart.Scatter":8,"./controllers/controller.bar":9,"./controllers/controller.bubble":10,"./controllers/controller.doughnut":11,"./controllers/controller.line":12,"./controllers/controller.polarArea":13,"./controllers/controller.radar":14,"./core/core.animation":15,"./core/core.controller":16,"./core/core.datasetController":17,"./core/core.element":18,"./core/core.helpers":19,"./core/core.js":20,"./core/core.layoutService":21,"./core/core.legend":22,"./core/core.plugin.js":23,"./core/core.scale":24,"./core/core.scaleService":25,"./core/core.title":26,"./core/core.tooltip":27,"./elements/element.arc":28,"./elements/element.line":29,"./elements/element.point":30,"./elements/element.rectangle":31,"./scales/scale.category":32,"./scales/scale.linear":33,"./scales/scale.linearbase.js":34,"./scales/scale.logarithmic":35,"./scales/scale.radialLinear":36,"./scales/scale.time":37}],2:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],3:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],4:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],5:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],6:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],7:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.options=t.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new t(e,n)}}},{}],8:[function(t,e,n){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,n){t.DatasetController.prototype.initialize.call(this,e,n),this.getMeta().bar=!0},getBarCount:function(){var t=this,n=0;return e.each(t.chart.data.datasets,function(e,i){var r=t.chart.getDatasetMeta(i);r.bar&&t.chart.isDatasetVisible(i)&&++n},t),n},update:function(t){var n=this;e.each(n.getMeta().data,function(e,i){n.updateElement(e,i,t)},n)},updateElement:function(t,n,i){var r=this,o=r.getMeta(),a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=s.getBasePixel(),c=r.chart.options.elements.rectangle,u=t.custom||{},d=r.getDataset();e.extend(t,{_xScale:a,_yScale:s,_datasetIndex:r.index,_index:n,_model:{x:r.calculateBarX(n,r.index),y:i?l:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:d.label,base:i?l:r.calculateBarBase(r.index,n),width:r.calculateBarWidth(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(d.backgroundColor,n,c.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:c.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(d.borderColor,n,c.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(d.borderWidth,n,c.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=0;if(r.options.stacked){var a=n.chart,s=a.data.datasets,l=s[t].data[e];if(l<0)for(var c=0;c<t;c++){var u=s[c],d=a.getDatasetMeta(c);d.bar&&d.yAxisID===r.id&&a.isDatasetVisible(c)&&(o+=u.data[e]<0?u.data[e]:0)}else for(var f=0;f<t;f++){var h=s[f],p=a.getDatasetMeta(f);p.bar&&p.yAxisID===r.id&&a.isDatasetVisible(f)&&(o+=h.data[e]>0?h.data[e]:0)}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(t){var e,n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=n.getBarCount();e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length;var a=e*r.options.categoryPercentage,s=(e-e*r.options.categoryPercentage)/2,l=a/o;if(r.ticks.length!==n.chart.data.labels.length){var c=r.ticks.length/n.chart.data.labels.length;l*=c}var u=l*r.options.barPercentage,d=l-l*r.options.barPercentage;return{datasetCount:o,tickWidth:e,categoryWidth:a,categorySpacing:s,fullBarWidth:l,barWidth:u,barSpacing:d}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID),n=this.getRuler(t);return e.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(t){var e,n,i=0;for(n=0;n<t;++n)e=this.chart.getDatasetMeta(n),e.bar&&this.chart.isDatasetVisible(n)&&++i;return i},calculateBarX:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=n.getBarIndex(e),a=n.getRuler(t),s=r.getPixelForValue(null,t,e,n.chart.isCombo);return s-=n.chart.isCombo?a.tickWidth/2:0,r.options.stacked?s+a.categoryWidth/2+a.categorySpacing:s+a.barWidth/2+a.categorySpacing+a.barWidth*o+a.barSpacing/2+a.barSpacing*o},calculateBarY:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=n.getDataset().data[t];if(r.options.stacked){for(var a=0,s=0,l=0;l<e;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);u.bar&&u.yAxisID===r.id&&n.chart.isDatasetVisible(l)&&(c.data[t]<0?s+=c.data[t]||0:a+=c.data[t]||0)}return o<0?r.getPixelForValue(s+o):r.getPixelForValue(a+o)}return r.getPixelForValue(o)},draw:function(t){var n=this,i=t||1;e.each(n.getMeta().data,function(t,e){var r=n.getDataset().data[e];null===r||void 0===r||isNaN(r)||t.transition(i).draw()},n)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:e.getValueAtIndexOrDefault(n.borderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,i,a.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,n,i,r){var o=this,a=o.getMeta(),s=o.getScaleForId(a.xAxisID),l=o.getScaleForId(a.yAxisID),c=s.getBasePixel(),u=t.custom||{},d=o.getDataset(),f=o.chart.options.elements.rectangle;e.extend(t,{_xScale:s,_yScale:l,_datasetIndex:o.index,_index:n,_model:{x:i?c:o.calculateBarX(n,o.index),y:o.calculateBarY(n,o.index),label:o.chart.data.labels[n],datasetLabel:d.label,base:i?c:o.calculateBarBase(o.index,n),height:o.calculateBarHeight(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(d.backgroundColor,n,f.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:f.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(d.borderColor,n,f.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(d.borderWidth,n,f.borderWidth)},draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,i=n.height/2,r=n.y-i,o=n.y+i,a=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(r+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[n.base,o],[n.base,r],[a,r],[a,o]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);u===-1&&(u=0),e.moveTo.apply(e,t(0));for(var d=1;d<4;d++)e.lineTo.apply(e,t(d));e.fill(),n.borderWidth&&e.stroke()},inRange:function(t,e){var n=this._view,i=!1;return n&&(i=n.x<n.base?e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.x&&t<=n.base:e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.base&&t<=n.x),i}}),t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=0;if(r.options.stacked){var a=n.chart.data.datasets[t].data[e];if(a<0)for(var s=0;s<t;s++){var l=n.chart.data.datasets[s],c=n.chart.getDatasetMeta(s);c.bar&&c.xAxisID===r.id&&n.chart.isDatasetVisible(s)&&(o+=l.data[e]<0?l.data[e]:0)}else for(var u=0;u<t;u++){var d=n.chart.data.datasets[u],f=n.chart.getDatasetMeta(u);f.bar&&f.xAxisID===r.id&&n.chart.isDatasetVisible(u)&&(o+=d.data[e]>0?d.data[e]:0)}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(t){var e,n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=n.getBarCount();e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length;var a=e*r.options.categoryPercentage,s=(e-e*r.options.categoryPercentage)/2,l=a/o;if(r.ticks.length!==n.chart.data.labels.length){var c=r.ticks.length/n.chart.data.labels.length;l*=c}var u=l*r.options.barPercentage,d=l-l*r.options.barPercentage;return{datasetCount:o,tickHeight:e,categoryHeight:a,categorySpacing:s,fullBarHeight:l,barHeight:u,barSpacing:d}},calculateBarHeight:function(t){var e=this,n=e.getScaleForId(e.getMeta().yAxisID),i=e.getRuler(t);return n.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=n.getDataset().data[t];if(r.options.stacked){for(var a=0,s=0,l=0;l<e;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);u.bar&&u.xAxisID===r.id&&n.chart.isDatasetVisible(l)&&(c.data[t]<0?s+=c.data[t]||0:a+=c.data[t]||0)}return o<0?r.getPixelForValue(s+o):r.getPixelForValue(a+o)}return r.getPixelForValue(o)},calculateBarY:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=n.getBarIndex(e),a=n.getRuler(t),s=r.getPixelForValue(null,t,e,n.chart.isCombo);return s-=n.chart.isCombo?a.tickHeight/2:0,r.options.stacked?s+a.categoryHeight/2+a.categorySpacing:s+a.barHeight/2+a.categorySpacing+a.barHeight*o+a.barSpacing/2+a.barSpacing*o}})}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+i.x+", "+i.y+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var n=this,i=n.getMeta(),r=i.data;e.each(r,function(e,i){n.updateElement(e,i,t)})},updateElement:function(n,i,r){var o=this,a=o.getMeta(),s=o.getScaleForId(a.xAxisID),l=o.getScaleForId(a.yAxisID),c=n.custom||{},u=o.getDataset(),d=u.data[i],f=o.chart.options.elements.point,h=o.index;e.extend(n,{_xScale:s,_yScale:l,_datasetIndex:h,_index:i,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue(d,i,h,o.chart.isCombo),y:r?l.getBasePixel():l.getPixelForValue(d,i,h),radius:r?0:c.radius?c.radius:o.getRadius(d),hitRadius:c.hitRadius?c.hitRadius:e.getValueAtIndexOrDefault(u.hitRadius,i,f.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,n,f);var p=n._model;p.skip=c.skip?c.skip:isNaN(p.x)||isNaN(p.y),n.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,n);var r=i.chart.data.datasets[n._datasetIndex],o=n._index,a=n.custom||{},s=n._model;s.radius=a.hoverRadius?a.hoverRadius:e.getValueAtIndexOrDefault(r.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(r.data[o])},removeHoverStyle:function(e){var n=this;t.DatasetController.prototype.removeHoverStyle.call(n,e,n.chart.options.elements.point);var i=n.chart.data.datasets[e._datasetIndex].data[e._index],r=e.custom||{},o=e._model;o.radius=r.radius?r.radius:n.getRadius(i)}})}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s.custom||{},c=e.getValueAtIndexOrDefault,u=t.options.elements.arc,d=l.backgroundColor?l.backgroundColor:c(a.backgroundColor,r,u.backgroundColor),f=l.borderColor?l.borderColor:c(a.borderColor,r,u.borderColor),h=l.borderWidth?l.borderWidth:c(a.borderWidth,r,u.borderWidth);return{text:i,fillStyle:d,strokeStyle:f,lineWidth:h,hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)r=a.getDatasetMeta(n),r.data[o].hidden=!r.data[o].hidden;a.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},n.pie=e.clone(n.doughnut),e.extend(n.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var n=this,i=n.chart,r=i.chartArea,o=i.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,c=Math.min(s,l),u={x:0,y:0},d=n.getMeta(),f=o.cutoutPercentage,h=o.circumference;if(h<2*Math.PI){var p=o.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var m=p+h,g={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(m),y:Math.sin(m)},y=p<=0&&0<=m||p<=2*Math.PI&&2*Math.PI<=m,b=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,_=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,w=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,x=f/100,k={x:_?-1:Math.min(g.x*(g.x<0?1:x),v.x*(v.x<0?1:x)),y:w?-1:Math.min(g.y*(g.y<0?1:x),v.y*(v.y<0?1:x))},S={x:y?1:Math.max(g.x*(g.x>0?1:x),v.x*(v.x>0?1:x)),y:b?1:Math.max(g.y*(g.y>0?1:x),v.y*(v.y>0?1:x))},M={width:.5*(S.x-k.x),height:.5*(S.y-k.y)};c=Math.min(s/M.width,l/M.height),u={x:(S.x+k.x)*-.5,y:(S.y+k.y)*-.5}}i.outerRadius=Math.max(c/2,0),i.innerRadius=Math.max(f?i.outerRadius/100*f:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-i.radiusLength,e.each(d.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){var r=this,o=r.chart,a=o.chartArea,s=o.options,l=s.animation,c=(s.elements.arc,(a.left+a.right)/2),u=(a.top+a.bottom)/2,d=s.rotation,f=s.rotation,h=r.getDataset(),p=i&&l.animateRotate?0:t.hidden?0:r.calculateCircumference(h.data[n])*(s.circumference/(2*Math.PI)),m=i&&l.animateScale?0:r.innerRadius,g=i&&l.animateScale?0:r.outerRadius,v=(t.custom||{},e.getValueAtIndexOrDefault);e.extend(t,{_datasetIndex:r.index,_index:n,_model:{x:c+o.offsetX,y:u+o.offsetY,startAngle:d,endAngle:f,circumference:p,outerRadius:g,innerRadius:m,label:v(h.label,n,o.data.labels[n])}});var y=t._model;this.removeHoverStyle(t),i&&l.animateRotate||(0===n?y.startAngle=s.rotation:y.startAngle=r.getMeta().data[n-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,n=this.getDataset(),i=this.getMeta(),r=0;return e.each(i.data,function(e,i){t=n.data[i],isNaN(t)||e.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0}})}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return n.getValueOrDefault(t.showLine,e.showLines)}var n=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(n){var i=this,r=i.chart.options,o=i.getMeta();t.DatasetController.prototype.addElementAndReset.call(i,n),e(i.getDataset(),r)&&0!==o.dataset._model.tension&&i.updateBezierControlPoints()},update:function(t){var i,r,o,a=this,s=a.getMeta(),l=s.dataset,c=s.data||[],u=a.chart.options,d=u.elements.line,f=a.getScaleForId(s.yAxisID),h=a.getDataset(),p=e(h,u);for(p&&(o=l.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),l._scale=f,l._datasetIndex=a.index,l._children=c,l._model={spanGaps:!!h.spanGaps&&h.spanGaps,tension:o.tension?o.tension:n.getValueOrDefault(h.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:h.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:h.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:h.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:h.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:h.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:h.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:h.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==h.fill?h.fill:d.fill,scaleTop:f.top,scaleBottom:f.bottom,scaleZero:f.getBasePixel()},l.pivot()),i=0,r=c.length;i<r;++i)a.updateElement(c[i],i,t);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),i=0,r=c.length;i<r;++i)c[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=t.custom||{};return o.backgroundColor?i=o.backgroundColor:r.pointBackgroundColor?i=n.getValueAtIndexOrDefault(r.pointBackgroundColor,e,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=t.custom||{};return o.borderColor?i=o.borderColor:r.pointBorderColor?i=n.getValueAtIndexOrDefault(r.pointBorderColor,e,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=t.custom||{};return o.borderWidth?i=o.borderWidth:r.pointBorderWidth?i=n.getValueAtIndexOrDefault(r.pointBorderWidth,e,i):r.borderWidth&&(i=r.borderWidth),i},updateElement:function(t,e,i){var r,o,a=this,s=a.getMeta(),l=t.custom||{},c=a.getDataset(),u=a.index,d=c.data[e],f=a.getScaleForId(s.yAxisID),h=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=h.getPixelForValue(d,e,u,a.chart.isCombo),o=i?f.getBasePixel():a.calculatePointY(d,e,u,a.chart.isCombo),t._xScale=h,t._yScale=f,t._datasetIndex=u,t._index=e,t._model={x:r,y:o,skip:l.skip||isNaN(r)||isNaN(o),radius:l.radius||n.getValueAtIndexOrDefault(c.pointRadius,e,p.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(c.pointStyle,e,p.pointStyle),backgroundColor:a.getPointBackgroundColor(t,e),borderColor:a.getPointBorderColor(t,e),borderWidth:a.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(c.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,n,i){var r,o,a,s=this,l=s.chart,c=s.getMeta(),u=s.getScaleForId(c.yAxisID),d=0,f=0;if(u.options.stacked){for(r=0;r<n;r++)o=l.data.datasets[r],a=l.getDatasetMeta(r),"line"===a.type&&l.isDatasetVisible(r)&&(o.data[e]<0?f+=o.data[e]||0:d+=o.data[e]||0);return t<0?u.getPixelForValue(f+t):u.getPixelForValue(d+t)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,r,o,a=this.getMeta(),s=(this.chart.chartArea,a.data||[]);for(t=0,e=s.length;t<e;++t)i=s[t],r=i._model,o=n.splineCurve(n.previousItem(s,t)._model,r,n.nextItem(s,t)._model,a.dataset._model.tension),r.controlPointPreviousX=o.previous.x,r.controlPointPreviousY=o.previous.y,r.controlPointNextX=o.next.x,r.controlPointNextY=o.next.y},draw:function(t){var n,i,r=this,o=r.getMeta(),a=o.data||[],s=t||1;for(n=0,i=a.length;n<i;++n)a[n].transition(s);for(e(r.getDataset(),r.chart.options)&&o.dataset.transition(s).draw(),n=0,i=a.length;n<i;++n)a[n].draw()},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;o.radius=r.hoverRadius||n.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||n.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,n.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||n.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,n.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||n.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],r=t._index,o=t.custom||{},a=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),a.radius=o.radius||n.getValueAtIndexOrDefault(i.pointRadius,r,e.chart.options.elements.point.radius),a.backgroundColor=e.getPointBackgroundColor(t,r),a.borderColor=e.getPointBorderColor(t,r),a.borderWidth=e.getPointBorderWidth(t,r)}})}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'">'),r[o]&&e.push(r[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s.custom||{},c=e.getValueAtIndexOrDefault,u=t.options.elements.arc,d=l.backgroundColor?l.backgroundColor:c(a.backgroundColor,r,u.backgroundColor),f=l.borderColor?l.borderColor:c(a.borderColor,r,u.borderColor),h=l.borderWidth?l.borderWidth:c(a.borderWidth,r,u.borderWidth);return{text:i,fillStyle:d,strokeStyle:f,lineWidth:h,hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)r=a.getDatasetMeta(n),r.data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var n=this,i=n.chart,r=i.chartArea,o=n.getMeta(),a=i.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(a.cutoutPercentage?i.outerRadius/100*a.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,o.count=n.countVisibleElements(),e.each(o.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){for(var r=this,o=r.chart,a=o.chartArea,s=r.getDataset(),l=o.options,c=l.animation,u=(l.elements.arc,t.custom||{},o.scale),d=e.getValueAtIndexOrDefault,f=o.data.labels,h=r.calculateCircumference(s.data[n]),p=(a.left+a.right)/2,m=(a.top+a.bottom)/2,g=0,v=r.getMeta(),y=0;y<n;++y)isNaN(s.data[y])||v.data[y].hidden||++g;var b=-.5*Math.PI,_=t.hidden?0:u.getDistanceFromCenterForValue(s.data[n]),w=b+h*g,x=w+(t.hidden?0:h),k=c.animateScale?0:u.getDistanceFromCenterForValue(s.data[n]);e.extend(t,{_datasetIndex:r.index,_index:n,_scale:u,_model:{x:p,y:m,innerRadius:0,outerRadius:i?k:_,startAngle:i&&c.animateRotate?b:w,endAngle:i&&c.animateRotate?b:x,label:d(f,n,f[n])}}),r.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),i=0;return e.each(n.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var n=this,i=n.getMeta(),r=i.dataset,o=i.data,a=r.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,c=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),e.extend(i.dataset,{_datasetIndex:n.index,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:e.getValueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle,scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePosition()}}),i.dataset.pivot(),e.each(o,function(e,i){n.updateElement(e,i,t)},n),n.updateBezierControlPoints()},updateElement:function(t,n,i){var r=this,o=t.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,c=s.getPointPositionForValue(n,a.data[n]);e.extend(t,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:i?s.xCenter:c.x,y:i?s.yCenter:c.y,tension:o.tension?o.tension:e.getValueOrDefault(a.tension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(a.pointRadius,n,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(a.pointBackgroundColor,n,l.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(a.pointBorderColor,n,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(a.pointBorderWidth,n,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(a.pointStyle,n,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(a.hitRadius,n,l.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,n=this.getMeta();e.each(n.data,function(i,r){var o=i._model,a=e.splineCurve(e.previousItem(n.data,r,!0)._model,o,e.nextItem(n.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),i.pivot()})},draw:function(t){var n=this.getMeta(),i=t||1;e.each(n.data,function(t,e){t.transition(i)}),n.dataset.transition(i).draw(),e.each(n.data,function(t){t.draw()})},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},r=t._index,o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},r=t._index,o=t._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(n.radius,r,a.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.pointBackgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.pointBorderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.pointBorderWidth,r,a.borderWidth);
}})}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var r=this;i||(t.animating=!0);for(var o=0;o<r.animations.length;++o)if(r.animations[o].chartInstance===t)return void(r.animations[o].animationObject=e);r.animations.push({chartInstance:t,animationObject:e}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(e){return e.chartInstance===t});n!==-1&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+n,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var r=Date.now(),o=(r-e)/t.frameDuration;t.dropFrames+=o,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){var e=this;return t.plugins.notify("beforeInit",[e]),e.bindEvents(),e.ensureScalesHaveIDs(),e.buildOrUpdateControllers(),e.buildScales(),e.updateLayout(),e.resetElements(),e.initToolTip(),e.update(),t.plugins.notify("afterInit",[e]),e},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(n){var i=this,r=i.chart,o=r.canvas,a=e.getMaximumWidth(o),s=r.aspectRatio,l=i.options.maintainAspectRatio&&isNaN(s)===!1&&isFinite(s)&&0!==s?a/s:e.getMaximumHeight(o),c=r.width!==a||r.height!==l;if(!c)return i;o.width=r.width=a,o.height=r.height=l,e.retinaScale(r);var u={width:a,height:l};return t.plugins.notify("resize",[i,u]),i.options.onResize&&i.options.onResize(i,u),n||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var t=this.options,n=t.scales||{},i=t.scale;e.each(n.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(n.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildScales:function(){var n=this,i=n.options,r=n.scales={},o=[];i.scales&&(o=o.concat((i.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(i.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),i.scale&&o.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(i,o){var a=i.options,s=e.getValueOrDefault(a.type,i.dtype),l=t.scaleService.getScaleConstructor(s);if(l){var c=new l({id:a.id,options:a,ctx:n.chart.ctx,chart:n});r[c.id]=c,i.isDefault&&(n.scale=c)}}),t.scaleService.addScalesToLayout(this)},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=this,i=[],r=[];if(e.each(n.data.datasets,function(e,o){var a=n.getDatasetMeta(o);a.type||(a.type=e.type||n.config.type),i.push(a.type),a.controller?a.controller.updateIndex(o):(a.controller=new t.controllers[a.type](n,o),r.push(a.controller))},n),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){n.isCombo=!0;break}return r},resetElements:function(){var t=this;e.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},update:function(n,i){var r=this;t.plugins.notify("beforeUpdate",[r]),r.tooltip._data=r.data;var o=r.buildOrUpdateControllers();e.each(r.data.datasets,function(t,e){r.getDatasetMeta(e).controller.buildOrUpdateElements()},r),t.layoutService.update(r,r.chart.width,r.chart.height),t.plugins.notify("afterScaleUpdate",[r]),e.each(o,function(t){t.reset()}),r.updateDatasets(),t.plugins.notify("afterUpdate",[r]),r.render(n,i)},updateDatasets:function(){var e,n,i=this;if(t.plugins.notify("beforeDatasetsUpdate",[i])){for(e=0,n=i.data.datasets.length;e<n;++e)i.getDatasetMeta(e).controller.update();t.plugins.notify("afterDatasetsUpdate",[i])}},render:function(n,i){var r=this;t.plugins.notify("beforeRender",[r]);var o=r.options.animation;if(o&&("undefined"!=typeof n&&0!==n||"undefined"==typeof n&&0!==o.duration)){var a=new t.Animation;a.numSteps=(n||o.duration)/16.66,a.easing=o.easing,a.render=function(t,n){var i=e.easingEffects[n.easing],r=n.currentStep/n.numSteps,o=i(r);t.draw(o,r,n.currentStep)},a.onAnimationProgress=o.onProgress,a.onAnimationComplete=o.onComplete,t.animationService.addAnimation(r,a,n,i)}else r.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(r);return r},draw:function(n){var i=this,r=n||1;i.clear(),t.plugins.notify("beforeDraw",[i,r]),e.each(i.boxes,function(t){t.draw(i.chartArea)},i),i.scale&&i.scale.draw(),t.plugins.notify("beforeDatasetsDraw",[i,r]),e.each(i.data.datasets,function(t,e){i.isDatasetVisible(e)&&i.getDatasetMeta(e).controller.draw(n)},i,!0),t.plugins.notify("afterDatasetsDraw",[i,r]),i.tooltip.transition(r).draw(),t.plugins.notify("afterDraw",[i,r])},getElementAtEvent:function(t){var n=this,i=e.getRelativePosition(t,n.chart),r=[];return e.each(n.data.datasets,function(t,o){if(n.isDatasetVisible(o)){var a=n.getDatasetMeta(o);e.each(a.data,function(t,e){if(t.inRange(i.x,i.y))return r.push(t),r})}}),r},getElementsAtEvent:function(t){var n=this,i=e.getRelativePosition(t,n.chart),r=[],o=function(){if(n.data.datasets)for(var t=0;t<n.data.datasets.length;t++){var e=n.getDatasetMeta(t);if(n.isDatasetVisible(t))for(var r=0;r<e.data.length;r++)if(e.data[r].inRange(i.x,i.y))return e.data[r]}}.call(n);return o?(e.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);r.push(i.data[o._index])}},n),r):r},getElementsAtEventForMode:function(t,e){var n=this;switch(e){case"single":return n.getElementAtEvent(t);case"label":return n.getElementsAtEvent(t);case"dataset":return n.getDatasetAtEvent(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var n=this;n.stop(),n.clear(),e.unbindEvents(n,n.events),e.removeResizeListener(n.chart.canvas.parentNode);var i=n.chart.canvas;i.width=n.chart.width,i.height=n.chart.height,void 0!==n.chart.originalDevicePixelRatio&&n.chart.ctx.scale(1/n.chart.originalDevicePixelRatio,1/n.chart.originalDevicePixelRatio),i.style.width=n.chart.originalCanvasStyleWidth,i.style.height=n.chart.originalCanvasStyleHeight,t.plugins.notify("destroy",[n]),delete t.instances[n.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this;e.bindEvents(t,t.options.events,function(e){t.eventHandler(e)})},updateHoverStyle:function(t,e,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":break;default:return}for(r=0,o=t.length;r<o;++r)i=t[r],i&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(t){var n=this,i=n.tooltip,r=n.options||{},o=r.hover,a=r.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===t.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(t,o.mode),n.tooltipActive=n.getElementsAtEventForMode(t,a.mode)),o.onHover&&o.onHover.call(n,n.active),"mouseup"!==t.type&&"click"!==t.type||(r.onClick&&r.onClick.call(n,t,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(t)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),(a.enabled||a.custom)&&(i.initialize(),i._active=n.tooltipActive,i.update(!0)),i.pivot(),n.animating||e.arrayEquals(n.active,n.lastActive)&&e.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(a.enabled||a.custom)&&i.update(!0),n.render(o.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(t=0,e=r.length;t<e;++t)o[t]=o[t]||n.createMetaData(i,t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this,n=e.createMetaData(t);e.getMeta().data.splice(t,0,n),e.updateElement(n,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta(),e=t.data,n=this.getDataset().data.length,i=e.length;if(n<i)e.splice(n,i-n);else if(n>i)for(var r=i;r<n;++r)this.addElementAndReset(r)},update:n,draw:function(t){var n=t||1;e.each(this.getMeta().data,function(t,e){t.transition(n).draw()})},removeHoverStyle:function(t,n){var i=this.chart.data.datasets[t._datasetIndex],r=t._index,o=t.custom||{},a=e.getValueAtIndexOrDefault,s=(e.color,t._model);s.backgroundColor=o.backgroundColor?o.backgroundColor:a(i.backgroundColor,r,n.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(i.borderColor,r,n.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(i.borderWidth,r,n.borderWidth)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=e.getValueAtIndexOrDefault,a=(e.color,e.getHoverColor),s=t._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(n.hoverBackgroundColor,i,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(n.hoverBorderColor,i,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(n.hoverBorderWidth,i,s.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var n=this;return n._view||(n._view=e.clone(n._model)),1===t?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),e.each(n._model,function(i,r){if("_"===r[0]);else if(n._view.hasOwnProperty(r))if(i===n._view[r]);else if("string"==typeof i)try{var o=e.color(n._model[r]).mix(e.color(n._start[r]),t);n._view[r]=o.rgbString()}catch(a){n._view[r]=i}else if("number"==typeof i){var s=void 0!==n._start[r]&&isNaN(n._start[r])===!1?n._start[r]:0;n._view[r]=(n._model[r]-s)*t+s}else n._view[r]=i;else"number"!=typeof i||isNaN(n._view[r])?n._view[r]=i:n._view[r]=i*t},n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],19:[function(t,e,n){"use strict";var i=t("chartjs-color");e.exports=function(t){function e(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),t.indexOf("%")!=-1&&(i=i/100*e.parentNode[n])):i=t,i}function n(t){return void 0!==t&&null!==t&&"none"!==t}function r(t,i,r){var o=document.defaultView,a=t.parentNode,s=o.getComputedStyle(t)[i],l=o.getComputedStyle(a)[i],c=n(s),u=n(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?e(s,t,r):d,u?e(l,a,r):d):"none"}var o=t.helpers={};o.each=function(t,e,n,i){var r,a;if(o.isArray(t))if(a=t.length,i)for(r=a-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if("object"==typeof t){var s=Object.keys(t);for(a=s.length,r=0;r<a;r++)e.call(n,t[s[r]],s[r])}},o.clone=function(t){var e={};return o.each(t,function(t,n){o.isArray(t)?e[n]=t.slice(0):"object"==typeof t&&null!==t?e[n]=o.clone(t):e[n]=t}),e},o.extend=function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;n++)o.each(arguments[n],e);return t},o.configMerge=function(e){var n=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,i){if("scales"===i)n[i]=o.scaleMerge(n.hasOwnProperty(i)?n[i]:{},e);else if("scale"===i)n[i]=o.configMerge(n.hasOwnProperty(i)?n[i]:{},t.scaleService.getScaleDefaults(e.type),e);else if(n.hasOwnProperty(i)&&o.isArray(n[i])&&o.isArray(e)){var r=n[i];o.each(e,function(t,e){e<r.length?"object"==typeof r[e]&&null!==r[e]&&"object"==typeof t&&null!==t?r[e]=o.configMerge(r[e],t):r[e]=t:r.push(t)})}else n.hasOwnProperty(i)&&"object"==typeof n[i]&&null!==n[i]&&"object"==typeof e?n[i]=o.configMerge(n[i],e):n[i]=e})}),n},o.scaleMerge=function(e,n){var i=o.clone(e);return o.each(n,function(e,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?o.each(e,function(e,r){var a=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(a);r>=i[n].length||!i[n][r].type?i[n].push(o.configMerge(s,e)):e.type&&e.type!==i[n][r].type?i[n][r]=o.configMerge(i[n][r],s,e):i[n][r]=o.configMerge(i[n][r],e)}):(i[n]=[],o.each(e,function(e){var r=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");i[n].push(o.configMerge(t.scaleService.getScaleDefaults(r),e))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof e?i[n]=o.configMerge(i[n],e):i[n]=e}),i},o.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:o.isArray(t)?e<t.length?t[e]:n:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,n){void 0!==n&&null!==n||(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},o.findPreviousWhere=function(t,e,n){void 0!==n&&null!==n||(n=t.length);for(var i=n-1;i>=0;i--){var r=t[i];if(e(r))return r}},o.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=o.inherits,t&&o.extend(n.prototype,t),n.__super__=e.prototype,n},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,n,i){var r=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;var d=i*c,f=i*u;return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+f*(a.x-r.x),y:o.y+f*(a.y-r.y)}}},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n,i=Math.floor(o.log10(t)),r=t/Math.pow(10,i);return n=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10,n*Math.pow(10,i)};var a=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2===(t/=.5)?1:(n||(n=1*(.3*1.5)),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.currentTarget||t.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var c=parseFloat(o.getStyle(a,"padding-left")),u=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),f=parseFloat(o.getStyle(a,"padding-bottom")),h=s.right-s.left-c-d,p=s.bottom-s.top-u-f;return n=Math.round((n-s.left-c)/h*a.width/e.currentDevicePixelRatio),i=Math.round((i-s.top-u)/p*a.height/e.currentDevicePixelRatio),{x:n,y:i}},o.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},o.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=o.noop},o.bindEvents=function(t,e,n){var i=t.events=t.events||{};o.each(e,function(e){i[e]=function(){n.apply(t,arguments)},o.addEvent(t.chart.canvas,e,i[e])})},o.unbindEvents=function(t,e){var n=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(n,e,t)})},o.getConstraintWidth=function(t){return r(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return r(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),i=e.clientWidth-n,r=o.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},o.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),i=e.clientHeight-n,r=o.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,n=t.canvas,i=n.width,r=n.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(n.height=r*o,n.width=i*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),n.style.width=i+"px",n.style.height=r+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,i){i=i||{};var r=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var s=0;o.each(n,function(e){void 0!==e&&null!==e&&o.isArray(e)!==!0?s=o.measureText(t,r,a,s,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(s=o.measureText(t,r,a,s,e))})});var l=a.length/2;if(l>n.length){for(var c=0;c<l;c++)delete r[a[c]];a.splice(0,l)}return s},o.measureText=function(t,e,n,i,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.drawRoundedRectangle=function(t,e,n,i,r,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},o.color=function(e){return i?i(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var n=document.createElement("iframe"),i="chartjs-hidden-iframe";n.classlist?n.classlist.add(i):n.setAttribute("class",i);var r=n.style;r.width="100%",r.display="block",r.border=0,r.height=0,r.margin=0,r.position="absolute",r.left=0,r.right=0,r.top=0,r.bottom=0,t.insertBefore(n,t.firstChild),(n.contentWindow||n).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var n,i,r,a;if(!t||!e||t.length!=e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!=a)return!1;return!0},o.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":39}],20:[function(t,e,n){"use strict";e.exports=function(){var t=function(e,n){var i=this,r=t.helpers;return i.config=n,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),i.ctx=e,i.canvas=e.canvas,e.canvas.style.display=e.canvas.style.display||"block",i.width=e.canvas.width||parseInt(r.getStyle(e.canvas,"width"),10)||r.getMaximumWidth(e.canvas),i.height=e.canvas.height||parseInt(r.getStyle(e.canvas,"height"),10)||r.getMaximumHeight(e.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||isFinite(i.aspectRatio)===!1)&&(i.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),i.originalCanvasStyleWidth=e.canvas.style.width,i.originalCanvasStyleHeight=e.canvas.style.height,r.retinaScale(i),n&&(i.controller=new t.Controller(i)),r.addResizeListener(e.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,n,i){function r(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?m:w,_),x-=e.height):(e=t.update(b,y),w-=e.width),k.push({horizontal:n,minSize:e,box:t})}function o(t){var n=e.findNextWhere(k,function(e){return e.box===t});if(n)if(t.isHorizontal()){var i={left:S,right:M,top:0,bottom:0};t.update(t.options.fullWidth?m:w,g/2,i)}else t.update(n.minSize.width,x)}function a(t){var n=e.findNextWhere(k,function(e){return e.box===t}),i={left:0,right:0,top:D,bottom:T};n&&t.update(n.minSize.width,x,i)}function s(t){t.isHorizontal()?(t.left=t.options.fullWidth?l:S,t.right=t.options.fullWidth?n-l:S+w,t.top=j,t.bottom=j+t.height,j=t.bottom):(t.left=O,t.right=O+t.width,t.top=D,t.bottom=D+x,O=t.right)}if(t){var l=0,c=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),d=e.where(t.boxes,function(t){return"right"===t.options.position}),f=e.where(t.boxes,function(t){return"top"===t.options.position}),h=e.where(t.boxes,function(t){return"bottom"===t.options.position}),p=e.where(t.boxes,function(t){return"chartArea"===t.options.position});f.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),h.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var m=n-2*l,g=i-2*c,v=m/2,y=g/2,b=(n-v)/(u.length+d.length),_=(i-y)/(f.length+h.length),w=m,x=g,k=[];e.each(u.concat(d,f,h),r);var S=l,M=l,D=c,T=c;e.each(u.concat(d),o),e.each(u,function(t){S+=t.width}),e.each(d,function(t){M+=t.width}),e.each(f.concat(h),o),e.each(f,function(t){D+=t.height}),e.each(h,function(t){T+=t.height}),e.each(u.concat(d),a),S=l,M=l,D=c,T=c,e.each(u,function(t){S+=t.width}),e.each(d,function(t){M+=t.width}),e.each(f,function(t){D+=t.height}),e.each(h,function(t){T+=t.height});var C=i-D-T,P=n-S-M;P===w&&C===x||(e.each(u,function(t){t.height=C}),e.each(d,function(t){t.height=C}),e.each(f,function(t){t.options.fullWidth||(t.width=P)}),e.each(h,function(t){t.options.fullWidth||(t.width=P)}),x=C,w=P);var O=l,j=c;e.each(u.concat(f),s),O+=w,j+=x,e.each(d,s),e.each(h,s),t.chartArea={left:S,top:D,right:S+w,bottom:D+x},e.each(p,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(w,x)})}}}}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var n=t.data;return e.isArray(n.datasets)?n.datasets.map(function(n,i){return{text:n.label,fillStyle:e.isArray(n.backgroundColor)?n.backgroundColor[0]:n.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,datasetIndex:i}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},
afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){var t=this;t.legendItems=t.options.labels.generateLabels.call(t,t.chart),t.options.reverse&&t.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=n.options,r=i.labels,o=i.display,a=n.ctx,s=t.defaults.global,l=e.getValueOrDefault,c=l(r.fontSize,s.defaultFontSize),u=l(r.fontStyle,s.defaultFontStyle),d=l(r.fontFamily,s.defaultFontFamily),f=e.fontString(c,u,d),h=n.legendHitBoxes=[],p=n.minSize,m=n.isHorizontal();if(m?(p.width=n.maxWidth,p.height=o?10:0):(p.width=o?10:0,p.height=n.maxHeight),o)if(a.font=f,m){var g=n.lineWidths=[0],v=n.legendItems.length?c+r.padding:0;a.textAlign="left",a.textBaseline="top",e.each(n.legendItems,function(t,e){var i=r.boxWidth+c/2+a.measureText(t.text).width;g[g.length-1]+i+r.padding>=n.width&&(v+=c+r.padding,g[g.length]=n.left),h[e]={left:0,top:0,width:i,height:c},g[g.length-1]+=i+r.padding}),p.height+=v}else{var y=r.padding,b=n.columnWidths=[],_=r.padding,w=0,x=0,k=c+y;e.each(n.legendItems,function(t,e){var n=r.boxWidth+c/2+a.measureText(t.text).width;x+k>p.height&&(_+=w+r.padding,b.push(w),w=0,x=0),w=Math.max(w,n),x+=k,h[e]={left:0,top:0,width:n,height:c}}),_+=w,b.push(w),p.width+=_}n.width=p.width,n.height=p.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,i=n.options,r=i.labels,o=t.defaults.global,a=o.elements.line,s=n.width,l=(n.height,n.lineWidths);if(i.display){var c,u=n.ctx,d=e.getValueOrDefault,f=d(r.fontColor,o.defaultFontColor),h=d(r.fontSize,o.defaultFontSize),p=d(r.fontStyle,o.defaultFontStyle),m=d(r.fontFamily,o.defaultFontFamily),g=e.fontString(h,p,m);u.textAlign="left",u.textBaseline="top",u.lineWidth=.5,u.strokeStyle=f,u.fillStyle=f,u.font=g;var v=r.boxWidth,y=n.legendHitBoxes,b=function(t,e,n){u.save(),u.fillStyle=d(n.fillStyle,o.defaultColor),u.lineCap=d(n.lineCap,a.borderCapStyle),u.lineDashOffset=d(n.lineDashOffset,a.borderDashOffset),u.lineJoin=d(n.lineJoin,a.borderJoinStyle),u.lineWidth=d(n.lineWidth,a.borderWidth),u.strokeStyle=d(n.strokeStyle,o.defaultColor),u.setLineDash&&u.setLineDash(d(n.lineDash,a.borderDash)),u.strokeRect(t,e,v,h),u.fillRect(t,e,v,h),u.restore()},_=function(t,e,n,i){u.fillText(n.text,v+h/2+t,e),n.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(v+h/2+t,e+h/2),u.lineTo(v+h/2+t+i,e+h/2),u.stroke())},w=n.isHorizontal();c=w?{x:n.left+(s-l[0])/2,y:n.top+r.padding,line:0}:{x:n.left+r.padding,y:n.top,line:0};var x=h+r.padding;e.each(n.legendItems,function(t,e){var i=u.measureText(t.text).width,o=v+h/2+i,a=c.x,d=c.y;w?a+o>=s&&(d=c.y+=h+r.padding,c.line++,a=c.x=n.left+(s-l[c.line])/2):d+x>n.bottom&&(a=c.x=a+n.columnWidths[c.line]+r.padding,d=c.y=n.top,c.line++),b(a,d,t),y[e].left=a,y[e].top=d,_(a,d,t,i),w?c.x+=o+r.padding:c.y+=x})}},handleEvent:function(t){var n=this,i=e.getRelativePosition(t,n.chart.chart),r=i.x,o=i.y,a=n.options;if(r>=n.left&&r<=n.right&&o>=n.top&&o<=n.bottom)for(var s=n.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(r>=c.left&&r<=c.left+c.width&&o>=c.top&&o<=c.top+c.height){a.onClick&&a.onClick.call(n,t,n.legendItems[l]);break}}}}),t.plugins.register({beforeInit:function(e){var n=e.options,i=n.legend;i&&(e.legend=new t.Legend({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.legend))}})}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers.noop;t.plugins={_plugins:[],register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)})},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e){var n,i,r=this._plugins,o=r.length;for(n=0;n<o;++n)if(i=r[n],"function"==typeof i[t]&&i[t].apply(i,e||[])===!1)return!1;return!0}},t.PluginBase=t.Element.extend({beforeInit:e,afterInit:e,beforeUpdate:e,afterUpdate:e,beforeDraw:e,afterDraw:e,destroy:e}),t.pluginService=t.plugins}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return e.isArray(t)?t:""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,n,i){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=n,r.margins=e.extend({left:0,right:0,top:0,bottom:0},i),r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this;t.ticks=t.ticks.map(function(e,n,i){return t.options.ticks.userCallback?t.options.ticks.userCallback(e,n,i):t.options.ticks.callback(e,n,i)},t)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this,i=n.ctx,r=t.defaults.global,o=n.options.ticks,a=e.getValueOrDefault(o.fontSize,r.defaultFontSize),s=e.getValueOrDefault(o.fontStyle,r.defaultFontStyle),l=e.getValueOrDefault(o.fontFamily,r.defaultFontFamily),c=e.fontString(a,s,l);i.font=c;var u,d=i.measureText(n.ticks[0]).width,f=i.measureText(n.ticks[n.ticks.length-1]).width;if(n.labelRotation=o.minRotation||0,n.paddingRight=0,n.paddingLeft=0,n.options.display&&n.isHorizontal()){n.paddingRight=f/2+3,n.paddingLeft=d/2+3,n.longestTextCache||(n.longestTextCache={});for(var h,p,m=e.longestText(i,c,n.ticks,n.longestTextCache),g=m,v=n.getPixelForTick(1)-n.getPixelForTick(0)-6;g>v&&n.labelRotation<o.maxRotation;){if(h=Math.cos(e.toRadians(n.labelRotation)),p=Math.sin(e.toRadians(n.labelRotation)),u=h*d,u+a/2>n.yLabelWidth&&(n.paddingLeft=u+a/2),n.paddingRight=a/2,p*m>n.maxHeight){n.labelRotation--;break}n.labelRotation++,g=h*m}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},r=n.options,o=t.defaults.global,a=r.ticks,s=r.scaleLabel,l=r.display,c=n.isHorizontal(),u=e.getValueOrDefault(a.fontSize,o.defaultFontSize),d=e.getValueOrDefault(a.fontStyle,o.defaultFontStyle),f=e.getValueOrDefault(a.fontFamily,o.defaultFontFamily),h=e.fontString(u,d,f),p=e.getValueOrDefault(s.fontSize,o.defaultFontSize),m=e.getValueOrDefault(s.fontStyle,o.defaultFontStyle),g=e.getValueOrDefault(s.fontFamily,o.defaultFontFamily),v=(e.fontString(p,m,g),r.gridLines.tickMarkLength);if(c?i.width=n.isFullWidth()?n.maxWidth-n.margins.left-n.margins.right:n.maxWidth:i.width=l?v:0,c?i.height=l?v:0:i.height=n.maxHeight,s.display&&l&&(c?i.height+=1.5*p:i.width+=1.5*p),a.display&&l){n.longestTextCache||(n.longestTextCache={});var y=e.longestText(n.ctx,h,n.ticks,n.longestTextCache),b=e.numberOfLabelLines(n.ticks),_=.5*u;if(c){n.longestLabelWidth=y;var w=Math.sin(e.toRadians(n.labelRotation))*n.longestLabelWidth+u*b+_*b;i.height=Math.min(n.maxHeight,i.height+w),n.ctx.font=h;var x=n.ctx.measureText(n.ticks[0]).width,k=n.ctx.measureText(n.ticks[n.ticks.length-1]).width,S=Math.cos(e.toRadians(n.labelRotation)),M=Math.sin(e.toRadians(n.labelRotation));n.paddingLeft=0!==n.labelRotation?S*x+3:x/2+3,n.paddingRight=0!==n.labelRotation?M*(u/2)+3:k/2+3}else{var D=n.maxWidth-i.width,T=a.mirror;T?y=0:y+=n.options.ticks.padding,y<D?i.width+=y:i.width=n.maxWidth,n.paddingTop=u/2,n.paddingBottom=u/2}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingTop=Math.max(n.paddingTop-n.margins.top,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0),n.paddingBottom=Math.max(n.paddingBottom-n.margins.bottom,0)),n.width=i.width,n.height=i.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function n(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:n(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){var n=this;if(n.isHorizontal()){var i=n.width-(n.paddingLeft+n.paddingRight),r=i/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),o=r*t+n.paddingLeft;e&&(o+=r/2);var a=n.left+Math.round(o);return a+=n.isFullWidth()?n.margins.left:0}var s=n.height-(n.paddingTop+n.paddingBottom);return n.top+t*(s/(n.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),i=n*t+e.paddingLeft,r=e.left+Math.round(i);return r+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){var t=this,e=t.min,n=t.max;return t.getPixelForValue(t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(n){var i=this,r=i.options;if(r.display){var o,a,s=i.ctx,l=t.defaults.global,c=r.ticks,u=r.gridLines,d=r.scaleLabel,f=0!==i.labelRotation,h=c.autoSkip,p=i.isHorizontal();c.maxTicksLimit&&(a=c.maxTicksLimit);var m=e.getValueOrDefault(c.fontColor,l.defaultFontColor),g=e.getValueOrDefault(c.fontSize,l.defaultFontSize),v=e.getValueOrDefault(c.fontStyle,l.defaultFontStyle),y=e.getValueOrDefault(c.fontFamily,l.defaultFontFamily),b=e.fontString(g,v,y),_=u.tickMarkLength,w=e.getValueOrDefault(d.fontColor,l.defaultFontColor),x=e.getValueOrDefault(d.fontSize,l.defaultFontSize),k=e.getValueOrDefault(d.fontStyle,l.defaultFontStyle),S=e.getValueOrDefault(d.fontFamily,l.defaultFontFamily),M=e.fontString(x,k,S),D=e.toRadians(i.labelRotation),T=Math.cos(D),C=(Math.sin(D),i.longestLabelWidth*T);s.fillStyle=m;var P=[];if(p){if(o=!1,f&&(C/=2),(C+c.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((C+c.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),a&&i.ticks.length>a)for(;!o||i.ticks.length/(o||1)>a;)o||(o=1),o+=1;h||(o=!1)}var O="right"===r.position?i.left:i.right-_,j="right"===r.position?i.left+_:i.right,I="bottom"===r.position?i.top:i.bottom-_,A="bottom"===r.position?i.top+_:i.bottom;if(e.each(i.ticks,function(t,a){if(void 0!==t&&null!==t){var s=i.ticks.length===a+1,l=o>1&&a%o>0||a%o===0&&a+o>=i.ticks.length;if((!l||s)&&void 0!==t&&null!==t){var d,h;a===("undefined"!=typeof i.zeroLineIndex?i.zeroLineIndex:0)?(d=u.zeroLineWidth,h=u.zeroLineColor):(d=e.getValueAtIndexOrDefault(u.lineWidth,a),h=e.getValueAtIndexOrDefault(u.color,a));var m,g,v,y,b,w,x,k,S,M,T,C="middle";if(p){f||(C="top"===r.position?"bottom":"top"),T=f?"right":"center";var F=i.getPixelForTick(a)+e.aliasPixel(d);S=i.getPixelForTick(a,u.offsetGridLines)+c.labelOffset,M=f?i.top+12:"top"===r.position?i.bottom-_:i.top+_,m=v=b=x=F,g=I,y=A,w=n.top,k=n.bottom}else{"left"===r.position?c.mirror?(S=i.right+c.padding,T="left"):(S=i.right-c.padding,T="right"):c.mirror?(S=i.left-c.padding,T="right"):(S=i.left+c.padding,T="left");var E=i.getPixelForTick(a);E+=e.aliasPixel(d),M=i.getPixelForTick(a,u.offsetGridLines),m=O,v=j,b=n.left,x=n.right,g=y=w=k=E}P.push({tx1:m,ty1:g,tx2:v,ty2:y,x1:b,y1:w,x2:x,y2:k,labelX:S,labelY:M,glWidth:d,glColor:h,rotation:-1*D,label:t,textBaseline:C,textAlign:T})}}}),e.each(P,function(t){if(u.display&&(s.lineWidth=t.glWidth,s.strokeStyle=t.glColor,s.beginPath(),u.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke()),c.display){s.save(),s.translate(t.labelX,t.labelY),s.rotate(t.rotation),s.font=b,s.textBaseline=t.textBaseline,s.textAlign=t.textAlign;var n=t.label;if(e.isArray(n))for(var i=0,r=0;i<n.length;++i)s.fillText(""+n[i],0,r),r+=1.5*g;else s.fillText(n,0,0);s.restore()}}),d.display){var F,E,R=0;if(p)F=i.left+(i.right-i.left)/2,E="bottom"===r.position?i.bottom-x/2:i.top+x/2;else{var L="left"===r.position;F=L?i.left+x/2:i.right-x/2,E=i.top+(i.bottom-i.top)/2,R=L?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(F,E),s.rotate(R),s.textAlign="center",s.textBaseline="middle",s.fillStyle=w,s.font=M,s.fillText(d.labelString,0,0),s.restore()}if(u.drawBorder){s.lineWidth=e.getValueAtIndexOrDefault(u.lineWidth,0),s.strokeStyle=e.getValueAtIndexOrDefault(u.color,0);var V=i.left,Y=i.right,W=i.top,B=i.bottom,N=e.aliasPixel(s.lineWidth);p?(W=B="top"===r.position?i.bottom:i.top,W+=N,B+=N):(V=Y="left"===r.position?i.right:i.left,V+=N,Y+=N),s.beginPath(),s.moveTo(V,W),s.lineTo(Y,B),s.stroke()}}}})}},{}],25:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,n,i){this.constructors[t]=n,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?e.scaleMerge(t.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(t,n){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],n))},addScalesToLayout:function(n){e.each(n.scales,function(e){t.layoutService.addBox(n,e)})}}}},{}],26:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=e.noop;t.Title=t.Element.extend({initialize:function(n){var i=this;e.extend(i,n),i.options=e.configMerge(t.defaults.global.title,n.options),i.legendHitBoxes=[]},beforeUpdate:function(){var n=this.chart.options;n&&n.title&&(this.options=e.configMerge(t.defaults.global.title,n.title))},update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=(n.ctx,e.getValueOrDefault),r=n.options,o=t.defaults.global,a=r.display,s=i(r.fontSize,o.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=a?s+2*r.padding:0):(l.width=a?s+2*r.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var n=this,i=n.ctx,r=e.getValueOrDefault,o=n.options,a=t.defaults.global;if(o.display){var s,l,c=r(o.fontSize,a.defaultFontSize),u=r(o.fontStyle,a.defaultFontStyle),d=r(o.fontFamily,a.defaultFontFamily),f=e.fontString(c,u,d),h=0,p=n.top,m=n.left,g=n.bottom,v=n.right;i.fillStyle=r(o.fontColor,a.defaultFontColor),i.font=f,n.isHorizontal()?(s=m+(v-m)/2,l=p+(g-p)/2):(s="left"===o.position?m+c/2:v-c/2,l=p+(g-p)/2,h=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(h),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}}),t.plugins.register({beforeInit:function(e){var n=e.options,i=n.title;i&&(e.titleBlock=new t.Title({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.titleBlock))}})}},{}],27:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return e&&(r.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function n(t){if(!t.length)return!1;var e,n,i=[],r=[];for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var a=o.tooltipPosition();i.push(a.x),r.push(a.y)}}var s=0,l=0;for(e=0,n-i.length;e<n;++e)s+=i[e],l+=r[e];return{x:Math.round(s/i.length),y:Math.round(l/i.length)}}function i(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,r=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r}}var r=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:r.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:r.noop,beforeBody:r.noop,beforeLabel:r.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n+": "+t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex),i=n.data[t.index],r=i._view;return{borderColor:r.borderColor,backgroundColor:r.backgroundColor}},afterLabel:r.noop,afterBody:r.noop,beforeFooter:r.noop,footer:r.noop,afterFooter:r.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this,n=t.defaults.global,i=e._options,o=r.getValueOrDefault;r.extend(e,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.yAlign,yAlign:i.xAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:o(i.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:o(i.bodyFontStyle,n.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:o(i.bodyFontSize,n.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:o(i.titleFontFamily,n.defaultFontFamily),_titleFontStyle:o(i.titleFontStyle,n.defaultFontStyle),titleFontSize:o(i.titleFontSize,n.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:o(i.footerFontFamily,n.defaultFontFamily),_footerFontStyle:o(i.footerFontStyle,n.defaultFontStyle),footerFontSize:o(i.footerFontSize,n.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var t=this,n=t._options,i=n.callbacks,r=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),a=i.afterTitle.apply(t,arguments),s=[];return s=e(s,r),s=e(s,o),s=e(s,a)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return r.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,n){var i=this,o=i._options.callbacks,a=[];return r.each(t,function(t){var r={before:[],lines:[],after:[]};e(r.before,o.beforeLabel.call(i,t,n)),e(r.lines,o.label.call(i,t,n)),e(r.after,o.afterLabel.call(i,t,n)),a.push(r)}),a},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return r.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,n=t._options.callbacks,i=n.beforeFooter.apply(t,arguments),r=n.footer.apply(t,arguments),o=n.afterFooter.apply(t,arguments),a=[];return a=e(a,i),a=e(a,r),a=e(a,o)},update:function(t){var e,o,a=this,s=a._options,l=a._model,c=a._active,u=a._data,d=a._chartInstance;if(c.length){l.opacity=1;var f=[],h=n(c),p=[];for(e=0,o=c.length;e<o;++e)p.push(i(c[e]));s.itemSort&&(p=p.sort(s.itemSort)),c.length>1&&r.each(p,function(t){f.push(s.callbacks.labelColor.call(a,t,d))}),r.extend(l,{title:a.getTitle(p,u),beforeBody:a.getBeforeBody(p,u),body:a.getBody(p,u),afterBody:a.getAfterBody(p,u),footer:a.getFooter(p,u),x:Math.round(h.x),y:Math.round(h.y),caretPadding:r.getValueOrDefault(h.padding,2),labelColors:f});var m=a.getTooltipSize(l);a.determineAlignment(m),r.extend(l,a.getBackgroundPoint(l,m))}else a._model.opacity=0;return t&&s.custom&&s.custom.call(a,l),a},getTooltipSize:function(t){var e=this._chart.ctx,n={height:2*t.yPadding,width:0},i=t.body,o=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=t.beforeBody.length+t.afterBody.length;var a=t.title.length,s=t.footer.length,l=t.titleFontSize,c=t.bodyFontSize,u=t.footerFontSize;n.height+=a*l,n.height+=(a-1)*t.titleSpacing,n.height+=a?t.titleMarginBottom:0,n.height+=o*c,n.height+=o?(o-1)*t.bodySpacing:0,n.height+=s?t.footerMarginTop:0,n.height+=s*u,n.height+=s?(s-1)*t.footerSpacing:0;var d=0,f=function(t){n.width=Math.max(n.width,e.measureText(t).width+d)};return e.font=r.fontString(l,t._titleFontStyle,t._titleFontFamily),r.each(t.title,f),e.font=r.fontString(c,t._bodyFontStyle,t._bodyFontFamily),r.each(t.beforeBody.concat(t.afterBody),f),d=i.length>1?c+2:0,r.each(i,function(t){r.each(t.before,f),r.each(t.lines,f),r.each(t.after,f)}),d=0,e.font=r.fontString(u,t._footerFontStyle,t._footerFontFamily),r.each(t.footer,f),n.width+=2*t.xPadding,n},determineAlignment:function(t){var e=this,n=e._model,i=e._chart,r=e._chartInstance.chartArea;n.y<t.height?n.yAlign="top":n.y>i.height-t.height&&(n.yAlign="bottom");var o,a,s,l,c,u=(r.left+r.right)/2,d=(r.top+r.bottom)/2;"center"===n.yAlign?(o=function(t){return t<=u},a=function(t){return t>u}):(o=function(e){return e<=t.width/2},a=function(e){return e>=i.width-t.width/2}),s=function(e){return e+t.width>i.width},l=function(e){return e-t.width<0},c=function(t){return t<=d?"top":"bottom"},o(n.x)?(n.xAlign="left",s(n.x)&&(n.xAlign="center",n.yAlign=c(n.y))):a(n.x)&&(n.xAlign="right",l(n.x)&&(n.xAlign="center",n.yAlign=c(n.y)))},getBackgroundPoint:function(t,e){var n={x:t.x,y:t.y},i=t.caretSize,r=t.caretPadding,o=t.cornerRadius,a=t.xAlign,s=t.yAlign,l=i+r,c=o+r;return"right"===a?n.x-=e.width:"center"===a&&(n.x-=e.width/2),"top"===s?n.y+=l:"bottom"===s?n.y-=e.height+l:n.y-=e.height/2,"center"===s?"left"===a?n.x+=l:"right"===a&&(n.x-=l):"left"===a?n.x-=c:"right"===a&&(n.x+=c),n},drawCaret:function(t,e,n,i){var o,a,s,l,c,u,d=this._view,f=this._chart.ctx,h=d.caretSize,p=d.cornerRadius,m=d.xAlign,g=d.yAlign,v=t.x,y=t.y,b=e.width,_=e.height;"center"===g?("left"===m?(o=v,a=o-h,s=o):(o=v+b,a=o+h,s=o),c=y+_/2,l=c-h,u=c+h):("left"===m?(o=v+p,a=o+h,s=a+h):"right"===m?(o=v+b-p,a=o-h,s=a-h):(a=v+b/2,o=a-h,s=a+h),"top"===g?(l=y,c=l-h,u=l):(l=y+_,c=l+h,u=l));var w=r.color(d.backgroundColor);f.fillStyle=w.alpha(n*w.alpha()).rgbString(),f.beginPath(),f.moveTo(o,l),f.lineTo(a,c),f.lineTo(s,u),f.closePath(),f.fill()},drawTitle:function(t,e,n,i){var o=e.title;if(o.length){n.textAlign=e._titleAlign,n.textBaseline="top";var a=e.titleFontSize,s=e.titleSpacing,l=r.color(e.titleFontColor);n.fillStyle=l.alpha(i*l.alpha()).rgbString(),n.font=r.fontString(a,e._titleFontStyle,e._titleFontFamily);var c,u;for(c=0,u=o.length;c<u;++c)n.fillText(o[c],t.x,t.y),t.y+=a+s,c+1===o.length&&(t.y+=e.titleMarginBottom-s)}},drawBody:function(t,e,n,i){var o=e.bodyFontSize,a=e.bodySpacing,s=e.body;n.textAlign=e._bodyAlign,n.textBaseline="top";var l=r.color(e.bodyFontColor),c=l.alpha(i*l.alpha()).rgbString();n.fillStyle=c,n.font=r.fontString(o,e._bodyFontStyle,e._bodyFontFamily);var u=0,d=function(e){n.fillText(e,t.x+u,t.y),t.y+=o+a};r.each(e.beforeBody,d);var f=s.length>1;u=f?o+2:0,r.each(s,function(a,s){r.each(a.before,d),r.each(a.lines,function(a){f&&(n.fillStyle=r.color(e.legendColorBackground).alpha(i).rgbaString(),n.fillRect(t.x,t.y,o,o),n.strokeStyle=r.color(e.labelColors[s].borderColor).alpha(i).rgbaString(),n.strokeRect(t.x,t.y,o,o),n.fillStyle=r.color(e.labelColors[s].backgroundColor).alpha(i).rgbaString(),n.fillRect(t.x+1,t.y+1,o-2,o-2),n.fillStyle=c),d(a)}),r.each(a.after,d)}),u=0,r.each(e.afterBody,d),t.y-=a},drawFooter:function(t,e,n,i){var o=e.footer;if(o.length){t.y+=e.footerMarginTop,n.textAlign=e._footerAlign,n.textBaseline="top";var a=r.color(e.footerFontColor);n.fillStyle=a.alpha(i*a.alpha()).rgbString(),n.font=r.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),r.each(o,function(i){n.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n=this.getTooltipSize(e),i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.enabled){var a=r.color(e.backgroundColor);t.fillStyle=a.alpha(o*a.alpha()).rgbString(),r.drawRoundedRectangle(t,i.x,i.y,n.width,n.height,e.cornerRadius),t.fill(),this.drawCaret(i,n,o,e.caretPadding),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,o),this.drawBody(i,e,t,o),this.drawFooter(i,e,t,o)}}}})}},{}],28:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.helpers,i=t.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var r=n.getAngleFromPoint(i,{x:t,y:e}),o=r.angle,a=r.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var c=o>=s&&o<=l,u=a>=i.innerRadius&&a<=i.outerRadius;return c&&u}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,n,i,r){var o=this,a=o._chart.ctx,s=!!o._view&&o._view.spanGaps;e._view.skip&&!s?i.call(o,t,e,n):t._view.skip&&!s?r.call(o,t,e,n):0===e._view.tension?a.lineTo(e._view.x,e._view.y):a.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function t(t){a._view.skip||s._view.skip?t&&o.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):o.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,a._view.controlPointPreviousX,a._view.controlPointPreviousY,a._view.x,a._view.y)}var i=this,r=i._view,o=i._chart.ctx,a=i._children[0],s=i._children[i._children.length-1];o.save(),i._children.length>0&&r.fill&&(o.beginPath(),e.each(i._children,function(t,n){var a=e.previousItem(i._children,n),s=e.nextItem(i._children,n);0===n?(i._loop?o.moveTo(r.scaleZero.x,r.scaleZero.y):o.moveTo(t._view.x,r.scaleZero),t._view.skip?i._loop||o.moveTo(s._view.x,i._view.scaleZero):o.lineTo(t._view.x,t._view.y)):i.lineToNextPoint(a,t,s,function(t,e,n){i._loop?o.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):(o.lineTo(t._view.x,i._view.scaleZero),o.moveTo(n._view.x,i._view.scaleZero))},function(t,e){o.lineTo(e._view.x,e._view.y)})},i),i._loop?t(!0):(o.lineTo(i._children[i._children.length-1]._view.x,r.scaleZero),o.lineTo(i._children[0]._view.x,r.scaleZero)),o.fillStyle=r.backgroundColor||n.defaultColor,o.closePath(),o.fill());var l=n.elements.line;o.lineCap=r.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||l.borderDash),o.lineDashOffset=r.borderDashOffset||l.borderDashOffset,o.lineJoin=r.borderJoinStyle||l.borderJoinStyle,o.lineWidth=r.borderWidth||l.borderWidth,o.strokeStyle=r.borderColor||n.defaultColor,o.beginPath(),e.each(i._children,function(t,n){var r=e.previousItem(i._children,n),a=e.nextItem(i._children,n);0===n?o.moveTo(t._view.x,t._view.y):i.lineToNextPoint(r,t,a,function(t,e,n){o.moveTo(n._view.x,n._view.y)},function(t,e){o.moveTo(e._view.x,e._view.y)})},i),i._loop&&i._children.length>0&&t(),o.stroke(),o.restore()}})}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,i=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t,r,o,a,s,l,c=this._view,u=this._chart.ctx,d=c.pointStyle,f=c.radius,h=c.x,p=c.y;if(!c.skip){if("object"==typeof d&&(t=d.toString(),"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t))return void u.drawImage(d,h-d.width/2,p-d.height/2);if(!(isNaN(f)||f<=0)){switch(u.strokeStyle=c.borderColor||i,u.lineWidth=e.getValueOrDefault(c.borderWidth,n.elements.point.borderWidth),u.fillStyle=c.backgroundColor||i,d){default:u.beginPath(),u.arc(h,p,f,0,2*Math.PI),u.closePath(),u.fill();break;case"triangle":u.beginPath(),r=3*f/Math.sqrt(3),s=r*Math.sqrt(3)/2,u.moveTo(h-r/2,p+s/3),u.lineTo(h+r/2,p+s/3),u.lineTo(h,p-2*s/3),u.closePath(),u.fill();break;case"rect":l=1/Math.SQRT2*f,u.fillRect(h-l,p-l,2*l,2*l),u.strokeRect(h-l,p-l,2*l,2*l);break;case"rectRot":l=1/Math.SQRT2*f,u.beginPath(),u.moveTo(h-l,p),u.lineTo(h,p+l),u.lineTo(h+l,p),u.lineTo(h,p-l),u.closePath(),u.fill();break;case"cross":u.beginPath(),u.moveTo(h,p+f),u.lineTo(h,p-f),u.moveTo(h-f,p),u.lineTo(h+f,p),u.closePath();break;case"crossRot":u.beginPath(),o=Math.cos(Math.PI/4)*f,a=Math.sin(Math.PI/4)*f,u.moveTo(h-o,p-a),u.lineTo(h+o,p+a),u.moveTo(h-o,p+a),u.lineTo(h+o,p-a),u.closePath();break;case"star":u.beginPath(),u.moveTo(h,p+f),u.lineTo(h,p-f),u.moveTo(h-f,p),u.lineTo(h+f,p),o=Math.cos(Math.PI/4)*f,a=Math.sin(Math.PI/4)*f,u.moveTo(h-o,p-a),u.lineTo(h+o,p+a),u.moveTo(h-o,p+a),u.lineTo(h+o,p-a),u.closePath();break;case"line":u.beginPath(),u.moveTo(h-f,p),u.lineTo(h+f,p),u.closePath();break;case"dash":u.beginPath(),u.moveTo(h,p),u.lineTo(h+f,p),u.closePath()}u.stroke()}}}})}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){var e=(t.helpers,t.defaults.global);e.elements.rectangle={backgroundColor:e.defaultColor,
borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,i=n.width/2,r=n.x-i,o=n.x+i,a=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(r+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[r,n.base],[r,a],[o,a],[o,n.base]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);u===-1&&(u=0),e.moveTo.apply(e,t(0));for(var d=1;d<4;d++)e.lineTo.apply(e,t(d));e.fill(),n.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=this._view;return!!n&&(n.y<n.base?t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.y&&e<=n.base:t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.base&&e<=n.y)},inLabelRange:function(t){var e=this._view;return!!e&&(t>=e.x-e.width/2&&t<=e.x+e.width/2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},i=t.Scale.extend({determineDataLimits:function(){var t=this;t.minIndex=0,t.maxIndex=t.chart.data.labels.length-1;var n;void 0!==t.options.ticks.min&&(n=e.indexOf(t.chart.data.labels,t.options.ticks.min),t.minIndex=n!==-1?n:t.minIndex),void 0!==t.options.ticks.max&&(n=e.indexOf(t.chart.data.labels,t.options.ticks.max),t.maxIndex=n!==-1?n:t.maxIndex),t.min=t.chart.data.labels[t.minIndex],t.max=t.chart.data.labels[t.maxIndex]},buildTicks:function(t){var e=this;e.ticks=0===e.minIndex&&e.maxIndex===e.chart.data.labels.length-1?e.chart.data.labels:e.chart.data.labels.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,n,i){var r=this,o=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(r.isHorizontal()){var a=r.width-(r.paddingLeft+r.paddingRight),s=a/o,l=s*(e-r.minIndex)+r.paddingLeft;return r.options.gridLines.offsetGridLines&&i&&(l+=s/2),r.left+Math.round(l)}var c=r.height-(r.paddingTop+r.paddingBottom),u=c/o,d=u*(e-r.minIndex)+r.paddingTop;return r.options.gridLines.offsetGridLines&&i&&(d+=u/2),r.top+Math.round(d)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,n=this,i=Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=n.isHorizontal(),o=r?n.width-(n.paddingLeft+n.paddingRight):n.height-(n.paddingTop+n.paddingBottom),a=o/i;return n.options.gridLines.offsetGridLines&&(t-=a/2),t-=r?n.paddingLeft:n.paddingTop,e=t<=0?0:Math.round(t/a)}});t.scaleService.registerScaleType("category",i,n)}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));var o=e.log10(Math.abs(r)),a="";if(0!==t){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a}}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,r=(i.ticks,n.chart),o=r.data,a=o.datasets,s=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var l={},c=!1,u=!1;e.each(a,function(o,a){var s=r.getDatasetMeta(a);void 0===l[s.type]&&(l[s.type]={positiveValues:[],negativeValues:[]});var d=l[s.type].positiveValues,f=l[s.type].negativeValues;r.isDatasetVisible(a)&&t(s)&&e.each(o.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||s.data[e].hidden||(d[e]=d[e]||0,f[e]=f[e]||0,i.relativePoints?d[e]=100:r<0?(u=!0,f[e]+=r):(c=!0,d[e]+=r))})}),e.each(l,function(t){var i=t.positiveValues.concat(t.negativeValues),r=e.min(i),o=e.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?o:Math.max(n.max,o)})}else e.each(a,function(i,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&t(a)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,r=i.options.ticks;if(i.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=e.getValueOrDefault(r.fontSize,t.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t,e,n,i){var r,o,a=this,s=a.paddingLeft,l=a.paddingBottom,c=a.start,u=+a.getRightValue(t),d=a.end-c;return a.isHorizontal()?(o=a.width-(s+a.paddingRight),r=a.left+o/d*(u-c),Math.round(r+s)):(o=a.height-(a.paddingTop+l),r=a.bottom-l-o/d*(u-c),Math.round(r))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=e.paddingLeft,r=e.paddingBottom,o=n?e.width-(i+e.paddingRight):e.height-(e.paddingTop+r),a=(n?t-e.left-i:e.bottom-r-t)/o;return e.start+(e.end-e.start)*a},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",i,n)}},{}],34:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,n=t.options,i=n.ticks;if(i.beginAtZero){var r=e.sign(t.min),o=e.sign(t.max);r<0&&o<0?t.max=0:r>0&&o>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var t=this,n=t.options,i=n.ticks,r=e.getValueOrDefault,o=(t.isHorizontal(),t.ticks=[]),a=t.getTickLimit();a=Math.max(2,a);var s,l=i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0;if(l)s=r(i.fixedStepSize,i.stepSize);else{var c=e.niceNum(t.max-t.min,!1);s=e.niceNum(c/(a-1),!0)}var u=Math.floor(t.min/s)*s,d=Math.ceil(t.max/s)*s,f=(d-u)/s;f=e.almostEquals(f,Math.round(f),s/1e3)?Math.round(f):Math.ceil(f),o.push(void 0!==i.min?i.min:u);for(var h=1;h<f;++h)o.push(u+h*s);o.push(void 0!==i.max?i.max:d),t.handleDirectionalChanges(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,i){var r=t/Math.pow(10,Math.floor(e.log10(t)));return 1===r||2===r||5===r||0===n||n===i.length-1?t.toExponential():""}}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return c?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,o=n.chart,a=o.data,s=a.datasets,l=e.getValueOrDefault,c=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var u={};e.each(s,function(r,a){var s=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(s)&&(void 0===u[s.type]&&(u[s.type]=[]),e.each(r.data,function(t,e){var r=u[s.type],o=+n.getRightValue(t);isNaN(o)||s.data[e].hidden||(r[e]=r[e]||0,i.relativePoints?r[e]=100:r[e]+=o)}))}),e.each(u,function(t){var i=e.min(t),r=e.max(t);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)})}else e.each(s,function(i,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&t(a)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=l(r.min,n.min),n.max=l(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(e.log10(n.min))-1),n.max=Math.pow(10,Math.floor(e.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var t=this,n=t.options,i=n.ticks,r=e.getValueOrDefault,o=t.ticks=[],a=r(i.min,Math.pow(10,Math.floor(e.log10(t.min))));a<t.max;){o.push(a);var s=Math.floor(e.log10(a)),l=Math.floor(a/Math.pow(10,s))+1;10===l&&(l=1,++s),a=l*Math.pow(10,s)}var c=r(i.max,a);o.push(c),t.isHorizontal()||o.reverse(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,n,i,r){var o,a,s=this,l=s.start,c=+s.getRightValue(t),u=e.log10(s.end)-e.log10(l),d=s.paddingTop,f=s.paddingBottom,h=s.paddingLeft;return s.isHorizontal()?0===c?a=s.left+h:(o=s.width-(h+s.paddingRight),a=s.left+o/u*(e.log10(c)-e.log10(l)),a+=h):0===c?a=s.top+d:(o=s.height-(d+f),a=s.bottom-f-o/u*(e.log10(c)-e.log10(l))),a},getValueForPixel:function(t){var n,i,r=this,o=e.log10(r.end)-e.log10(r.start);return r.isHorizontal()?(i=r.width-(r.paddingLeft+r.paddingRight),n=r.start*Math.pow(10,(t-r.left-r.paddingLeft)*o/i)):(i=r.height-(r.paddingTop+r.paddingBottom),n=Math.pow(10,(r.bottom-r.paddingBottom-t)*o/i)/r.start),n}});t.scaleService.registerScaleType("logarithmic",i,n)}},{}],36:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},r=t.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var t=this,i=t.options,r=i.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=e.min([t.height,t.width]),a=e.getValueOrDefault(r.fontSize,n.defaultFontSize);t.drawingArea=i.display?o/2-(a/2+r.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,n=t.chart;t.min=null,t.max=null,e.each(n.data.datasets,function(i,r){if(n.isDatasetVisible(r)){var o=n.getDatasetMeta(r);e.each(i.data,function(e,n){var i=+t.getRightValue(e);isNaN(i)||o.data[n].hidden||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i))})}}),t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,i=e.getValueOrDefault(t.fontSize,n.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,i,r,o,a,s,l,c,u,d,f,h,p=this.options.pointLabels,m=e.getValueOrDefault(p.fontSize,n.defaultFontSize),g=e.getValueOrDefault(p.fontStyle,n.defaultFontStyle),v=e.getValueOrDefault(p.fontFamily,n.defaultFontFamily),y=e.fontString(m,g,v),b=e.min([this.height/2-m-5,this.width/2]),_=this.width,w=0;for(this.ctx.font=y,i=0;i<this.getValueCount();i++)t=this.getPointPosition(i,b),r=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5,0===i||i===this.getValueCount()/2?(o=r/2,t.x+o>_&&(_=t.x+o,a=i),t.x-o<w&&(w=t.x-o,l=i)):i<this.getValueCount()/2?t.x+r>_&&(_=t.x+r,a=i):i>this.getValueCount()/2&&t.x-r<w&&(w=t.x-r,l=i);u=w,d=Math.ceil(_-this.width),s=this.getIndexAngle(a),c=this.getIndexAngle(l),f=d/Math.sin(s+Math.PI/2),h=u/Math.sin(c+Math.PI/2),f=e.isNumber(f)?f:0,h=e.isNumber(h)?h:0,this.drawingArea=Math.round(b-(h+f)/2),this.setCenterPoint(h,f)},setCenterPoint:function(t,e){var n=this,i=n.width-e-n.drawingArea,r=t+n.drawingArea;n.xCenter=Math.round((r+i)/2+n.left),n.yCenter=Math.round(n.height/2+n.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,i=t.options,r=i.gridLines,o=i.ticks,a=i.angleLines,s=i.pointLabels,l=e.getValueOrDefault;if(i.display){var c=t.ctx,u=l(o.fontSize,n.defaultFontSize),d=l(o.fontStyle,n.defaultFontStyle),f=l(o.fontFamily,n.defaultFontFamily),h=e.fontString(u,d,f);if(e.each(t.ticks,function(a,s){if(s>0||i.reverse){var d=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]),f=t.yCenter-d;if(r.display&&0!==s)if(c.strokeStyle=e.getValueAtIndexOrDefault(r.color,s-1),c.lineWidth=e.getValueAtIndexOrDefault(r.lineWidth,s-1),i.lineArc)c.beginPath(),c.arc(t.xCenter,t.yCenter,d,0,2*Math.PI),c.closePath(),c.stroke();else{c.beginPath();for(var p=0;p<t.getValueCount();p++){var m=t.getPointPosition(p,d);0===p?c.moveTo(m.x,m.y):c.lineTo(m.x,m.y)}c.closePath(),c.stroke()}if(o.display){var g=l(o.fontColor,n.defaultFontColor);if(c.font=h,o.showLabelBackdrop){var v=c.measureText(a).width;c.fillStyle=o.backdropColor,c.fillRect(t.xCenter-v/2-o.backdropPaddingX,f-u/2-o.backdropPaddingY,v+2*o.backdropPaddingX,u+2*o.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=g,c.fillText(a,t.xCenter,f)}}}),!i.lineArc){c.lineWidth=a.lineWidth,c.strokeStyle=a.color;for(var p=t.getDistanceFromCenterForValue(i.reverse?t.min:t.max),m=l(s.fontSize,n.defaultFontSize),g=l(s.fontStyle,n.defaultFontStyle),v=l(s.fontFamily,n.defaultFontFamily),y=e.fontString(m,g,v),b=t.getValueCount()-1;b>=0;b--){if(a.display){var _=t.getPointPosition(b,p);c.beginPath(),c.moveTo(t.xCenter,t.yCenter),c.lineTo(_.x,_.y),c.stroke(),c.closePath()}var w=t.getPointPosition(b,p+5),x=l(s.fontColor,n.defaultFontColor);c.font=y,c.fillStyle=x;var k=t.pointLabels,S=k.length,M=k.length/2,D=M/2,T=b<D||b>S-D,C=b===D||b===S-D;0===b?c.textAlign="center":b===M?c.textAlign="center":b<M?c.textAlign="left":c.textAlign="right",C?c.textBaseline="middle":T?c.textBaseline="bottom":c.textBaseline="top",c.fillText(k[b]?k[b]:"",w.x,w.y)}}}}});t.scaleService.registerScaleType("radialLinear",r,i)}},{}],37:[function(t,e,n){"use strict";var i=t("moment");i="function"==typeof i?i:window.moment,e.exports=function(t){var e=t.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&e.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var n=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e,i){var r=t.parseTime(e);r.isValid()&&(t.options.time.round&&r.startOf(t.options.time.round),n.push(r))},t),t.firstTick=i.min.call(t,n),t.lastTick=i.max.call(t,n)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(r,o){var a=[],s=t.chart.isDatasetVisible(o);"object"==typeof r.data[0]&&null!==r.data[0]?e.each(r.data,function(e,n){var r=t.parseTime(t.getRightValue(e));r.isValid()&&(t.options.time.round&&r.startOf(t.options.time.round),a.push(r),s&&(t.firstTick=null!==t.firstTick?i.min(t.firstTick,r):r,t.lastTick=null!==t.lastTick?i.max(t.lastTick,r):r))},t):a=n,t.labelMoments.push(a)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||i()).clone(),t.lastTick=(t.lastTick||i()).clone()},buildTicks:function(i){var r=this;r.ctx.save();var o=e.getValueOrDefault(r.options.ticks.fontSize,t.defaults.global.defaultFontSize),a=e.getValueOrDefault(r.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),s=e.getValueOrDefault(r.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),l=e.fontString(o,a,s);if(r.ctx.font=l,r.ticks=[],r.unitScale=1,r.scaleSizeInUnits=0,r.options.time.unit)r.tickUnit=r.options.time.unit||"day",r.displayFormat=r.options.time.displayFormats[r.tickUnit],r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0),r.unitScale=e.getValueOrDefault(r.options.time.unitStepSize,1);else{var c=r.isHorizontal()?r.width-(r.paddingLeft+r.paddingRight):r.height-(r.paddingTop+r.paddingBottom),u=r.tickFormatFunction(r.firstTick,0,[]),d=r.ctx.measureText(u).width,f=Math.cos(e.toRadians(r.options.ticks.maxRotation)),h=Math.sin(e.toRadians(r.options.ticks.maxRotation));d=d*f+o*h;var p=c/d;r.tickUnit="millisecond",r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0),r.displayFormat=r.options.time.displayFormats[r.tickUnit];for(var m=0,g=n.units[m];m<n.units.length;){if(r.unitScale=1,e.isArray(g.steps)&&Math.ceil(r.scaleSizeInUnits/p)<e.max(g.steps)){for(var v=0;v<g.steps.length;++v)if(g.steps[v]>=Math.ceil(r.scaleSizeInUnits/p)){r.unitScale=e.getValueOrDefault(r.options.time.unitStepSize,g.steps[v]);break}break}if(g.maxStep===!1||Math.ceil(r.scaleSizeInUnits/p)<g.maxStep){r.unitScale=e.getValueOrDefault(r.options.time.unitStepSize,Math.ceil(r.scaleSizeInUnits/p));break}++m,g=n.units[m],r.tickUnit=g.name;var y=r.firstTick.diff(r.getMomentStartOf(r.firstTick),r.tickUnit,!0),b=r.getMomentStartOf(r.lastTick.clone().add(1,r.tickUnit)).diff(r.lastTick,r.tickUnit,!0);r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0)+y+b,r.displayFormat=r.options.time.displayFormats[g.name]}}var _;if(r.options.time.min?_=r.getMomentStartOf(r.firstTick):(r.firstTick=r.getMomentStartOf(r.firstTick),_=r.firstTick),!r.options.time.max){var w=r.getMomentStartOf(r.lastTick);0!==w.diff(r.lastTick,r.tickUnit,!0)&&(r.lastTick=r.getMomentStartOf(r.lastTick.add(1,r.tickUnit)))}r.smallestLabelSeparation=r.width,e.each(r.chart.data.datasets,function(t,e){for(var n=1;n<r.labelMoments[e].length;n++)r.smallestLabelSeparation=Math.min(r.smallestLabelSeparation,r.labelMoments[e][n].diff(r.labelMoments[e][n-1],r.tickUnit,!0))},r),r.options.time.displayFormat&&(r.displayFormat=r.options.time.displayFormat),r.ticks.push(r.firstTick.clone());for(var x=1;x<=r.scaleSizeInUnits;++x){var k=_.clone().add(x,r.tickUnit);if(r.options.time.max&&k.diff(r.lastTick,r.tickUnit,!0)>=0)break;x%r.unitScale===0&&r.ticks.push(k)}var S=r.ticks[r.ticks.length-1].diff(r.lastTick,r.tickUnit);0===S&&0!==r.scaleSizeInUnits||(r.options.time.max?(r.ticks.push(r.lastTick.clone()),r.scaleSizeInUnits=r.lastTick.diff(r.ticks[0],r.tickUnit,!0)):(r.ticks.push(r.lastTick.clone()),r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0))),r.ctx.restore()},getLabelForIndex:function(t,e){var n=this,i=n.chart.data.labels&&t<n.chart.data.labels.length?n.chart.data.labels[t]:"";return"object"==typeof n.chart.data.datasets[e].data[0]&&(i=n.getRightValue(n.chart.data.datasets[e].data[t])),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(t,n,i){var r=t.format(this.displayFormat),o=this.options.ticks,a=e.getValueOrDefault(o.callback,o.userCallback);return a?a(r,n,i):r},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,n,i){var r=this,o=t&&t.isValid&&t.isValid()?t:r.getLabelMoment(n,e);if(o){var a=o.diff(r.firstTick,r.tickUnit,!0),s=a/r.scaleSizeInUnits;if(r.isHorizontal()){var l=r.width-(r.paddingLeft+r.paddingRight),c=(l/Math.max(r.ticks.length-1,1),l*s+r.paddingLeft);return r.left+Math.round(c)}var u=r.height-(r.paddingTop+r.paddingBottom),d=(u/Math.max(r.ticks.length-1,1),u*s+r.paddingTop);return r.top+Math.round(d)}},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickMoments[t],null,null,e)},getValueForPixel:function(t){var e=this,n=e.isHorizontal()?e.width-(e.paddingLeft+e.paddingRight):e.height-(e.paddingTop+e.paddingBottom),r=(t-(e.isHorizontal()?e.left+e.paddingLeft:e.top+e.paddingTop))/n;return r*=e.scaleSizeInUnits,e.firstTick.clone().add(i.duration(r,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?i(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?i(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):i(t,e.options.time.format)}});t.scaleService.registerScaleType("time",o,r)}},{moment:46}],38:[function(t,e,n){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l[c]+l[c],16)}else if(l=t.match(n)){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=t.match(i)){for(var c=0;c<a.length;c++)a[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=t.match(r)){for(var c=0;c<a.length;c++)a[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(a=_[l[1]],!a)return}for(var c=0;c<a.length;c++)a[c]=y(a[c],0,255);return s=s||0==s?y(s,0,1):1,a[3]=s,a}}function r(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),r=y(parseInt(n[1]),0,360),o=y(parseFloat(n[2]),0,100),a=y(parseFloat(n[3]),0,100),s=y(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),r=y(parseInt(n[1]),0,360),o=y(parseFloat(n[2]),0,100),a=y(parseFloat(n[3]),0,100),s=y(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function a(t){var e=i(t);return e&&e.slice(0,3)}function s(t){var e=r(t);return e&&e.slice(0,3)}function l(t){var e=i(t);return e?e[3]:(e=r(t))?e[3]:(e=o(t))?e[3]:void 0}function c(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function u(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function f(t,e){if(e<1||t[3]&&t[3]<1)return h(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"}function h(t,e){var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgba("+n+"%, "+i+"%, "+r+"%, "+(e||t[3]||1)+")"}function p(t,e){return e<1||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return w[t.slice(0,3)]}function y(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var _=t("color-name");e.exports={getRgba:i,getHsla:r,getRgb:a,getHsl:s,getHwb:o,getAlpha:l,hexString:c,rgbString:u,rgbaString:d,percentString:f,percentaString:h,hslString:p,hslaString:m,hwbString:g,keyword:v};var w={};for(var x in _)w[_[x]]=x},{"color-name":42}],39:[function(t,e,n){var i=t("color-convert"),r=t("chartjs-color-string"),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=r.getRgba(t))this.setValues("rgb",e);else if(e=r.getHsla(t))this.setValues("hsl",e);else{if(!(e=r.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=void 0===e?.5:e,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],e={}.toString.call(t),"[object Array]"===e?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,r=this.values,o=this.spaces,a=this.maxes,s=1;if("alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;var c;for(n=0;n<t.length;n++)c=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(c);for(var u in o)u!==t&&(r[u]=i[t][u](r[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{"chartjs-color-string":38,"color-convert":41}],40:[function(t,e,n){function i(t){var e,n,i,r=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),c=l-s;return l==s?e=0:r==l?e=(o-a)/c:o==l?e=2+(a-r)/c:a==l&&(e=4+(r-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),i=(s+l)/2,n=l==s?0:i<=.5?c/(l+s):c/(2-l-s),[e,100*n,100*i]}function o(t){var e,n,i,r=t[0],o=t[1],a=t[2],s=Math.min(r,o,a),l=Math.max(r,o,a),c=l-s;return n=0==l?0:c/l*1e3/10,l==s?e=0:r==l?e=(o-a)/c:o==l?e=2+(a-r)/c:a==l&&(e=4+(r-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),i=l/255*1e3/10,[e,n,i]}function a(t){var e=t[0],n=t[1],r=t[2],o=i(t)[0],a=1/255*Math.min(e,Math.min(n,r)),r=1-1/255*Math.max(e,Math.max(n,r));
return[o,100*a,100*r]}function s(t){var e,n,i,r,o=t[0]/255,a=t[1]/255,s=t[2]/255;return r=Math.min(1-o,1-a,1-s),e=(1-o-r)/(1-r)||0,n=(1-a-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*e,100*n,100*i,100*r]}function l(t){return X[JSON.stringify(t)]}function c(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var r=.4124*e+.3576*n+.1805*i,o=.2126*e+.7152*n+.0722*i,a=.0193*e+.1192*n+.9505*i;return[100*r,100*o,100*a]}function u(t){var e,n,i,r=c(t),o=r[0],a=r[1],s=r[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*a-16,n=500*(o-a),i=200*(a-s),[e,n,i]}function d(t){return V(u(t))}function f(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return o=255*l,[o,o,o];n=l<.5?l*(1+s):l+s-l*s,e=2*l-n,r=[0,0,0];for(var c=0;c<3;c++)i=a+1/3*-(c-1),i<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c]=255*o;return r}function h(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,r*=o<=1?o:2-o,n=(o+r)/2,e=2*r/(o+r),[i,100*e,100*n])}function p(t){return a(f(t))}function m(t){return s(f(t))}function v(t){return l(f(t))}function y(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o)),i=255*i;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function _(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return n=(2-r)*o,e=r*o,e/=n<=1?n:2-n,e=e||0,n/=2,[i,100*e,100*n]}function w(t){return a(y(t))}function x(t){return s(y(t))}function k(t){return l(y(t))}function S(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),e=Math.floor(6*a),n=1-l,i=6*a-e,0!=(1&e)&&(i=1-i),o=s+i*(n-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function M(t){return i(S(t))}function D(t){return o(S(t))}function T(t){return s(S(t))}function C(t){return l(S(t))}function P(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100,s=t[3]/100;return e=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),[255*e,255*n,255*i]}function O(t){return i(P(t))}function j(t){return o(P(t))}function I(t){return a(P(t))}function A(t){return l(P(t))}function F(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100;return e=3.2406*r+o*-1.5372+a*-.4986,n=r*-.9689+1.8758*o+.0415*a,i=.0557*r+o*-.204+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]}function E(t){var e,n,i,r=t[0],o=t[1],a=t[2];return r/=95.047,o/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*o-16,n=500*(r-o),i=200*(o-a),[e,n,i]}function R(t){return V(E(t))}function L(t){var e,n,i,r,o=t[0],a=t[1],s=t[2];return o<=8?(n=100*o/903.3,r=7.787*(n/100)+16/116):(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[e,n,i]}function V(t){var e,n,i,r=t[0],o=t[1],a=t[2];return e=Math.atan2(a,o),n=360*e/2/Math.PI,n<0&&(n+=360),i=Math.sqrt(o*o+a*a),[r,i,n]}function Y(t){return F(L(t))}function W(t){var e,n,i,r=t[0],o=t[1],a=t[2];return i=a/360*2*Math.PI,e=o*Math.cos(i),n=o*Math.sin(i),[r,e,n]}function B(t){return L(W(t))}function N(t){return Y(W(t))}function U(t){return Z[t]}function H(t){return i(U(t))}function $(t){return o(U(t))}function z(t){return a(U(t))}function q(t){return s(U(t))}function G(t){return u(U(t))}function J(t){return c(U(t))}e.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:d,hsl2rgb:f,hsl2hsv:h,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:_,hsv2hwb:w,hsv2cmyk:x,hsv2keyword:k,hwb2rgb:S,hwb2hsl:M,hwb2hsv:D,hwb2cmyk:T,hwb2keyword:C,cmyk2rgb:P,cmyk2hsl:O,cmyk2hsv:j,cmyk2hwb:I,cmyk2keyword:A,keyword2rgb:U,keyword2hsl:H,keyword2hsv:$,keyword2hwb:z,keyword2cmyk:q,keyword2lab:G,keyword2xyz:J,xyz2rgb:F,xyz2lab:E,xyz2lch:R,lab2xyz:L,lab2rgb:Y,lab2lch:V,lch2lab:W,lch2xyz:B,lch2rgb:N};var Z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Q in Z)X[JSON.stringify(Z[Q])]=Q},{}],41:[function(t,e,n){var i=t("./conversions"),r=function(){return new c};for(var o in i){r[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];r[s]=r[s]||{},r[s][l]=r[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var c=function(){this.convs={}};c.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},c.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},c.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=r[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){c.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=r},{"./conversions":40}],42:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],43:[function(t,e,n){(function(t){(function(){function i(t,e){if(t!==e){var n=null===t,i=t===M,r=t===t,o=null===e,a=e===M,s=e===e;if(t>e&&!o||!r||n&&!a&&s||i&&s)return 1;if(t<e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function r(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function o(t,e,n){if(e!==e)return g(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function a(t){return"function"==typeof t||!1}function s(t){return null==t?"":t+""}function l(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function c(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function u(t,e){return i(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++r<s;){var c=i(o[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*("asc"===u||u===!0?1:-1)}}return t.index-e.index}function f(t){return Ht[t]}function h(t){return $t[t]}function p(t,e,n){return e?t=Gt[t]:n&&(t=Jt[t]),"\\"+t}function m(t){return"\\"+Jt[t]}function g(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function v(t){return!!t&&"object"==typeof t}function y(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function b(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=H,o[++r]=n);return o}function _(t,e){for(var n,i=-1,r=t.length,o=-1,a=[];++i<r;){var s=t[i],l=e?e(s,i,t):s;i&&n===l||(n=l,a[++o]=s)}return a}function w(t){for(var e=-1,n=t.length;++e<n&&y(t.charCodeAt(e)););return e}function x(t){for(var e=t.length;e--&&y(t.charCodeAt(e)););return e}function k(t){return zt[t]}function S(t){function e(t){if(v(t)&&!Ps(t)&&!(t instanceof X)){if(t instanceof y)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return hi(t)}return new y(t)}function n(){}function y(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function X(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ca,this.__views__=[]}function et(){var t=new X(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function it(){if(this.__filtered__){var t=new X(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ht(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ps(t),i=e<0,r=n?t.length:0,o=zn(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,f=0,h=ka(l,this.__takeCount__);if(!n||r<W||r==l&&h==l)return nn(i&&n?t.reverse():t,this.__actions__);var p=[];t:for(;l--&&f<h;){c+=e;for(var m=-1,g=t[c];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(b==N)g=_;else if(!_){if(b==B)continue t;break t}}p[f++]=g}return p}function $t(){this.__data__={}}function zt(t){return this.has(t)&&delete this.__data__[t]}function qt(t){return"__proto__"==t?M:this.__data__[t]}function Gt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Jt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Zt(t){var e=t?t.length:0;for(this.data={hash:va(null),set:new da};e--;)this.push(t[e])}function Xt(t,e){var n=t.data,i="string"==typeof e||Fr(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Fr(t)?e.set.add(t):e.hash[t]=!0}function Kt(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,a=Bo(i+o);++n<i;)a[n]=t[n];for(;++r<o;)a[n++]=e[r];return a}function te(t,e){var n=-1,i=t.length;for(e||(e=Bo(i));++n<i;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,i){for(var r=-1,o=t.length,a=i,s=a;++r<o;){var l=t[r],c=+e(l);n(c,a)&&(a=c,s=l)}return s}function se(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[++r]=a)}return o}function le(t,e){for(var n=-1,i=t.length,r=Bo(i);++n<i;)r[n]=e(t[n],n,t);return r}function ce(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ue(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function de(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function he(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function pe(t,e){return t===M?e:t}function me(t,e,n,i){return t!==M&&ea.call(i,n)?t:e}function ge(t,e,n){for(var i=-1,r=Ws(e),o=r.length;++i<o;){var a=r[i],s=t[a],l=n(s,e[a],a,t,e);(l===l?l===s:s!==s)&&(s!==M||a in t)||(t[a]=l)}return t}function ve(t,e){return null==e?t:be(e,Ws(e),t)}function ye(t,e){for(var n=-1,i=null==t,r=!i&&Xn(t),o=r?t.length:0,a=e.length,s=Bo(a);++n<a;){var l=e[n];r?s[n]=Qn(l,o)?t[l]:M:s[n]=i?M:t[l]}return s}function be(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function _e(t,e,n){var i=typeof t;return"function"==i?e===M?t:an(t,e,n):null==t?Co:"object"==i?Ye(t):e===M?Fo(t):We(t,e)}function we(t,e,n,i,r,o,a){var s;if(n&&(s=r?n(t,i,r):n(t)),s!==M)return s;if(!Fr(t))return t;var l=Ps(t);if(l){if(s=qn(t),!e)return te(t,s)}else{var c=ia.call(t),u=c==Z;if(c!=K&&c!=$&&(!u||r))return Ut[c]?Jn(t,c,e):r?t:{};if(s=Gn(u?{}:t),!e)return ve(s,t)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==t)return a[d];return o.push(t),a.push(s),(l?ee:je)(t,function(i,r){s[r]=we(i,e,n,r,t,o,a)}),s}function xe(t,e,n){if("function"!=typeof t)throw new Zo(U);return fa(function(){t.apply(M,n)},e)}function ke(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,a=Un(),s=a==o,l=s&&e.length>=W?mn(e):null,c=e.length;l&&(a=Xt,s=!1,e=l);t:for(;++r<n;){var u=t[r];if(s&&u===u){for(var d=c;d--;)if(e[d]===u)continue t;i.push(u)}else a(e,u,0)<0&&i.push(u)}return i}function Se(t,e){var n=!0;return Ra(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Me(t,e,n,i){var r=i,o=r;return Ra(t,function(t,a,s){var l=+e(t,a,s);(n(l,r)||l===i&&l===o)&&(r=l,o=t)}),o}function De(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>r?0:r+n),i=i===M||i>r?r:+i||0,i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}function Te(t,e){var n=[];return Ra(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Ce(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function Pe(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var a=t[r];v(a)&&Xn(a)&&(n||Ps(a)||Mr(a))?e?Pe(a,e,n,i):ce(i,a):n||(i[i.length]=a)}return i}function Oe(t,e){return Va(t,e,to)}function je(t,e){return Va(t,e,Ws)}function Ie(t,e){return Ya(t,e,Ws)}function Ae(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];Ar(t[a])&&(o[++r]=a)}return o}function Fe(t,e,n){if(null!=t){n!==M&&n in di(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:M}}function Ee(t,e,n,i,r,o){return t===e||(null==t||null==e||!Fr(t)&&!v(e)?t!==t&&e!==e:Re(t,e,Ee,n,i,r,o))}function Re(t,e,n,i,r,o,a){var s=Ps(t),l=Ps(e),c=z,u=z;s||(c=ia.call(t),c==$?c=K:c!=K&&(s=Ur(t))),l||(u=ia.call(e),u==$?u=K:u!=K&&(l=Ur(e)));var d=c==K,f=u==K,h=c==u;if(h&&!s&&!d)return Yn(t,e,c);if(!r){var p=d&&ea.call(t,"__wrapped__"),m=f&&ea.call(e,"__wrapped__");if(p||m)return n(p?t.value():t,m?e.value():e,i,r,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var v=(s?Vn:Wn)(t,e,n,i,r,o,a);return o.pop(),a.pop(),v}function Le(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=di(t);i--;){var a=e[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<r;){a=e[i];var s=a[0],l=t[s],c=a[1];if(o&&a[2]){if(l===M&&!(s in t))return!1}else{var u=n?n(l,c,s):M;if(!(u===M?Ee(c,l,n,!0):u))return!1}}return!0}function Ve(t,e){var n=-1,i=Xn(t)?Bo(t.length):[];return Ra(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Ye(t){var e=Hn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==M||n in di(t)))}}return function(t){return Le(t,e)}}function We(t,e){var n=Ps(t),i=ti(t)&&ii(e),r=t+"";return t=fi(t),function(o){if(null==o)return!1;var a=r;if(o=di(o),(n||!i)&&!(a in o)){if(o=1==t.length?o:Fe(o,Ge(t,0,-1)),null==o)return!1;a=Di(t),o=di(o)}return o[a]===e?e!==M||a in o:Ee(e,o[a],M,!0)}}function Be(t,e,n,i,r){if(!Fr(t))return t;var o=Xn(e)&&(Ps(e)||Ur(e)),a=o?M:Ws(e);return ee(a||e,function(s,l){if(a&&(l=s,s=e[l]),v(s))i||(i=[]),r||(r=[]),Ne(t,e,l,Be,n,i,r);else{var c=t[l],u=n?n(c,s,l,t,e):M,d=u===M;d&&(u=s),u===M&&(!o||l in t)||!d&&(u===u?u===c:c!==c)||(t[l]=u)}}),t}function Ne(t,e,n,i,r,o,a){for(var s=o.length,l=e[n];s--;)if(o[s]==l)return void(t[n]=a[s]);var c=t[n],u=r?r(c,l,n,t,e):M,d=u===M;d&&(u=l,Xn(l)&&(Ps(l)||Ur(l))?u=Ps(c)?c:Xn(c)?te(c):[]:Wr(l)||Mr(l)?u=Mr(c)?Gr(c):Wr(c)?c:{}:d=!1),o.push(l),a.push(u),d?t[n]=i(u,l,r,o,a):(u===u?u!==c:c===c)&&(t[n]=u)}function Ue(t){return function(e){return null==e?M:e[t]}}function He(t){var e=t+"";return t=fi(t),function(n){return Fe(n,t,e)}}function $e(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Qn(i)){var r=i;ha.call(t,i,1)}}return t}function ze(t,e){return t+ya(Da()*(e-t+1))}function qe(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Ge(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,e<0&&(e=-e>r?0:r+e),n=n===M||n>r?r:+n||0,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Bo(r);++i<r;)o[i]=t[i+e];return o}function Je(t,e){var n;return Ra(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ze(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var i=Bn(),r=-1;e=le(e,function(t){return i(t)});var o=Ve(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ze(o,function(t,e){return d(t,e,n)})}function Qe(t,e){var n=0;return Ra(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Ke(t,e){var n=-1,i=Un(),r=t.length,a=i==o,s=a&&r>=W,l=s?mn():null,c=[];l?(i=Xt,a=!1):(s=!1,l=e?[]:c);t:for(;++n<r;){var u=t[n],d=e?e(u,n,t):u;if(a&&u===u){for(var f=l.length;f--;)if(l[f]===d)continue t;e&&l.push(d),c.push(u)}else i(l,d,0)<0&&((e||s)&&l.push(d),c.push(u))}return c}function tn(t,e){for(var n=-1,i=e.length,r=Bo(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ge(t,i?0:o,i?o+1:r):Ge(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof X&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,ce([n],o.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=ja){for(;i<r;){var o=i+r>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?i=o+1:r=o}return r}return on(t,e,Co,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,a=e!==e,s=null===e,l=e===M;r<o;){var c=ya((r+o)/2),u=n(t[c]),d=u!==M,f=u===u;if(a)var h=f||i;else h=s?f&&d&&(i||null!=u):l?f&&(i||d):null!=u&&(i?u<=e:u<e);h?r=c+1:o=c}return ka(o,Oa)}function an(t,e,n){if("function"!=typeof t)return Co;if(e===M)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,a){return t.call(e,n,i,r,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new aa(t.byteLength),n=new pa(e);return n.set(new pa(t)),e}function ln(t,e,n){for(var i=n.length,r=-1,o=xa(t.length-i,0),a=-1,s=e.length,l=Bo(s+o);++a<s;)l[a]=e[a];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[a++]=t[r++];return l}function cn(t,e,n){for(var i=-1,r=n.length,o=-1,a=xa(t.length-r,0),s=-1,l=e.length,c=Bo(a+l);++o<a;)c[o]=t[o];for(var u=o;++s<l;)c[u+s]=e[s];for(;++i<r;)c[u+n[i]]=t[o++];return c}function un(t,e){return function(n,i,r){var o=e?e():{};if(i=Bn(i,r,3),Ps(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];t(o,l,i(l,a,n),n)}else Ra(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function dn(t){return vr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:M,a=r>2?n[2]:M,s=r>1?n[r-1]:M;for("function"==typeof o?(o=an(o,s,5),r-=2):(o="function"==typeof s?s:M,r-=o?1:0),a&&Kn(n[0],n[1],a)&&(o=r<3?M:o,r=1);++i<r;){var l=n[i];l&&t(e,l,o)}return e})}function fn(t,e){return function(n,i){var r=n?Na(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,a=di(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function hn(t){return function(e,n,i){for(var r=di(e),o=i(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var l=o[s];if(n(r[l],l,r)===!1)break}return e}}function pn(t,e){function n(){var r=this&&this!==ne&&this instanceof n?i:t;return r.apply(e,arguments)}var i=vn(t);return n}function mn(t){return va&&da?new Zt(t):null}function gn(t){return function(e){for(var n=-1,i=Mo(uo(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ea(t.prototype),i=t.apply(n,e);return Fr(i)?i:n}}function yn(t){function e(n,i,r){r&&Kn(n,i,r)&&(i=M);var o=Ln(n,t,M,M,M,M,M,i);return o.placeholder=e.placeholder,o}return e}function bn(t,e){return vr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(M,n))})}function _n(t,e){return function(n,i,r){if(r&&Kn(n,i,r)&&(i=M),i=Bn(i,r,3),1==i.length){n=Ps(n)?n:ui(n);var o=ae(n,i,t,e);if(!n.length||o!==e)return o}return Me(n,i,t,e)}}function wn(t,e){return function(n,i,o){if(i=Bn(i,o,3),Ps(n)){var a=r(n,i,e);return a>-1?n[a]:M}return Ce(n,i,t)}}function xn(t){return function(e,n,i){return e&&e.length?(n=Bn(n,i,3),r(e,n,t)):-1}}function kn(t){return function(e,n,i){return n=Bn(n,i,3),Ce(e,n,t,!0)}}function Sn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,r=0,o=Bo(n);t?i--:++i<n;){var a=o[r++]=arguments[i];if("function"!=typeof a)throw new Zo(U);!e&&y.prototype.thru&&"wrapper"==Nn(a)&&(e=new y([],(!0)))}for(i=e?-1:n;++i<n;){a=o[i];var s=Nn(a),l="wrapper"==s?Ba(a):M;e=l&&ei(l[0])&&l[1]==(F|O|I|E)&&!l[4].length&&1==l[9]?e[Nn(l[0])].apply(e,l[3]):1==a.length&&ei(a)?e[s]():e.thru(a)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Ps(i)&&i.length>=W)return e.plant(i).value();for(var r=0,a=n?o[r].apply(this,t):i;++r<n;)a=o[r].call(this,a);return a}}}function Mn(t,e){return function(n,i,r){return"function"==typeof i&&r===M&&Ps(n)?t(n,i):e(n,an(i,r,3))}}function Dn(t){return function(e,n,i){return"function"==typeof n&&i===M||(n=an(n,i,3)),t(e,n,to)}}function Tn(t){return function(e,n,i){return"function"==typeof n&&i===M||(n=an(n,i,3)),t(e,n)}}function Cn(t){return function(e,n,i){var r={};return n=Bn(n,i,3),je(e,function(e,i,o){var a=n(e,i,o);i=t?a:i,e=t?e:a,r[i]=e}),r}}function Pn(t){return function(e,n,i){return e=s(e),(t?e:"")+An(e,n,i)+(t?"":e)}}function On(t){var e=vr(function(n,i){var r=b(i,e.placeholder);return Ln(n,t,M,i,r)});return e}function jn(t,e){return function(n,i,r,o){var a=arguments.length<3;return"function"==typeof i&&o===M&&Ps(n)?t(n,i,r,a):qe(n,Bn(i,o,4),r,a,e)}}function In(t,e,n,i,r,o,a,s,l,c){function u(){for(var y=arguments.length,_=y,w=Bo(y);_--;)w[_]=arguments[_];if(i&&(w=ln(w,i,r)),o&&(w=cn(w,o,a)),p||g){var x=u.placeholder,k=b(w,x);if(y-=k.length,y<c){var S=s?te(s):M,D=xa(c-y,0),P=p?k:M,O=p?M:k,j=p?w:M,F=p?M:w;e|=p?I:A,e&=~(p?A:I),m||(e&=~(T|C));var E=[t,e,n,j,P,F,O,S,l,D],R=In.apply(M,E);return ei(t)&&Ua(R,E),R.placeholder=x,R}}var L=f?n:this,V=h?L[t]:t;return s&&(w=li(w,s)),d&&l<w.length&&(w.length=l),this&&this!==ne&&this instanceof u&&(V=v||vn(t)),V.apply(L,w)}var d=e&F,f=e&T,h=e&C,p=e&O,m=e&P,g=e&j,v=h?M:vn(t);return u}function An(t,e,n){var i=t.length;if(e=+e,i>=e||!_a(e))return"";var r=e-i;return n=null==n?" ":n+"",vo(n,ga(r/n.length)).slice(0,r)}function Fn(t,e,n,i){function r(){for(var e=-1,s=arguments.length,l=-1,c=i.length,u=Bo(c+s);++l<c;)u[l]=i[l];for(;s--;)u[l++]=arguments[++e];var d=this&&this!==ne&&this instanceof r?a:t;return d.apply(o?n:this,u)}var o=e&T,a=vn(t);return r}function En(t){var e=$o[t];return function(t,n){return n=n===M?0:+n||0,n?(n=ca(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,i,r){var o=Bn(i);return null==i&&o===_e?rn(e,n,t):on(e,n,o(i,r,1),t)}}function Ln(t,e,n,i,r,o,a,s){var l=e&C;if(!l&&"function"!=typeof t)throw new Zo(U);var c=i?i.length:0;if(c||(e&=~(I|A),i=r=M),c-=r?r.length:0,e&A){var u=i,d=r;i=r=M}var f=l?M:Ba(t),h=[t,e,n,i,r,u,d,o,a,s];if(f&&(ri(h,f),e=h[1],s=h[9]),h[9]=null==s?l?0:t.length:xa(s-c,0)||0,e==T)var p=pn(h[0],h[2]);else p=e!=I&&e!=(T|I)||h[4].length?In.apply(M,h):Fn.apply(M,h);var m=f?Wa:Ua;return m(p,h)}function Vn(t,e,n,i,r,o,a){var s=-1,l=t.length,c=e.length;if(l!=c&&!(r&&c>l))return!1;for(;++s<l;){var u=t[s],d=e[s],f=i?i(r?d:u,r?u:d,s):M;if(f!==M){if(f)continue;return!1}if(r){if(!fe(e,function(t){return u===t||n(u,t,i,r,o,a)}))return!1}else if(u!==d&&!n(u,d,i,r,o,a))return!1}return!0}function Yn(t,e,n){switch(n){case q:case G:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case Q:return t!=+t?e!=+e:t==+e;case tt:case nt:return t==e+""}return!1}function Wn(t,e,n,i,r,o,a){var s=Ws(t),l=s.length,c=Ws(e),u=c.length;if(l!=u&&!r)return!1;for(var d=l;d--;){var f=s[d];if(!(r?f in e:ea.call(e,f)))return!1}for(var h=r;++d<l;){f=s[d];var p=t[f],m=e[f],g=i?i(r?m:p,r?p:m,f):M;if(!(g===M?n(p,m,i,r,o,a):g))return!1;h||(h="constructor"==f)}if(!h){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Bn(t,n,i){var r=e.callback||Do;return r=r===Do?_e:r,i?r(t,n,i):r}function Nn(t){for(var e=t.name,n=Fa[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Un(t,n,i){var r=e.indexOf||Si;return r=r===Si?o:r,t?r(t,n,i):r}function Hn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function $n(t,e){var n=null==t?M:t[e];return Lr(n)?n:M}function zn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ka(e,t+a);break;case"takeRight":t=xa(t,e-a)}}return{start:t,end:e}}function qn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Gn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=qo),new e}function Jn(t,e,n){var i=t.constructor;switch(e){case rt:return sn(t);case q:case G:return new i((+t));case ot:case at:case st:case lt:case ct:case ut:case dt:case ft:case ht:var r=t.buffer;return new i(n?sn(r):r,t.byteOffset,t.length);case Q:case nt:return new i(t);case tt:var o=new i(t.source,It.exec(t));o.lastIndex=t.lastIndex}return o}function Zn(t,e,n){null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Fe(t,Ge(e,0,-1)),e=Di(e));var i=null==t?t:t[e];return null==i?M:i.apply(t,n)}function Xn(t){return null!=t&&ni(Na(t))}function Qn(t,e){return t="number"==typeof t||Et.test(t)?+t:-1,e=null==e?Ia:e,t>-1&&t%1==0&&t<e}function Kn(t,e,n){if(!Fr(n))return!1;var i=typeof e;if("number"==i?Xn(n)&&Qn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&Mt.test(t)||"number"==n)return!0;
if(Ps(t))return!1;var i=!St.test(t);return i||null!=e&&t in di(e)}function ei(t){var n=Nn(t);if(!(n in X.prototype))return!1;var i=e[n];if(t===i)return!0;var r=Ba(i);return!!r&&t===r[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ia}function ii(t){return t===t&&!Fr(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=r<F,a=i==F&&n==O||i==F&&n==E&&t[7].length<=e[8]||i==(F|E)&&n==O;if(!o&&!a)return t;i&T&&(t[2]=e[2],r|=n&T?0:P);var s=e[3];if(s){var l=t[3];t[3]=l?ln(l,s,e[4]):te(s),t[4]=l?b(t[3],H):te(e[4])}return s=e[5],s&&(l=t[5],t[5]=l?cn(l,s,e[6]):te(s),t[6]=l?b(t[5],H):te(e[6])),s=e[7],s&&(t[7]=te(s)),i&F&&(t[8]=null==t[8]?e[8]:ka(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===M?e:Os(t,e,oi)}function ai(t,e){t=di(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function si(t,e){var n={};return Oe(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function li(t,e){for(var n=t.length,i=ka(e.length,n),r=te(t);i--;){var o=e[i];t[i]=Qn(o,n)?r[o]:M}return t}function ci(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(Ps(t)||Mr(t)),o=-1,a=[];++o<n;){var s=e[o];(r&&Qn(s,i)||ea.call(t,s))&&a.push(s)}return a}function ui(t){return null==t?[]:Xn(t)?Fr(t)?t:qo(t):oo(t)}function di(t){return Fr(t)?t:qo(t)}function fi(t){if(Ps(t))return t;var e=[];return s(t).replace(Dt,function(t,n,i,r){e.push(i?r.replace(Ot,"$1"):n||t)}),e}function hi(t){return t instanceof X?t.clone():new y(t.__wrapped__,t.__chain__,te(t.__actions__))}function pi(t,e,n){e=(n?Kn(t,e,n):null==e)?1:xa(ya(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,a=Bo(ga(r/e));i<r;)a[++o]=Ge(t,i,i+=e);return a}function mi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function gi(t,e,n){var i=t?t.length:0;return i?((n?Kn(t,e,n):null==e)&&(e=1),Ge(t,e<0?0:e)):[]}function vi(t,e,n){var i=t?t.length:0;return i?((n?Kn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ge(t,0,e<0?0:e)):[]}function yi(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0,!0):[]}function bi(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0):[]}function _i(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Kn(t,e,n)&&(n=0,i=r),De(t,e,n,i)):[]}function wi(t){return t?t[0]:M}function xi(t,e,n){var i=t?t.length:0;return n&&Kn(t,e,n)&&(e=!1),i?Pe(t,e):[]}function ki(t){var e=t?t.length:0;return e?Pe(t,!0):[]}function Si(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?xa(i+n,0):n;else if(n){var r=rn(t,e);return r<i&&(e===e?e===t[r]:t[r]!==t[r])?r:-1}return o(t,e,n||0)}function Mi(t){return vi(t,1)}function Di(t){var e=t?t.length:0;return e?t[e-1]:M}function Ti(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?xa(i+n,0):ka(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return g(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Ci(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Un(),r=t.length;++n<r;)for(var o=0,a=t[n];(o=i(e,a,o))>-1;)ha.call(e,o,1);return e}function Pi(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],a=t.length;for(e=Bn(e,n,3);++r<a;){var s=t[r];e(s,r,t)&&(i.push(s),o.push(r))}return $e(t,o),i}function Oi(t){return gi(t,1)}function ji(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Kn(t,e,n)&&(e=0,n=i),Ge(t,e,n)):[]}function Ii(t,e,n){var i=t?t.length:0;return i?((n?Kn(t,e,n):null==e)&&(e=1),Ge(t,0,e<0?0:e)):[]}function Ai(t,e,n){var i=t?t.length:0;return i?((n?Kn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ge(t,e<0?0:e)):[]}function Fi(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!1,!0):[]}function Ei(t,e,n){return t&&t.length?en(t,Bn(e,n,3)):[]}function Ri(t,e,n,i){var r=t?t.length:0;if(!r)return[];null!=e&&"boolean"!=typeof e&&(i=n,n=Kn(t,e,i)?M:e,e=!1);var a=Bn();return null==n&&a===_e||(n=a(n,i,3)),e&&Un()==o?_(t,n):Ke(t,n)}function Li(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Xn(t))return n=xa(t.length,n),!0});for(var i=Bo(n);++e<n;)i[e]=le(t,Ue(e));return i}function Vi(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Li(t);return null==e?r:(e=an(e,n,4),le(r,function(t){return ue(t,e,M,!0)}))}function Yi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var i=i?ce(ke(i,n),ke(n,i)):n}return i?Ke(i):[]}function Wi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Ps(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Bi(t){var n=e(t);return n.__chain__=!0,n}function Ni(t,e,n){return e.call(n,t),t}function Ui(t,e,n){return e.call(n,t)}function Hi(){return Bi(this)}function $i(){return new y(this.value(),this.__chain__)}function zi(t){for(var e,i=this;i instanceof n;){var r=hi(i);e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function qi(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof X){var n=t;return this.__actions__.length&&(n=new X(this)),n=n.reverse(),n.__actions__.push({func:Ui,args:[e],thisArg:M}),new y(n,this.__chain__)}return this.thru(e)}function Gi(){return this.value()+""}function Ji(){return nn(this.__wrapped__,this.__actions__)}function Zi(t,e,n){var i=Ps(t)?oe:Se;return n&&Kn(t,e,n)&&(e=M),"function"==typeof e&&n===M||(e=Bn(e,n,3)),i(t,e)}function Xi(t,e,n){var i=Ps(t)?se:Te;return e=Bn(e,n,3),i(t,e)}function Qi(t,e){return rs(t,Ye(e))}function Ki(t,e,n,i){var r=t?Na(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&Kn(e,n,i)?0:n<0?xa(r+n,0):n||0,"string"==typeof t||!Ps(t)&&Nr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Un(t,e,n)>-1}function tr(t,e,n){var i=Ps(t)?le:Ve;return e=Bn(e,n,3),i(t,e)}function er(t,e){return tr(t,Fo(e))}function nr(t,e,n){var i=Ps(t)?se:Te;return e=Bn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?Kn(t,e,n):null==e){t=ui(t);var i=t.length;return i>0?t[ze(0,i-1)]:M}var r=-1,o=qr(t),i=o.length,a=i-1;for(e=ka(e<0?0:+e||0,i);++r<e;){var s=ze(r,a),l=o[s];o[s]=o[r],o[r]=l}return o.length=e,o}function rr(t){return ir(t,Ca)}function or(t){var e=t?Na(t):0;return ni(e)?e:Ws(t).length}function ar(t,e,n){var i=Ps(t)?fe:Je;return n&&Kn(t,e,n)&&(e=M),"function"==typeof e&&n===M||(e=Bn(e,n,3)),i(t,e)}function sr(t,e,n){if(null==t)return[];n&&Kn(t,e,n)&&(e=M);var i=-1;e=Bn(e,n,3);var r=Ve(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ze(r,u)}function lr(t,e,n,i){return null==t?[]:(i&&Kn(e,n,i)&&(n=M),Ps(e)||(e=null==e?[]:[e]),Ps(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function cr(t,e){return Xi(t,Ye(e))}function ur(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Zo(U);var n=t;t=e,e=n}return t=_a(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function dr(t,e,n){return n&&Kn(t,e,n)&&(e=M),e=t&&null==e?t.length:xa(+e||0,0),Ln(t,F,M,M,M,M,e)}function fr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Zo(U);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=M),n}}function hr(t,e,n){function i(){h&&sa(h),c&&sa(c),m=0,c=h=p=M}function r(e,n){n&&sa(n),c=h=p=M,e&&(m=ms(),u=t.apply(f,l),h||c||(l=f=M))}function o(){var t=e-(ms()-d);t<=0||t>e?r(p,c):h=fa(o,t)}function a(){r(v,h)}function s(){if(l=arguments,d=ms(),f=this,p=v&&(h||!y),g===!1)var n=y&&!h;else{c||y||(m=d);var i=g-(d-m),r=i<=0||i>g;r?(c&&(c=sa(c)),m=d,u=t.apply(f,l)):c||(c=fa(a,i))}return r&&h?h=sa(h):h||e===g||(h=fa(o,e)),n&&(r=!0,u=t.apply(f,l)),!r||h||c||(l=f=M),u}var l,c,u,d,f,h,p,m=0,g=!1,v=!0;if("function"!=typeof t)throw new Zo(U);if(e=e<0?0:+e||0,n===!0){var y=!0;v=!1}else Fr(n)&&(y=!!n.leading,g="maxWait"in n&&xa(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return s.cancel=i,s}function pr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Zo(U);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new pr.Cache,n}function mr(t){if("function"!=typeof t)throw new Zo(U);return function(){return!t.apply(this,arguments)}}function gr(t){return fr(2,t)}function vr(t,e){if("function"!=typeof t)throw new Zo(U);return e=xa(e===M?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=xa(n.length-e,0),o=Bo(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Bo(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=o,t.apply(this,a)}}function yr(t){if("function"!=typeof t)throw new Zo(U);return function(e){return t.apply(this,e)}}function br(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Zo(U);return n===!1?i=!1:Fr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),hr(t,e,{leading:i,maxWait:+e,trailing:r})}function _r(t,e){return e=null==e?Co:e,Ln(e,I,M,[t],[])}function wr(t,e,n,i){return e&&"boolean"!=typeof e&&Kn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?we(t,e,an(n,i,1)):we(t,e)}function xr(t,e,n){return"function"==typeof e?we(t,!0,an(e,n,1)):we(t,!0)}function kr(t,e){return t>e}function Sr(t,e){return t>=e}function Mr(t){return v(t)&&Xn(t)&&ea.call(t,"callee")&&!ua.call(t,"callee")}function Dr(t){return t===!0||t===!1||v(t)&&ia.call(t)==q}function Tr(t){return v(t)&&ia.call(t)==G}function Cr(t){return!!t&&1===t.nodeType&&v(t)&&!Wr(t)}function Pr(t){return null==t||(Xn(t)&&(Ps(t)||Nr(t)||Mr(t)||v(t)&&Ar(t.splice))?!t.length:!Ws(t).length)}function Or(t,e,n,i){n="function"==typeof n?an(n,i,3):M;var r=n?n(t,e):M;return r===M?Ee(t,e,n):!!r}function jr(t){return v(t)&&"string"==typeof t.message&&ia.call(t)==J}function Ir(t){return"number"==typeof t&&_a(t)}function Ar(t){return Fr(t)&&ia.call(t)==Z}function Fr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Er(t,e,n,i){return n="function"==typeof n?an(n,i,3):M,Le(t,Hn(e),n)}function Rr(t){return Yr(t)&&t!=+t}function Lr(t){return null!=t&&(Ar(t)?oa.test(ta.call(t)):v(t)&&Ft.test(t))}function Vr(t){return null===t}function Yr(t){return"number"==typeof t||v(t)&&ia.call(t)==Q}function Wr(t){var e;if(!v(t)||ia.call(t)!=K||Mr(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Oe(t,function(t,e){n=e}),n===M||ea.call(t,n)}function Br(t){return Fr(t)&&ia.call(t)==tt}function Nr(t){return"string"==typeof t||v(t)&&ia.call(t)==nt}function Ur(t){return v(t)&&ni(t.length)&&!!Nt[ia.call(t)]}function Hr(t){return t===M}function $r(t,e){return t<e}function zr(t,e){return t<=e}function qr(t){var e=t?Na(t):0;return ni(e)?e?te(t):[]:oo(t)}function Gr(t){return be(t,to(t))}function Jr(t,e,n){var i=Ea(t);return n&&Kn(t,e,n)&&(e=M),e?ve(i,e):i}function Zr(t){return Ae(t,to(t))}function Xr(t,e,n){var i=null==t?M:Fe(t,fi(e),e+"");return i===M?n:i}function Qr(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!ti(e)){if(e=fi(e),t=1==e.length?t:Fe(t,Ge(e,0,-1)),null==t)return!1;e=Di(e),n=ea.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(Ps(t)||Mr(t))}function Kr(t,e,n){n&&Kn(t,e,n)&&(e=M);for(var i=-1,r=Ws(t),o=r.length,a={};++i<o;){var s=r[i],l=t[s];e?ea.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function to(t){if(null==t)return[];Fr(t)||(t=qo(t));var e=t.length;e=e&&ni(e)&&(Ps(t)||Mr(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Bo(e),a=e>0;++i<e;)o[i]=i+"";for(var s in t)a&&Qn(s,e)||"constructor"==s&&(r||!ea.call(t,s))||o.push(s);return o}function eo(t){t=di(t);for(var e=-1,n=Ws(t),i=n.length,r=Bo(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?M:t[e];return i===M&&(null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Fe(t,Ge(e,0,-1)),i=null==t?M:t[Di(e)]),i=i===M?n:i),Ar(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:fi(e);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=e[r];Fr(s)&&(r==a?s[l]=n:null==s[l]&&(s[l]=Qn(e[r+1])?[]:{})),s=s[l]}return t}function ro(t,e,n,i){var r=Ps(t)||Ur(t);if(e=Bn(e,i,4),null==n)if(r||Fr(t)){var o=t.constructor;n=r?Ps(t)?new o:[]:Ea(Ar(o)?o.prototype:M)}else n={};return(r?ee:je)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,Ws(t))}function ao(t){return tn(t,to(t))}function so(t,e,n){return e=+e||0,n===M?(n=e,e=0):n=+n||0,t>=ka(e,n)&&t<xa(e,n)}function lo(t,e,n){n&&Kn(t,e,n)&&(e=n=M);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Da();return ka(t+o*(e-t+la("1e-"+((o+"").length-1))),e)}return ze(t,e)}function co(t){return t=s(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function uo(t){return t=s(t),t&&t.replace(Rt,f).replace(Pt,"")}function fo(t,e,n){t=s(t),e+="";var i=t.length;return n=n===M?i:ka(n<0?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ho(t){return t=s(t),t&&_t.test(t)?t.replace(yt,h):t}function po(t){return t=s(t),t&&Ct.test(t)?t.replace(Tt,p):t||"(?:)"}function mo(t,e,n){t=s(t),e=+e;var i=t.length;if(i>=e||!_a(e))return t;var r=(e-i)/2,o=ya(r),a=ga(r);return n=An("",a,n),n.slice(0,o)+t+n}function go(t,e,n){return(n?Kn(t,e,n):null==e)?e=0:e&&(e=+e),t=_o(t),Ma(t,e||(At.test(t)?16:10))}function vo(t,e){var n="";if(t=s(t),e=+e,e<1||!t||!_a(e))return n;do e%2&&(n+=t),e=ya(e/2),t+=t;while(e);return n}function yo(t,e,n){return t=s(t),n=null==n?0:ka(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function bo(t,n,i){var r=e.templateSettings;i&&Kn(t,n,i)&&(n=i=M),t=s(t),n=ge(ve({},i||n),r,me);var o,a,l=ge(ve({},n.imports),r.imports,me),c=Ws(l),u=tn(l,c),d=0,f=n.interpolate||Lt,h="__p += '",p=Go((n.escape||Lt).source+"|"+f.source+"|"+(f===kt?jt:Lt).source+"|"+(n.evaluate||Lt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Bt+"]")+"\n";t.replace(p,function(e,n,i,r,s,l){return i||(i=r),h+=t.slice(d,l).replace(Vt,m),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+e.length,e}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(pt,""):h).replace(mt,"$1").replace(gt,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Xs(function(){return Ho(c,g+"return "+h).apply(M,u)});if(y.source=h,jr(y))throw y;return y}function _o(t,e,n){var i=t;return(t=s(t))?(n?Kn(i,e,n):null==e)?t.slice(w(t),x(t)+1):(e+="",t.slice(l(t,e),c(t,e)+1)):t}function wo(t,e,n){var i=t;return t=s(t),t?(n?Kn(i,e,n):null==e)?t.slice(w(t)):t.slice(l(t,e+"")):t}function xo(t,e,n){var i=t;return t=s(t),t?(n?Kn(i,e,n):null==e)?t.slice(0,x(t)+1):t.slice(0,c(t,e+"")+1):t}function ko(t,e,n){n&&Kn(t,e,n)&&(e=M);var i=R,r=L;if(null!=e)if(Fr(e)){var o="separator"in e?e.separator:o;i="length"in e?+e.length||0:i,r="omission"in e?s(e.omission):r}else i=+e||0;if(t=s(t),i>=t.length)return t;var a=i-r.length;if(a<1)return r;var l=t.slice(0,a);if(null==o)return l+r;if(Br(o)){if(t.slice(a).search(o)){var c,u,d=t.slice(0,a);for(o.global||(o=Go(o.source,(It.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)u=c.index;l=l.slice(0,null==u?a:u)}}else if(t.indexOf(o,a)!=a){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r}function So(t){return t=s(t),t&&bt.test(t)?t.replace(vt,k):t}function Mo(t,e,n){return n&&Kn(t,e,n)&&(e=M),t=s(t),t.match(e||Yt)||[]}function Do(t,e,n){return n&&Kn(t,e,n)&&(e=M),v(t)?Po(t):_e(t,e)}function To(t){return function(){return t}}function Co(t){return t}function Po(t){return Ye(we(t,!0))}function Oo(t,e){return We(t,we(e,!0))}function jo(t,e,n){if(null==n){var i=Fr(e),r=i?Ws(e):M,o=r&&r.length?Ae(e,r):M;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Ae(e,Ws(e)));var a=!0,s=-1,l=Ar(t),c=o.length;n===!1?a=!1:Fr(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var u=o[s],d=e[u];t[u]=d,l&&(t.prototype[u]=function(e){return function(){var n=this.__chain__;if(a||n){var i=t(this.__wrapped__),r=i.__actions__=te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,ce([this.value()],arguments))}}(d))}return t}function Io(){return ne._=ra,this}function Ao(){}function Fo(t){return ti(t)?Ue(t):He(t)}function Eo(t){return function(e){return Fe(t,fi(e),e+"")}}function Ro(t,e,n){n&&Kn(t,e,n)&&(e=n=M),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=xa(ga((e-t)/(n||1)),0),o=Bo(r);++i<r;)o[i]=t,t+=n;return o}function Lo(t,e,n){if(t=ya(t),t<1||!_a(t))return[];var i=-1,r=Bo(ka(t,Pa));for(e=an(e,n,1);++i<t;)i<Pa?r[i]=e(i):e(i);return r}function Vo(t){var e=++na;return s(t)+e}function Yo(t,e){return(+t||0)+(+e||0)}function Wo(t,e,n){return n&&Kn(t,e,n)&&(e=M),e=Bn(e,n,3),1==e.length?he(Ps(t)?t:ui(t),e):Qe(t,e)}t=t?ie.defaults(ne.Object(),t,ie.pick(ne,Wt)):ne;var Bo=t.Array,No=t.Date,Uo=t.Error,Ho=t.Function,$o=t.Math,zo=t.Number,qo=t.Object,Go=t.RegExp,Jo=t.String,Zo=t.TypeError,Xo=Bo.prototype,Qo=qo.prototype,Ko=Jo.prototype,ta=Ho.prototype.toString,ea=Qo.hasOwnProperty,na=0,ia=Qo.toString,ra=ne._,oa=Go("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,sa=t.clearTimeout,la=t.parseFloat,ca=$o.pow,ua=Qo.propertyIsEnumerable,da=$n(t,"Set"),fa=t.setTimeout,ha=Xo.splice,pa=t.Uint8Array,ma=$n(t,"WeakMap"),ga=$o.ceil,va=$n(qo,"create"),ya=$o.floor,ba=$n(Bo,"isArray"),_a=t.isFinite,wa=$n(qo,"keys"),xa=$o.max,ka=$o.min,Sa=$n(No,"now"),Ma=t.parseInt,Da=$o.random,Ta=zo.NEGATIVE_INFINITY,Ca=zo.POSITIVE_INFINITY,Pa=4294967295,Oa=Pa-1,ja=Pa>>>1,Ia=9007199254740991,Aa=ma&&new ma,Fa={};e.support={};e.templateSettings={escape:wt,evaluate:xt,interpolate:kt,variable:"",imports:{_:e}};var Ea=function(){function t(){}return function(e){if(Fr(e)){t.prototype=e;var n=new t;t.prototype=M}return n||{}}}(),Ra=fn(je),La=fn(Ie,!0),Va=hn(),Ya=hn(!0),Wa=Aa?function(t,e){return Aa.set(t,e),t}:Co,Ba=Aa?function(t){return Aa.get(t)}:Ao,Na=Ue("length"),Ua=function(){var t=0,e=0;return function(n,i){var r=ms(),o=Y-(r-e);if(e=r,o>0){if(++t>=V)return n}else t=0;return Wa(n,i)}}(),Ha=vr(function(t,e){return v(t)&&Xn(t)?ke(t,Pe(e,!1,!0)):[]}),$a=xn(),za=xn(!0),qa=vr(function(t){for(var e=t.length,n=e,i=Bo(d),r=Un(),a=r==o,s=[];n--;){var l=t[n]=Xn(l=t[n])?l:[];i[n]=a&&l.length>=120?mn(n&&l):null}var c=t[0],u=-1,d=c?c.length:0,f=i[0];t:for(;++u<d;)if(l=c[u],(f?Xt(f,l):r(s,l,0))<0){for(var n=e;--n;){var h=i[n];if((h?Xt(h,l):r(t[n],l,0))<0)continue t}f&&f.push(l),s.push(l)}return s}),Ga=vr(function(t,e){e=Pe(e);var n=ye(t,e);return $e(t,e.sort(i)),n}),Ja=Rn(),Za=Rn(!0),Xa=vr(function(t){return Ke(Pe(t,!1,!0))}),Qa=vr(function(t,e){return Xn(t)?ke(t,e):[]}),Ka=vr(Li),ts=vr(function(t){var e=t.length,n=e>2?t[e-2]:M,i=e>1?t[e-1]:M;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):M,i=M),t.length=e,Vi(t,n,i)}),es=vr(function(t){return t=Pe(t),this.thru(function(e){return Kt(Ps(e)?e:[di(e)],t)})}),ns=vr(function(t,e){return ye(t,Pe(e))}),is=un(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),rs=wn(Ra),os=wn(La,!0),as=Mn(ee,Ra),ss=Mn(re,La),ls=un(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),cs=un(function(t,e,n){t[n]=e}),us=vr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),a=Xn(t)?Bo(t.length):[];return Ra(t,function(t){var s=r?e:o&&null!=t?t[e]:M;a[++i]=s?s.apply(t,n):Zn(t,e,n)}),a}),ds=un(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fs=jn(ue,Ra),hs=jn(de,La),ps=vr(function(t,e){if(null==t)return[];var n=e[2];return n&&Kn(e[0],e[1],n)&&(e.length=1),Xe(t,Pe(e),[])}),ms=Sa||function(){return(new No).getTime()},gs=vr(function(t,e,n){var i=T;if(n.length){var r=b(n,gs.placeholder);i|=I}return Ln(t,i,e,n,r)}),vs=vr(function(t,e){e=e.length?Pe(e):Zr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=Ln(t[r],T,t)}return t}),ys=vr(function(t,e,n){var i=T|C;if(n.length){var r=b(n,ys.placeholder);i|=I}return Ln(e,i,t,n,r)}),bs=yn(O),_s=yn(j),ws=vr(function(t,e){return xe(t,1,e)}),xs=vr(function(t,e,n){return xe(t,e,n)}),ks=Sn(),Ss=Sn(!0),Ms=vr(function(t,e){if(e=Pe(e),"function"!=typeof t||!oe(e,a))throw new Zo(U);var n=e.length;return vr(function(i){for(var r=ka(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Ds=On(I),Ts=On(A),Cs=vr(function(t,e){return Ln(t,E,M,M,M,Pe(e))}),Ps=ba||function(t){return v(t)&&ni(t.length)&&ia.call(t)==z},Os=dn(Be),js=dn(function(t,e,n){return n?ge(t,e,n):ve(t,e)}),Is=bn(js,pe),As=bn(Os,oi),Fs=kn(je),Es=kn(Ie),Rs=Dn(Va),Ls=Dn(Ya),Vs=Tn(je),Ys=Tn(Ie),Ws=wa?function(t){var e=null==t?M:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?ci(t):Fr(t)?wa(t):[]}:ci,Bs=Cn(!0),Ns=Cn(),Us=vr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Pe(e),Jo);return ai(t,ke(to(t),e))}var n=an(e[0],e[1],3);return si(t,function(t,e,i){return!n(t,e,i)})}),Hs=vr(function(t,e){return null==t?{}:"function"==typeof e[0]?si(t,an(e[0],e[1],3)):ai(t,Pe(e))}),$s=gn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),zs=gn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qs=Pn(),Gs=Pn(!0),Js=gn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zs=gn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xs=vr(function(t,e){try{return t.apply(M,e)}catch(n){return jr(n)?n:new Uo(n)}}),Qs=vr(function(t,e){return function(n){return Zn(n,t,e)}}),Ks=vr(function(t,e){return function(n){return Zn(t,n,e)}}),tl=En("ceil"),el=En("floor"),nl=_n(kr,Ta),il=_n($r,Ca),rl=En("round");return e.prototype=n.prototype,y.prototype=Ea(n.prototype),y.prototype.constructor=y,X.prototype=Ea(n.prototype),X.prototype.constructor=X,$t.prototype["delete"]=zt,$t.prototype.get=qt,$t.prototype.has=Gt,$t.prototype.set=Jt,Zt.prototype.push=Qt,pr.Cache=$t,e.after=ur,e.ary=dr,e.assign=js,e.at=ns,e.before=fr,e.bind=gs,e.bindAll=vs,e.bindKey=ys,e.callback=Do,e.chain=Bi,e.chunk=pi,e.compact=mi,e.constant=To,e.countBy=is,e.create=Jr,e.curry=bs,e.curryRight=_s,e.debounce=hr,e.defaults=Is,e.defaultsDeep=As,e.defer=ws,e.delay=xs,e.difference=Ha,e.drop=gi,e.dropRight=vi,e.dropRightWhile=yi,e.dropWhile=bi,e.fill=_i,e.filter=Xi,e.flatten=xi,e.flattenDeep=ki,e.flow=ks,e.flowRight=Ss,e.forEach=as,e.forEachRight=ss,e.forIn=Rs,e.forInRight=Ls,e.forOwn=Vs,e.forOwnRight=Ys,e.functions=Zr,e.groupBy=ls,e.indexBy=cs,e.initial=Mi,e.intersection=qa,e.invert=Kr,e.invoke=us,e.keys=Ws,e.keysIn=to,e.map=tr,e.mapKeys=Bs,e.mapValues=Ns,e.matches=Po,e.matchesProperty=Oo,e.memoize=pr,e.merge=Os,e.method=Qs,e.methodOf=Ks,e.mixin=jo,e.modArgs=Ms,e.negate=mr,e.omit=Us,e.once=gr,e.pairs=eo,e.partial=Ds,e.partialRight=Ts,e.partition=ds,e.pick=Hs,e.pluck=er,e.property=Fo,e.propertyOf=Eo,e.pull=Ci,e.pullAt=Ga,e.range=Ro,e.rearg=Cs,e.reject=nr,e.remove=Pi,e.rest=Oi,e.restParam=vr,e.set=io,e.shuffle=rr,e.slice=ji,e.sortBy=sr,e.sortByAll=ps,e.sortByOrder=lr,e.spread=yr,e.take=Ii,e.takeRight=Ai,e.takeRightWhile=Fi,e.takeWhile=Ei,e.tap=Ni,e.throttle=br,e.thru=Ui,e.times=Lo,e.toArray=qr,e.toPlainObject=Gr,e.transform=ro,e.union=Xa,e.uniq=Ri,e.unzip=Li,e.unzipWith=Vi,e.values=oo,e.valuesIn=ao,e.where=cr,e.without=Qa,e.wrap=_r,e.xor=Yi,e.zip=Ka,e.zipObject=Wi,e.zipWith=ts,e.backflow=Ss,e.collect=tr,e.compose=Ss,e.each=as,e.eachRight=ss,e.extend=js,e.iteratee=Do,e.methods=Zr,e.object=Wi,e.select=Xi,e.tail=Oi,e.unique=Ri,jo(e,e),e.add=Yo,e.attempt=Xs,e.camelCase=$s,e.capitalize=co,e.ceil=tl,e.clone=wr,e.cloneDeep=xr,e.deburr=uo,e.endsWith=fo,e.escape=ho,e.escapeRegExp=po,e.every=Zi,e.find=rs,e.findIndex=$a,e.findKey=Fs,e.findLast=os,e.findLastIndex=za,e.findLastKey=Es,e.findWhere=Qi,e.first=wi,e.floor=el,e.get=Xr,e.gt=kr,e.gte=Sr,e.has=Qr,e.identity=Co,e.includes=Ki,e.indexOf=Si,e.inRange=so,e.isArguments=Mr,e.isArray=Ps,e.isBoolean=Dr,e.isDate=Tr,e.isElement=Cr,e.isEmpty=Pr,e.isEqual=Or,e.isError=jr,e.isFinite=Ir,e.isFunction=Ar,e.isMatch=Er,e.isNaN=Rr,e.isNative=Lr,e.isNull=Vr,e.isNumber=Yr,e.isObject=Fr,e.isPlainObject=Wr,e.isRegExp=Br,e.isString=Nr,e.isTypedArray=Ur,e.isUndefined=Hr,e.kebabCase=zs,e.last=Di,e.lastIndexOf=Ti,e.lt=$r,e.lte=zr,e.max=nl,e.min=il,e.noConflict=Io,e.noop=Ao,e.now=ms,e.pad=mo,e.padLeft=qs,e.padRight=Gs,e.parseInt=go,e.random=lo,e.reduce=fs,e.reduceRight=hs,e.repeat=vo,e.result=no,e.round=rl,e.runInContext=S,e.size=or,e.snakeCase=Js,e.some=ar,e.sortedIndex=Ja,e.sortedLastIndex=Za,e.startCase=Zs,e.startsWith=yo,e.sum=Wo,e.template=bo,e.trim=_o,e.trimLeft=wo,e.trimRight=xo,e.trunc=ko,e.unescape=So,e.uniqueId=Vo,e.words=Mo,e.all=Zi,e.any=ar,e.contains=Ki,e.eq=Or,e.detect=rs,e.foldl=fs,e.foldr=hs,e.head=wi,e.include=Ki,e.inject=fs,jo(e,function(){var t={};return je(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=ir,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},e.VERSION=D,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){X.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new X(this);n=null==n?1:xa(ya(n)||0,0);var r=this.clone();return i?r.__takeCount__=ka(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},X.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=N;X.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Bn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");X.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");X.prototype[t]=function(){return this.__filtered__?new X(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Ye:Fo;X.prototype[t]=function(t){return this[n](i(t))}}),X.prototype.compact=function(){return this.filter(Co)},X.prototype.reject=function(t,e){return t=Bn(t,e,1),this.filter(function(e){return!t(e)})},X.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new X(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==M&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},X.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},X.prototype.toArray=function(){return this.take(Ca)},je(X.prototype,function(t,n){var i=/^(?:filter|map|reject)|While$/.test(n),r=/^(?:first|last)$/.test(n),o=e[r?"take"+("last"==n?"Right":""):n];o&&(e.prototype[n]=function(){var e=r?[1]:arguments,n=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,l=a instanceof X,c=e[0],u=l||Ps(a);u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=function(t){return r&&n?o(t,1)[0]:o.apply(M,ce([t],e))},f={func:Ui,args:[d],thisArg:M},h=l&&!s;if(r&&!n)return h?(a=a.clone(),a.__actions__.push(f),t.call(a)):o.call(M,this.value())[0];if(!r&&u){a=h?a:new X(this);var p=t.apply(a,e);return p.__actions__.push(f),new y(p,n)}return this.thru(d)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Ko:Xo)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),je(X.prototype,function(t,n){var i=e[n];if(i){var r=i.name,o=Fa[r]||(Fa[r]=[]);o.push({name:n,func:i})}}),Fa[In(M,C).name]=[{name:"wrapper",func:M}],X.prototype.clone=et,X.prototype.reverse=it,X.prototype.value=Ht,e.prototype.chain=Hi,e.prototype.commit=$i,e.prototype.concat=es,e.prototype.plant=zi,e.prototype.reverse=qi,e.prototype.toString=Gi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ji,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var M,D="3.10.1",T=1,C=2,P=4,O=8,j=16,I=32,A=64,F=128,E=256,R=30,L="...",V=150,Y=16,W=200,B=1,N=2,U="Expected a function",H="__lodash_placeholder__",$="[object Arguments]",z="[object Array]",q="[object Boolean]",G="[object Date]",J="[object Error]",Z="[object Function]",X="[object Map]",Q="[object Number]",K="[object Object]",tt="[object RegExp]",et="[object Set]",nt="[object String]",it="[object WeakMap]",rt="[object ArrayBuffer]",ot="[object Float32Array]",at="[object Float64Array]",st="[object Int8Array]",lt="[object Int16Array]",ct="[object Int32Array]",ut="[object Uint8Array]",dt="[object Uint8ClampedArray]",ft="[object Uint16Array]",ht="[object Uint32Array]",pt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39|#96);/g,yt=/[&<>"'`]/g,bt=RegExp(vt.source),_t=RegExp(yt.source),wt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Mt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Tt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(Tt.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,It=/\w*$/,At=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Et=/^\d+$/,Rt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Lt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Yt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Wt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Bt=-1,Nt={};Nt[ot]=Nt[at]=Nt[st]=Nt[lt]=Nt[ct]=Nt[ut]=Nt[dt]=Nt[ft]=Nt[ht]=!0,Nt[$]=Nt[z]=Nt[rt]=Nt[q]=Nt[G]=Nt[J]=Nt[Z]=Nt[X]=Nt[Q]=Nt[K]=Nt[tt]=Nt[et]=Nt[nt]=Nt[it]=!1;var Ut={};Ut[$]=Ut[z]=Ut[rt]=Ut[q]=Ut[G]=Ut[ot]=Ut[at]=Ut[st]=Ut[lt]=Ut[ct]=Ut[Q]=Ut[K]=Ut[tt]=Ut[nt]=Ut[ut]=Ut[dt]=Ut[ft]=Ut[ht]=!0,Ut[J]=Ut[Z]=Ut[X]=Ut[et]=Ut[it]=!1;var Ht={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},qt={"function":!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=qt[typeof n]&&n&&!n.nodeType&&n,Xt=qt[typeof e]&&e&&!e.nodeType&&e,Qt=Zt&&Xt&&"object"==typeof t&&t&&t.Object&&t,Kt=qt[typeof self]&&self&&self.Object&&self,te=qt[typeof window]&&window&&window.Object&&window,ee=Xt&&Xt.exports===Zt&&Zt,ne=Qt||te!==(this&&this.window)&&te||Kt||this,ie=S();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ne._=ie,define(function(){return ie})):Zt&&Xt?ee?(Xt.exports=ie)._=ie:Zt._=ie:ne._=ie}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){"use strict";var i=t("moment");i.fn.isHoliday=function(){var t=this.localeData();return!!(t._holidays&&t._holidays.indexOf(this.format(t._holidayFormat))>=0)},i.fn.isBusinessDay=function(){return 0!==this.day()&&6!==this.day()&&!this.isHoliday()},i.fn.businessDaysIntoMonth=function(){var t,e=this.isBusinessDay()?this:this.prevBusinessDay(),n=e.monthBusinessDays();return n.map(function(n,i){
n.format("M/DD/YY")===e.format("M/DD/YY")&&(t=i+1)}),t},i.fn.businessDiff=function(t){t=i(t);var e=t.unix()<this.unix()?1:-1,n=i.min(t,this).clone(),r=i.max(t,this).clone(),o=n.day()-7,a=r.day(),s=r.clone().subtract("d",a),l=n.clone().subtract("d",o),c=s.diff(l,"days")/7;return o=Math.abs(o),7==o?o=5:1==o?o=0:o-=2,6==a&&a--,e*(5*c+o+a)},i.fn.businessAdd=function(t){for(var e=t<0?-1:1,n=Math.abs(t),i=this.clone();n;)i.add(e,"d"),i.isBusinessDay()&&n--;return i},i.fn.businessSubtract=function(t){return this.businessAdd(-t)},i.fn.nextBusinessDay=function(){for(var t=1,e=7;t<e&&!this.add(1,"d").isBusinessDay();)t++;return this},i.fn.prevBusinessDay=function(){for(var t=1,e=7;t<e&&!this.subtract(1,"d").isBusinessDay();)t++;return this},i.fn.monthBusinessDays=function(){for(var t=this.clone(),e=t.clone().startOf("month"),n=t.clone().endOf("month"),i=[],r=!1;!r;)e.isBusinessDay()&&i.push(e.clone()),n.diff(e.add(1,"d"))<0&&(r=!0);return i},i.fn.monthNaturalDays=function(t){for(var e=this.clone(),n=t?e.clone():e.clone().startOf("month"),i=e.clone().endOf("month"),r=[],o=!1;!o;)r.push(n.clone()),i.diff(n.add(1,"d"))<0&&(o=!0);return r},i.fn.monthBusinessWeeks=function(t){for(var e=this.clone(),n=t?e.clone():e.clone().startOf("month"),i=e.clone().endOf("month"),r=[],o=[],a=!1;!a;)n.day()>=1&&n.day()<6&&o.push(n.clone()),5===n.day()&&(r.push(o),o=[]),i.diff(n.add(1,"d"))<0&&(o.length<5&&r.push(o),a=!0);return r},i.fn.monthNaturalWeeks=function(t){for(var e=this.clone(),n=t?e.clone():e.clone().startOf("month"),i=e.clone().endOf("month"),r=[],o=[],a=!1;!a;)o.push(n.clone()),6===n.day()&&(r.push(o),o=[]),i.diff(n.add(1,"d"))<0&&(o.length<7&&r.push(o),a=!0);return r},e.exports=i},{moment:45}],45:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function n(){return Rn.apply(null,arguments)}function i(t){Rn=t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Ot(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function f(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=c(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function p(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=d(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Vn.length>0)for(n in Vn)i=Vn[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function m(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Yn===!1&&(Yn=!0,n.updateOffset(this),Yn=!1)}function g(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=v(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&a++;return a+o}function _(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function x(t){for(var e,n,i,r,o=0;o<t.length;){for(r=w(t[o]).split("-"),e=r.length,n=w(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=k(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return null}function k(n){var i=null;if(!Wn[n]&&"undefined"!=typeof e&&e&&e.exports)try{i=Ln._abbr,t("./locale/"+n),S(i)}catch(r){}return Wn[n]}function S(t,e){var n;return t&&(n="undefined"==typeof e?D(t):M(t,e),n&&(Ln=n)),Ln._abbr}function M(t,e){return null!==e?(e.abbr=t,Wn[t]=Wn[t]||new _,Wn[t].set(e),S(t),Wn[t]):(delete Wn[t],null)}function D(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ln;if(!r(t)){if(e=k(t))return e;t=[t]}return x(t)}function T(t,e){var n=t.toLowerCase();Bn[n]=Bn[n+"s"]=Bn[e]=t}function C(t){return"string"==typeof t?Bn[t]||Bn[t.toLowerCase()]:void 0}function P(t){var e,n,i={};for(n in t)s(t,n)&&(e=C(n),e&&(i[e]=t[n]));return i}function O(t,e){return function(i){return null!=i?(I(this,t,i),n.updateOffset(this,e),this):j(this,t)}}function j(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function I(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=C(t),"function"==typeof this[t])return this[t](e);return this}function F(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function E(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&($n[t]=r),e&&($n[e[0]]=function(){return F(r.apply(this,arguments),e[1],e[2])}),n&&($n[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function R(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,n,i=t.match(Nn);for(e=0,n=i.length;e<n;e++)$n[i[e]]?i[e]=$n[i[e]]:i[e]=R(i[e]);return function(r){var o="";for(e=0;e<n;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function V(t,e){return t.isValid()?(e=Y(e,t.localeData()),Hn[e]=Hn[e]||L(e),Hn[e](t)):t.localeData().invalidDate()}function Y(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Un.lastIndex=0;i>=0&&Un.test(t);)t=t.replace(Un,n),Un.lastIndex=0,i-=1;return t}function W(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function B(t,e,n){ai[t]=W(e)?e:function(t){return t&&n?n:e}}function N(t,e){return s(ai,t)?ai[t](e._strict,e._locale):new RegExp(U(t))}function U(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)si[t[n]]=i}function $(t,e){H(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function z(t,e,n){null!=e&&s(si,t)&&si[t](e,n._a,n,t)}function q(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function G(t){return this._months[t.month()]}function J(t){return this._monthsShort[t.month()]}function Z(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function X(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),q(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function Q(t){return null!=t?(X(this,t),n.updateOffset(this,!0),this):j(this,"Month")}function K(){return q(this.year(),this.month())}function tt(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[ci]<0||n[ci]>11?ci:n[ui]<1||n[ui]>q(n[li],n[ci])?ui:n[di]<0||n[di]>24||24===n[di]&&(0!==n[fi]||0!==n[hi]||0!==n[pi])?di:n[fi]<0||n[fi]>59?fi:n[hi]<0||n[hi]>59?hi:n[pi]<0||n[pi]>999?pi:-1,d(t)._overflowDayOfYear&&(e<li||e>ui)&&(e=ui),d(t).overflow=e),t}function et(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function nt(t,e){var n=!0;return l(function(){return n&&(et(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function it(t,e){vi[t]||(et(e),vi[t]=!0)}function rt(t){var e,n,i=t._i,r=yi.exec(i);if(r){for(d(t).iso=!0,e=0,n=bi.length;e<n;e++)if(bi[e][1].exec(i)){t._f=bi[e][0];break}for(e=0,n=_i.length;e<n;e++)if(_i[e][1].exec(i)){t._f+=(r[6]||" ")+_i[e][0];break}i.match(ii)&&(t._f+="Z"),kt(t)}else t._isValid=!1}function ot(t){var e=wi.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(rt(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function at(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<1970&&s.setFullYear(t),s}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function lt(t){return ct(t)?366:365}function ct(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return ct(this.year())}function dt(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),o<r-7&&(o+=7),i=jt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ft(t){return dt(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function pt(){return this._week.doy}function mt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function gt(t){var e=dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function vt(t,e,n,i,r){var o,a=6+r-i,s=st(t,0,1+a),l=s.getUTCDay();return l<r&&(l+=7),n=null!=n?1*n:r,o=1+a+7*(e-1)-l+n,{year:o>0?t:t-1,dayOfYear:o>0?o:lt(t-1)+o}}function yt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function bt(t,e,n){return null!=t?t:null!=e?e:n}function _t(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wt(t){var e,n,i,r,o=[];if(!t._d){for(i=_t(t),t._w&&null==t._a[ui]&&null==t._a[ci]&&xt(t),t._dayOfYear&&(r=bt(t._a[li],i[li]),t._dayOfYear>lt(r)&&(d(t)._overflowDayOfYear=!0),n=st(r,0,t._dayOfYear),t._a[ci]=n.getUTCMonth(),t._a[ui]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[di]&&0===t._a[fi]&&0===t._a[hi]&&0===t._a[pi]&&(t._nextDay=!0,t._a[di]=0),t._d=(t._useUTC?st:at).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[di]=24)}}function xt(t){var e,n,i,r,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=bt(e.GG,t._a[li],dt(jt(),1,4).year),i=bt(e.W,1),r=bt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=bt(e.gg,t._a[li],dt(jt(),o,a).year),i=bt(e.w,1),null!=e.d?(r=e.d,r<o&&++i):r=null!=e.e?e.e+o:o),s=vt(n,i,r,a,o),t._a[li]=s.year,t._dayOfYear=s.dayOfYear}function kt(t){if(t._f===n.ISO_8601)return void rt(t);t._a=[],d(t).empty=!0;var e,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=Y(t._f,t._locale).match(Nn)||[],e=0;e<r.length;e++)o=r[e],i=(s.match(N(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),$n[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),z(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-c,s.length>0&&d(t).unusedInput.push(s),d(t).bigHour===!0&&t._a[di]<=12&&t._a[di]>0&&(d(t).bigHour=void 0),t._a[di]=St(t._locale,t._a[di],t._meridiem),wt(t),tt(t)}function St(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Mt(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],kt(e),f(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));l(t,n||e)}function Dt(t){if(!t._d){var e=P(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],wt(t)}}function Tt(t){var e=new m(tt(Ct(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ct(t){var e=t._i,n=t._f;return t._locale=t._locale||D(t._l),null===e||void 0===n&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new m(tt(e)):(r(n)?Mt(t):n?kt(t):o(e)?t._d=e:Pt(t),t))}function Pt(t){var e=t._i;void 0===e?t._d=new Date:o(e)?t._d=new Date((+e)):"string"==typeof e?ot(t):r(e)?(t._a=a(e.slice(0),function(t){return parseInt(t,10)}),wt(t)):"object"==typeof e?Dt(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function Ot(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Tt(o)}function jt(t,e,n,i){return Ot(t,e,n,i,!1)}function It(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return jt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function At(){var t=[].slice.call(arguments,0);return It("isBefore",t)}function Ft(){var t=[].slice.call(arguments,0);return It("isAfter",t)}function Et(t){var e=P(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=D(),this._bubble()}function Rt(t){return t instanceof Et}function Lt(t,e){E(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)})}function Vt(t){var e=(t||"").match(ii)||[],n=e[e.length-1]||[],i=(n+"").match(Di)||["-",0,0],r=+(60*i[1])+y(i[2]);return"+"===i[0]?r:-r}function Yt(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(g(t)||o(t)?+t:+jt(t))-+i,i._d.setTime(+i._d+r),n.updateOffset(i,!1),i):jt(t).local()}function Wt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Bt(t,e){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Vt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=Wt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?ie(this,Qt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Wt(this)}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ut(t){return this.utcOffset(0,t)}function Ht(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Wt(this),"m")),this}function $t(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Vt(this._i)),this}function zt(t){return t=t?jt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(p(t,this),t=Ct(t),t._a){var e=t._isUTC?c(t._a):jt(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!this._isUTC}function Zt(){return this._isUTC}function Xt(){return this._isUTC&&0===this._offset}function Qt(t,e){var n,i,r,o=t,a=null;return Rt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Ti.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[ui])*n,h:y(a[di])*n,m:y(a[fi])*n,s:y(a[hi])*n,ms:y(a[pi])*n}):(a=Ci.exec(t))?(n="-"===a[1]?-1:1,o={y:Kt(a[2],n),M:Kt(a[3],n),d:Kt(a[4],n),h:Kt(a[5],n),m:Kt(a[6],n),s:Kt(a[7],n),w:Kt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=ee(jt(o.from),jt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Et(o),Rt(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function Kt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function te(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ee(t,e){var n;return e=Yt(e,t),t.isBefore(e)?n=te(t,e):(n=te(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function ne(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(it(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Qt(n,i),ie(this,r,t),this}}function ie(t,e,i,r){var o=e._milliseconds,a=e._days,s=e._months;r=null==r||r,o&&t._d.setTime(+t._d+o*i),a&&I(t,"Date",j(t,"Date")+a*i),s&&X(t,j(t,"Month")+s*i),r&&n.updateOffset(t,a||s)}function re(t,e){var n=t||jt(),i=Yt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,jt(n)))}function oe(){return new m(this)}function ae(t,e){var n;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:jt(t),+this>+t):(n=g(t)?+t:+jt(t),n<+this.clone().startOf(e))}function se(t,e){var n;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:jt(t),+this<+t):(n=g(t)?+t:+jt(t),+this.clone().endOf(e)<n)}function le(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ce(t,e){var n;return e=C(e||"millisecond"),"millisecond"===e?(t=g(t)?t:jt(t),+this===+t):(n=+jt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ue(t,e,n){var i,r,o=Yt(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=C(e),"year"===e||"month"===e||"quarter"===e?(r=de(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:v(r)}function de(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function fe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(t){var e=V(this,t||n.defaultFormat);return this.localeData().postformat(e)}function me(t,e){return this.isValid()?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.from(jt(),t)}function ve(t,e){return this.isValid()?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(jt(),t)}function be(t){var e;return void 0===t?this._locale._abbr:(e=D(t),null!=e&&(this._locale=e),this)}function _e(){return this._locale}function we(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function xe(t){return t=C(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function ke(){return+this._d-6e4*(this._offset||0)}function Se(){return Math.floor(+this/1e3)}function Me(){return this._offset?new Date((+this)):this._d}function De(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Te(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ce(){return f(this)}function Pe(){return l({},d(this))}function Oe(){return d(this).overflow}function je(t,e){E(0,[t,t.length],0,e)}function Ie(t,e,n){return dt(jt([t,11,31+e-n]),e,n).week}function Ae(t){var e=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Fe(t){var e=dt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ee(){return Ie(this.year(),1,4)}function Re(){var t=this.localeData()._week;return Ie(this.year(),t.dow,t.doy)}function Le(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ve(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ye(t){return this._weekdays[t.day()]}function We(t){return this._weekdaysShort[t.day()]}function Be(t){return this._weekdaysMin[t.day()]}function Ne(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=jt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ue(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ve(t,this.localeData()),this.add(t-e,"d")):e}function He(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function $e(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function ze(t,e){E(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qe(t,e){return e._meridiemParse}function Ge(t){return"p"===(t+"").toLowerCase().charAt(0)}function Je(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ze(t,e){e[pi]=y(1e3*("0."+t))}function Xe(){return this._isUTC?"UTC":""}function Qe(){return this._isUTC?"Coordinated Universal Time":""}function Ke(t){return jt(1e3*t)}function tn(){return jt.apply(null,arguments).parseZone()}function en(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function nn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function rn(){return this._invalidDate}function on(t){return this._ordinal.replace("%d",t)}function an(t){return t}function sn(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function ln(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function cn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(t,e,n,i){var r=D(),o=c().set(i,e);return r[n](o,t)}function dn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return un(t,e,n,r);var o,a=[];for(o=0;o<i;o++)a[o]=un(t,o,n,r);return a}function fn(t,e){return dn(t,e,"months",12,"month")}function hn(t,e){return dn(t,e,"monthsShort",12,"month")}function pn(t,e){return dn(t,e,"weekdays",7,"day")}function mn(t,e){return dn(t,e,"weekdaysShort",7,"day")}function gn(t,e){return dn(t,e,"weekdaysMin",7,"day")}function vn(){var t=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),t.milliseconds=Xi(t.milliseconds),t.seconds=Xi(t.seconds),t.minutes=Xi(t.minutes),t.hours=Xi(t.hours),t.months=Xi(t.months),t.years=Xi(t.years),this}function yn(t,e,n,i){var r=Qt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function bn(t,e){return yn(this,t,e,1)}function _n(t,e){return yn(this,t,e,-1)}function wn(t){return t<0?Math.floor(t):Math.ceil(t)}function xn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*wn(Sn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=v(o/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,n=v(e/60),l.hours=n%24,a+=v(n/24),r=v(kn(a)),s+=r,a-=wn(Sn(r)),i=v(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function kn(t){return 4800*t/146097}function Sn(t){return 146097*t/4800}function Mn(t){var e,n,i=this._milliseconds;if(t=C(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+kn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Sn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Dn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Tn(t){return function(){return this.as(t)}}function Cn(t){return t=C(t),this[t+"s"]()}function Pn(t){return function(){return this._data[t]}}function On(){return v(this.days()/7)}function jn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function In(t,e,n){var i=Qt(t).abs(),r=hr(i.as("s")),o=hr(i.as("m")),a=hr(i.as("h")),s=hr(i.as("d")),l=hr(i.as("M")),c=hr(i.as("y")),u=r<pr.s&&["s",r]||1===o&&["m"]||o<pr.m&&["mm",o]||1===a&&["h"]||a<pr.h&&["hh",a]||1===s&&["d"]||s<pr.d&&["dd",s]||1===l&&["M"]||l<pr.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,jn.apply(null,u)}function An(t,e){return void 0!==pr[t]&&(void 0===e?pr[t]:(pr[t]=e,!0))}function Fn(t){var e=this.localeData(),n=In(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function En(){var t,e,n,i=mr(this._milliseconds)/1e3,r=mr(this._days),o=mr(this._months);t=v(i/60),e=v(t/60),i%=60,t%=60,n=v(o/12),o%=12;var a=n,s=o,l=r,c=e,u=t,d=i,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var Rn,Ln,Vn=n.momentProperties=[],Yn=!1,Wn={},Bn={},Nn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Un=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hn={},$n={},zn=/\d/,qn=/\d\d/,Gn=/\d{3}/,Jn=/\d{4}/,Zn=/[+-]?\d{6}/,Xn=/\d\d?/,Qn=/\d{1,3}/,Kn=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ei=/\d+/,ni=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,ri=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ai={},si={},li=0,ci=1,ui=2,di=3,fi=4,hi=5,pi=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),E("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),B("M",Xn),B("MM",Xn,qn),B("MMM",oi),B("MMMM",oi),H(["M","MM"],function(t,e){e[ci]=y(t)-1}),H(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ci]=r:d(n).invalidMonth=t});var mi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vi={};n.suppressDeprecationWarnings=!1;var yi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],_i=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wi=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=nt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),T("year","y"),B("Y",ni),B("YY",Xn,qn),B("YYYY",Kn,Jn),B("YYYYY",ti,Zn),B("YYYYYY",ti,Zn),H(["YYYYY","YYYYYY"],li),H("YYYY",function(t,e){e[li]=2===t.length?n.parseTwoDigitYear(t):y(t)}),H("YY",function(t,e){e[li]=n.parseTwoDigitYear(t)}),n.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var xi=O("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),B("w",Xn),B("ww",Xn,qn),B("W",Xn),B("WW",Xn,qn),$(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var ki={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),B("DDD",Qn),B("DDDD",Gn),H(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),n.ISO_8601=function(){};var Si=nt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=jt.apply(null,arguments);return t<this?this:t}),Mi=nt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=jt.apply(null,arguments);return t>this?this:t});Lt("Z",":"),Lt("ZZ",""),B("Z",ii),B("ZZ",ii),H(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Vt(t)});var Di=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Ti=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ci=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Et.prototype;var Pi=ne(1,"add"),Oi=ne(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ji=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),je("gggg","weekYear"),je("ggggg","weekYear"),je("GGGG","isoWeekYear"),je("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),B("G",ni),B("g",ni),B("GG",Xn,qn),B("gg",Xn,qn),B("GGGG",Kn,Jn),B("gggg",Kn,Jn),B("GGGGG",ti,Zn),B("ggggg",ti,Zn),$(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),$(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),E("Q",0,0,"quarter"),T("quarter","Q"),B("Q",zn),H("Q",function(t,e){e[ci]=3*(y(t)-1)}),E("D",["DD",2],"Do","date"),T("date","D"),B("D",Xn),B("DD",Xn,qn),B("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),H(["D","DD"],ui),H("Do",function(t,e){e[ui]=y(t.match(Xn)[0],10)});var Ii=O("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),E("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),E("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),B("d",Xn),B("e",Xn),B("E",Xn),B("dd",oi),B("ddd",oi),B("dddd",oi),$(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:d(n).invalidWeekday=t}),$(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var Ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ei="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),ze("a",!0),ze("A",!1),T("hour","h"),B("a",qe),B("A",qe),B("H",Xn),B("h",Xn),B("HH",Xn,qn),B("hh",Xn,qn),H(["H","HH"],di),H(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),H(["h","hh"],function(t,e,n){e[di]=y(t),d(n).bigHour=!0});var Ri=/[ap]\.?m?\.?/i,Li=O("Hours",!0);E("m",["mm",2],0,"minute"),T("minute","m"),B("m",Xn),B("mm",Xn,qn),
H(["m","mm"],fi);var Vi=O("Minutes",!1);E("s",["ss",2],0,"second"),T("second","s"),B("s",Xn),B("ss",Xn,qn),H(["s","ss"],hi);var Yi=O("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),B("S",Qn,zn),B("SS",Qn,qn),B("SSS",Qn,Gn);var Wi;for(Wi="SSSS";Wi.length<=9;Wi+="S")B(Wi,ei);for(Wi="S";Wi.length<=9;Wi+="S")H(Wi,Ze);var Bi=O("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Ni=m.prototype;Ni.add=Pi,Ni.calendar=re,Ni.clone=oe,Ni.diff=ue,Ni.endOf=xe,Ni.format=pe,Ni.from=me,Ni.fromNow=ge,Ni.to=ve,Ni.toNow=ye,Ni.get=A,Ni.invalidAt=Oe,Ni.isAfter=ae,Ni.isBefore=se,Ni.isBetween=le,Ni.isSame=ce,Ni.isValid=Ce,Ni.lang=ji,Ni.locale=be,Ni.localeData=_e,Ni.max=Mi,Ni.min=Si,Ni.parsingFlags=Pe,Ni.set=A,Ni.startOf=we,Ni.subtract=Oi,Ni.toArray=De,Ni.toObject=Te,Ni.toDate=Me,Ni.toISOString=he,Ni.toJSON=he,Ni.toString=fe,Ni.unix=Se,Ni.valueOf=ke,Ni.year=xi,Ni.isLeapYear=ut,Ni.weekYear=Ae,Ni.isoWeekYear=Fe,Ni.quarter=Ni.quarters=Le,Ni.month=Q,Ni.daysInMonth=K,Ni.week=Ni.weeks=mt,Ni.isoWeek=Ni.isoWeeks=gt,Ni.weeksInYear=Re,Ni.isoWeeksInYear=Ee,Ni.date=Ii,Ni.day=Ni.days=Ue,Ni.weekday=He,Ni.isoWeekday=$e,Ni.dayOfYear=yt,Ni.hour=Ni.hours=Li,Ni.minute=Ni.minutes=Vi,Ni.second=Ni.seconds=Yi,Ni.millisecond=Ni.milliseconds=Bi,Ni.utcOffset=Bt,Ni.utc=Ut,Ni.local=Ht,Ni.parseZone=$t,Ni.hasAlignedHourOffset=zt,Ni.isDST=qt,Ni.isDSTShifted=Gt,Ni.isLocal=Jt,Ni.isUtcOffset=Zt,Ni.isUtc=Xt,Ni.isUTC=Xt,Ni.zoneAbbr=Xe,Ni.zoneName=Qe,Ni.dates=nt("dates accessor is deprecated. Use date instead.",Ii),Ni.months=nt("months accessor is deprecated. Use month instead",Q),Ni.years=nt("years accessor is deprecated. Use year instead",xi),Ni.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var Ui=Ni,Hi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zi="Invalid date",qi="%d",Gi=/\d{1,2}/,Ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Zi=_.prototype;Zi._calendar=Hi,Zi.calendar=en,Zi._longDateFormat=$i,Zi.longDateFormat=nn,Zi._invalidDate=zi,Zi.invalidDate=rn,Zi._ordinal=qi,Zi.ordinal=on,Zi._ordinalParse=Gi,Zi.preparse=an,Zi.postformat=an,Zi._relativeTime=Ji,Zi.relativeTime=sn,Zi.pastFuture=ln,Zi.set=cn,Zi.months=G,Zi._months=mi,Zi.monthsShort=J,Zi._monthsShort=gi,Zi.monthsParse=Z,Zi.week=ft,Zi._week=ki,Zi.firstDayOfYear=pt,Zi.firstDayOfWeek=ht,Zi.weekdays=Ye,Zi._weekdays=Ai,Zi.weekdaysMin=Be,Zi._weekdaysMin=Ei,Zi.weekdaysShort=We,Zi._weekdaysShort=Fi,Zi.weekdaysParse=Ne,Zi.isPM=Ge,Zi._meridiemParse=Ri,Zi.meridiem=Je,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=nt("moment.lang is deprecated. Use moment.locale instead.",S),n.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",D);var Xi=Math.abs,Qi=Tn("ms"),Ki=Tn("s"),tr=Tn("m"),er=Tn("h"),nr=Tn("d"),ir=Tn("w"),rr=Tn("M"),or=Tn("y"),ar=Pn("milliseconds"),sr=Pn("seconds"),lr=Pn("minutes"),cr=Pn("hours"),ur=Pn("days"),dr=Pn("months"),fr=Pn("years"),hr=Math.round,pr={s:45,m:45,h:22,d:26,M:11},mr=Math.abs,gr=Et.prototype;gr.abs=vn,gr.add=bn,gr.subtract=_n,gr.as=Mn,gr.asMilliseconds=Qi,gr.asSeconds=Ki,gr.asMinutes=tr,gr.asHours=er,gr.asDays=nr,gr.asWeeks=ir,gr.asMonths=rr,gr.asYears=or,gr.valueOf=Dn,gr._bubble=xn,gr.get=Cn,gr.milliseconds=ar,gr.seconds=sr,gr.minutes=lr,gr.hours=cr,gr.days=ur,gr.weeks=On,gr.months=dr,gr.years=fr,gr.humanize=Fn,gr.toISOString=En,gr.toString=En,gr.toJSON=En,gr.locale=be,gr.localeData=_e,gr.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),gr.lang=ji,E("X",0,0,"unix"),E("x",0,0,"valueOf"),B("x",ni),B("X",ri),H("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),H("x",function(t,e,n){n._d=new Date(y(t))}),n.version="2.10.6",i(jt),n.fn=Ui,n.min=At,n.max=Ft,n.utc=c,n.unix=Ke,n.months=fn,n.isDate=o,n.locale=S,n.invalid=h,n.duration=Qt,n.isMoment=g,n.weekdays=pn,n.parseZone=tn,n.localeData=D,n.isDuration=Rt,n.monthsShort=hn,n.weekdaysMin=gn,n.defineLocale=M,n.weekdaysShort=mn,n.normalizeUnits=C,n.relativeTimeThreshold=An;var vr=n;return vr})},{}],46:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function n(){return li.apply(null,arguments)}function i(t){li=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Lt(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function f(t){if(null==t._isValid){var e=d(t),n=ci.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=c(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function p(t){return void 0===t}function m(t,e){var n,i,r;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=d(e)),p(e._locale)||(t._locale=e._locale),ui.length>0)for(n in ui)i=ui[n],r=e[i],p(r)||(t[i]=r);return t}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),di===!1&&(di=!0,n.updateOffset(this),di=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t):Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&a++;return a+o}function w(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var i=!0;return l(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),i&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function k(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),fi[t]||(w(e),fi[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t){return"[object Object]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],S(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,i=l({},t);for(n in e)s(e,n)&&(M(t[n])&&M(e[n])?(i[n]={},l(i[n],t[n]),l(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function C(t){null!=t&&this.set(t)}function P(t){return t?t.toLowerCase().replace("_","-"):t}function O(t){for(var e,n,i,r,o=0;o<t.length;){for(r=P(t[o]).split("-"),e=r.length,n=P(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=j(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function j(n){var i=null;if(!gi[n]&&"undefined"!=typeof e&&e&&e.exports)try{i=pi._abbr,t("./locale/"+n),I(i)}catch(r){}return gi[n]}function I(t,e){var n;return t&&(n=p(e)?E(t):A(t,e),n&&(pi=n)),pi._abbr}function A(t,e){return null!==e?(e.abbr=t,null!=gi[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=T(gi[t]._config,e)):null!=e.parentLocale&&(null!=gi[e.parentLocale]?e=T(gi[e.parentLocale]._config,e):k("parentLocaleUndefined","specified parentLocale is not defined yet")),gi[t]=new C(e),I(t),gi[t]):(delete gi[t],null)}function F(t,e){if(null!=e){var n;null!=gi[t]&&(e=T(gi[t]._config,e)),n=new C(e),n.parentLocale=gi[t],gi[t]=n,I(t)}else null!=gi[t]&&(null!=gi[t].parentLocale?gi[t]=gi[t].parentLocale:null!=gi[t]&&delete gi[t]);return gi[t]}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pi;if(!r(t)){if(e=j(t))return e;t=[t]}return O(t)}function R(){return hi(gi)}function L(t,e){var n=t.toLowerCase();vi[n]=vi[n+"s"]=vi[e]=t}function V(t){return"string"==typeof t?vi[t]||vi[t.toLowerCase()]:void 0}function Y(t){var e,n,i={};for(n in t)s(t,n)&&(e=V(n),e&&(i[e]=t[n]));return i}function W(t,e){return function(i){return null!=i?(N(this,t,i),n.updateOffset(this,e),this):B(this,t)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function N(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=V(t),S(this[t]))return this[t](e);return this}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function $(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(wi[t]=r),e&&(wi[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(wi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(yi);for(e=0,n=i.length;e<n;e++)wi[i[e]]?i[e]=wi[i[e]]:i[e]=z(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function G(t,e){return t.isValid()?(e=J(e,t.localeData()),_i[e]=_i[e]||q(e),_i[e](t)):t.localeData().invalidDate()}function J(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(bi.lastIndex=0;i>=0&&bi.test(t);)t=t.replace(bi,n),bi.lastIndex=0,i-=1;return t}function Z(t,e,n){Yi[t]=S(e)?e:function(t,i){return t&&n?n:e}}function X(t,e){return s(Yi,t)?Yi[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)Wi[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&s(Wi,t)&&Wi[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Zi.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Zi.test(e)?"format":"standalone"][t.month()]}function at(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=mi.call(this._shortMonthsParse,a),r!==-1?r:null):(r=mi.call(this._longMonthsParse,a),r!==-1?r:null):"MMM"===e?(r=mi.call(this._shortMonthsParse,a),r!==-1?r:(r=mi.call(this._longMonthsParse,a),r!==-1?r:null)):(r=mi.call(this._longMonthsParse,a),r!==-1?r:(r=mi.call(this._shortMonthsParse,a),r!==-1?r:null))}function st(t,e,n){var i,r,o;if(this._monthsParseExact)return at.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ct(t){return null!=t?(lt(this,t),n.updateOffset(this,!0),this):B(this,"Month")}function ut(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ft(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ht(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=K(i[e]),r[e]=K(r[e]),o[e]=K(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function pt(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[Ni]<0||n[Ni]>11?Ni:n[Ui]<1||n[Ui]>it(n[Bi],n[Ni])?Ui:n[Hi]<0||n[Hi]>24||24===n[Hi]&&(0!==n[$i]||0!==n[zi]||0!==n[qi])?Hi:n[$i]<0||n[$i]>59?$i:n[zi]<0||n[zi]>59?zi:n[qi]<0||n[qi]>999?qi:-1,d(t)._overflowDayOfYear&&(e<Bi||e>Ui)&&(e=Ui),d(t)._overflowWeeks&&e===-1&&(e=Gi),d(t)._overflowWeekday&&e===-1&&(e=Ji),d(t).overflow=e),t}function mt(t){var e,n,i,r,o,a,s=t._i,l=er.exec(s)||nr.exec(s);if(l){for(d(t).iso=!0,e=0,n=rr.length;e<n;e++)if(rr[e][1].exec(l[1])){r=rr[e][0],i=rr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=or.length;e<n;e++)if(or[e][1].exec(l[3])){o=(l[2]||" ")+or[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ir.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),Ot(t)}else t._isValid=!1}function gt(t){var e=ar.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(mt(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function vt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t){return _t(t)?366:365}function _t(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return _t(this.year())}function xt(t,e,n){var i=7+e-n,r=(7+yt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function kt(t,e,n,i,r){var o,a,s=(7+n-i)%7,l=xt(t,i,r),c=1+7*(e-1)+s+l;return c<=0?(o=t-1,a=bt(o)+c):c>bt(t)?(o=t+1,a=c-bt(t)):(o=t,a=c),{year:o,dayOfYear:a}}function St(t,e,n){var i,r,o=xt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+Mt(r,e,n)):a>Mt(t.year(),e,n)?(i=a-Mt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Mt(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(bt(t)-i+r)/7}function Dt(t,e,n){return null!=t?t:null!=e?e:n}function Tt(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ct(t){var e,n,i,r,o=[];if(!t._d){for(i=Tt(t),t._w&&null==t._a[Ui]&&null==t._a[Ni]&&Pt(t),t._dayOfYear&&(r=Dt(t._a[Bi],i[Bi]),t._dayOfYear>bt(r)&&(d(t)._overflowDayOfYear=!0),n=yt(r,0,t._dayOfYear),t._a[Ni]=n.getUTCMonth(),t._a[Ui]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Hi]&&0===t._a[$i]&&0===t._a[zi]&&0===t._a[qi]&&(t._nextDay=!0,t._a[Hi]=0),t._d=(t._useUTC?yt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Hi]=24)}}function Pt(t){var e,n,i,r,o,a,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=Dt(e.GG,t._a[Bi],St(Vt(),1,4).year),i=Dt(e.W,1),r=Dt(e.E,1),(r<1||r>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=Dt(e.gg,t._a[Bi],St(Vt(),o,a).year),i=Dt(e.w,1),null!=e.d?(r=e.d,(r<0||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),i<1||i>Mt(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=kt(n,i,r,o,a),t._a[Bi]=s.year,t._dayOfYear=s.dayOfYear)}function Ot(t){if(t._f===n.ISO_8601)return void mt(t);t._a=[],d(t).empty=!0;var e,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=J(t._f,t._locale).match(yi)||[],e=0;e<r.length;e++)o=r[e],i=(s.match(X(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),wi[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),nt(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-c,s.length>0&&d(t).unusedInput.push(s),d(t).bigHour===!0&&t._a[Hi]<=12&&t._a[Hi]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Hi]=jt(t._locale,t._a[Hi],t._meridiem),Ct(t),pt(t)}function jt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function It(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Ot(e),f(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));l(t,n||e)}function At(t){if(!t._d){var e=Y(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Ct(t)}}function Ft(t){var e=new g(pt(Et(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Et(t){var e=t._i,n=t._f;return t._locale=t._locale||E(t._l),null===e||void 0===n&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new g(pt(e)):(r(n)?It(t):n?Ot(t):o(e)?t._d=e:Rt(t),f(t)||(t._d=null),t))}function Rt(t){var e=t._i;void 0===e?t._d=new Date(n.now()):o(e)?t._d=new Date(e.valueOf()):"string"==typeof e?gt(t):r(e)?(t._a=a(e.slice(0),function(t){return parseInt(t,10)}),Ct(t)):"object"==typeof e?At(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function Lt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Ft(o)}function Vt(t,e,n,i){return Lt(t,e,n,i,!1)}function Yt(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Vt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Wt(){var t=[].slice.call(arguments,0);return Yt("isBefore",t)}function Bt(){var t=[].slice.call(arguments,0);return Yt("isAfter",t)}function Nt(t){var e=Y(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function Ut(t){return t instanceof Nt}function Ht(t,e){$(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function $t(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(dr)||["-",0,0],o=+(60*r[1])+b(r[2]);return"+"===r[0]?o:-o}function zt(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(v(t)||o(t)?t.valueOf():Vt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Vt(t).local()}function qt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Gt(t,e){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=$t(Ri,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=qt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?de(this,oe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:qt(this):null!=t?this:NaN}function Jt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Zt(t){return this.utcOffset(0,t)}function Xt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qt(this),"m")),this}function Qt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset($t(Ei,this._i)),this}function Kt(t){return!!this.isValid()&&(t=t?Vt(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ee(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=Et(t),t._a){var e=t._isUTC?c(t._a):Vt(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ne(){return!!this.isValid()&&!this._isUTC}function ie(){return!!this.isValid()&&this._isUTC}function re(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function oe(t,e){var n,i,r,o=t,a=null;return Ut(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=fr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[Ui])*n,h:b(a[Hi])*n,m:b(a[$i])*n,s:b(a[zi])*n,ms:b(a[qi])*n}):(a=hr.exec(t))?(n="-"===a[1]?-1:1,o={y:ae(a[2],n),M:ae(a[3],n),w:ae(a[4],n),d:ae(a[5],n),h:ae(a[6],n),m:ae(a[7],n),s:ae(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=le(Vt(o.from),Vt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Nt(o),Ut(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function ae(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function se(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function le(t,e){var n;return t.isValid()&&e.isValid()?(e=zt(e,t),t.isBefore(e)?n=se(t,e):(n=se(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ce(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ue(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=oe(n,i),de(this,r,t),this}}function de(t,e,i,r){var o=e._milliseconds,a=ce(e._days),s=ce(e._months);t.isValid()&&(r=null==r||r,o&&t._d.setTime(t._d.valueOf()+o*i),a&&N(t,"Date",B(t,"Date")+a*i),s&&lt(t,B(t,"Month")+s*i),r&&n.updateOffset(t,a||s))}function fe(t,e){var n=t||Vt(),i=zt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",a=e&&(S(e[o])?e[o]():e[o]);return this.format(a||this.localeData().calendar(o,this,Vt(n)))}function he(){return new g(this)}function pe(t,e){var n=v(t)?t:Vt(t);return!(!this.isValid()||!n.isValid())&&(e=V(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function me(t,e){var n=v(t)?t:Vt(t);return!(!this.isValid()||!n.isValid())&&(e=V(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ge(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ve(t,e){var n,i=v(t)?t:Vt(t);return!(!this.isValid()||!i.isValid())&&(e=V(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function ye(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function be(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function _e(t,e,n){var i,r,o,a;return this.isValid()?(i=zt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=V(e),"year"===e||"month"===e||"quarter"===e?(a=we(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:y(a)):NaN):NaN}function we(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function xe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ke(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Se(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)}function Me(t,e){return this.isValid()&&(v(t)&&t.isValid()||Vt(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function De(t){return this.from(Vt(),t)}function Te(t,e){return this.isValid()&&(v(t)&&t.isValid()||Vt(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ce(t){return this.to(Vt(),t)}function Pe(t){var e;return void 0===t?this._locale._abbr:(e=E(t),null!=e&&(this._locale=e),this)}function Oe(){return this._locale}function je(t){switch(t=V(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ie(t){return t=V(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Ae(){return this._d.valueOf()-6e4*(this._offset||0)}function Fe(){return Math.floor(this.valueOf()/1e3)}function Ee(){return this._offset?new Date(this.valueOf()):this._d}function Re(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Le(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ve(){return this.isValid()?this.toISOString():null}function Ye(){return f(this)}function We(){return l({},d(this))}function Be(){return d(this).overflow}function Ne(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ue(t,e){$(0,[t,t.length],0,e)}function He(t){return Ge.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $e(t){return Ge.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function ze(){return Mt(this.year(),1,4)}function qe(){var t=this.localeData()._week;return Mt(this.year(),t.dow,t.doy)}function Ge(t,e,n,i,r){var o;return null==t?St(this,i,r).year:(o=Mt(t,i,r),e>o&&(e=o),Je.call(this,t,e,n,i,r))}function Je(t,e,n,i,r){var o=kt(t,e,n,i,r),a=yt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ze(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Xe(t){return St(t,this._week.dow,this._week.doy).week}function Qe(){return this._week.dow}function Ke(){return this._week.doy}function tn(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function en(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function nn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function rn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function on(t){return this._weekdaysShort[t.day()]}function an(t){return this._weekdaysMin[t.day()]}function sn(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=mi.call(this._weekdaysParse,a),r!==-1?r:null):"ddd"===e?(r=mi.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=mi.call(this._minWeekdaysParse,a),r!==-1?r:null):"dddd"===e?(r=mi.call(this._weekdaysParse,a),r!==-1?r:(r=mi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=mi.call(this._minWeekdaysParse,a),r!==-1?r:null))):"ddd"===e?(r=mi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=mi.call(this._weekdaysParse,a),r!==-1?r:(r=mi.call(this._minWeekdaysParse,a),r!==-1?r:null))):(r=mi.call(this._minWeekdaysParse,a),r!==-1?r:(r=mi.call(this._weekdaysParse,a),r!==-1?r:(r=mi.call(this._shortWeekdaysParse,a),r!==-1?r:null)))}function ln(t,e,n){var i,r,o;if(this._weekdaysParseExact)return sn.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function cn(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nn(t,this.localeData()),this.add(t-e,"d")):e}function un(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function dn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function fn(t){
return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function hn(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function pn(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function mn(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=K(s[e]),l[e]=K(l[e]),u[e]=K(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function gn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vn(){return this.hours()%12||12}function yn(){return this.hours()||24}function bn(t,e){$(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function _n(t,e){return e._meridiemParse}function wn(t){return"p"===(t+"").toLowerCase().charAt(0)}function xn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function kn(t,e){e[qi]=b(1e3*("0."+t))}function Sn(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}function Dn(t){return Vt(1e3*t)}function Tn(){return Vt.apply(null,arguments).parseZone()}function Cn(t,e,n){var i=this._calendar[t];return S(i)?i.call(e,n):i}function Pn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function On(){return this._invalidDate}function jn(t){return this._ordinal.replace("%d",t)}function In(t){return t}function An(t,e,n,i){var r=this._relativeTime[n];return S(r)?r(t,e,n,i):r.replace(/%d/i,t)}function Fn(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)}function En(t,e,n,i){var r=E(),o=c().set(i,e);return r[n](o,t)}function Rn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return En(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=En(t,i,n,"month");return r}function Ln(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=E(),o=t?r._week.dow:0;if(null!=n)return En(e,(n+o)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=En(e,(a+o)%7,i,"day");return s}function Vn(t,e){return Rn(t,e,"months")}function Yn(t,e){return Rn(t,e,"monthsShort")}function Wn(t,e,n){return Ln(t,e,n,"weekdays")}function Bn(t,e,n){return Ln(t,e,n,"weekdaysShort")}function Nn(t,e,n){return Ln(t,e,n,"weekdaysMin")}function Un(){var t=this._data;return this._milliseconds=Wr(this._milliseconds),this._days=Wr(this._days),this._months=Wr(this._months),t.milliseconds=Wr(t.milliseconds),t.seconds=Wr(t.seconds),t.minutes=Wr(t.minutes),t.hours=Wr(t.hours),t.months=Wr(t.months),t.years=Wr(t.years),this}function Hn(t,e,n,i){var r=oe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function $n(t,e){return Hn(this,t,e,1)}function zn(t,e){return Hn(this,t,e,-1)}function qn(t){return t<0?Math.floor(t):Math.ceil(t)}function Gn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*qn(Zn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=y(o/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,n=y(e/60),l.hours=n%24,a+=y(n/24),r=y(Jn(a)),s+=r,a-=qn(Zn(r)),i=y(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function Jn(t){return 4800*t/146097}function Zn(t){return 146097*t/4800}function Xn(t){var e,n,i=this._milliseconds;if(t=V(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Jn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Zn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Qn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Kn(t){return function(){return this.as(t)}}function ti(t){return t=V(t),this[t+"s"]()}function ei(t){return function(){return this._data[t]}}function ni(){return y(this.days()/7)}function ii(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ri(t,e,n){var i=oe(t).abs(),r=no(i.as("s")),o=no(i.as("m")),a=no(i.as("h")),s=no(i.as("d")),l=no(i.as("M")),c=no(i.as("y")),u=r<io.s&&["s",r]||o<=1&&["m"]||o<io.m&&["mm",o]||a<=1&&["h"]||a<io.h&&["hh",a]||s<=1&&["d"]||s<io.d&&["dd",s]||l<=1&&["M"]||l<io.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,ii.apply(null,u)}function oi(t,e){return void 0!==io[t]&&(void 0===e?io[t]:(io[t]=e,!0))}function ai(t){var e=this.localeData(),n=ri(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function si(){var t,e,n,i=ro(this._milliseconds)/1e3,r=ro(this._days),o=ro(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(o/12),o%=12;var a=n,s=o,l=r,c=e,u=t,d=i,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var li,ci;ci=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var ui=n.momentProperties=[],di=!1,fi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var hi;hi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var pi,mi,gi={},vi={},yi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,bi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_i={},wi={},xi=/\d/,ki=/\d\d/,Si=/\d{3}/,Mi=/\d{4}/,Di=/[+-]?\d{6}/,Ti=/\d\d?/,Ci=/\d\d\d\d?/,Pi=/\d\d\d\d\d\d?/,Oi=/\d{1,3}/,ji=/\d{1,4}/,Ii=/[+-]?\d{1,6}/,Ai=/\d+/,Fi=/[+-]?\d+/,Ei=/Z|[+-]\d\d:?\d\d/gi,Ri=/Z|[+-]\d\d(?::?\d\d)?/gi,Li=/[+-]?\d+(\.\d{1,3})?/,Vi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yi={},Wi={},Bi=0,Ni=1,Ui=2,Hi=3,$i=4,zi=5,qi=6,Gi=7,Ji=8;mi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),$("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),Z("M",Ti),Z("MM",Ti,ki),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Ni]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ni]=r:d(n).invalidMonth=t});var Zi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Xi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ki=Vi,tr=Vi,er=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ir=/Z|[+-]\d\d(?::?\d\d)?/,rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],or=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ar=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),$("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),L("year","y"),Z("Y",Fi),Z("YY",Ti,ki),Z("YYYY",ji,Mi),Z("YYYYY",Ii,Di),Z("YYYYYY",Ii,Di),tt(["YYYYY","YYYYYY"],Bi),tt("YYYY",function(t,e){e[Bi]=2===t.length?n.parseTwoDigitYear(t):b(t)}),tt("YY",function(t,e){e[Bi]=n.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[Bi]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var sr=W("FullYear",!0);n.ISO_8601=function(){};var lr=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Vt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:h()}),cr=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Vt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),ur=function(){return Date.now?Date.now():+new Date};Ht("Z",":"),Ht("ZZ",""),Z("Z",Ri),Z("ZZ",Ri),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=$t(Ri,t)});var dr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var fr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;oe.fn=Nt.prototype;var pr=ue(1,"add"),mr=ue(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var gr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),Z("G",Fi),Z("g",Fi),Z("GG",Ti,ki),Z("gg",Ti,ki),Z("GGGG",ji,Mi),Z("gggg",ji,Mi),Z("GGGGG",Ii,Di),Z("ggggg",Ii,Di),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),$("Q",0,"Qo","quarter"),L("quarter","Q"),Z("Q",xi),tt("Q",function(t,e){e[Ni]=3*(b(t)-1)}),$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),Z("w",Ti),Z("ww",Ti,ki),Z("W",Ti),Z("WW",Ti,ki),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var vr={dow:0,doy:6};$("D",["DD",2],"Do","date"),L("date","D"),Z("D",Ti),Z("DD",Ti,ki),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ui),tt("Do",function(t,e){e[Ui]=b(t.match(Ti)[0],10)});var yr=W("Date",!0);$("d",0,"do","day"),$("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),$("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),$("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),Z("d",Ti),Z("e",Ti),Z("E",Ti),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var br="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_r="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xr=Vi,kr=Vi,Sr=Vi;$("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),Z("DDD",Oi),Z("DDDD",Si),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),$("H",["HH",2],0,"hour"),$("h",["hh",2],0,vn),$("k",["kk",2],0,yn),$("hmm",0,0,function(){return""+vn.apply(this)+H(this.minutes(),2)}),$("hmmss",0,0,function(){return""+vn.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),bn("a",!0),bn("A",!1),L("hour","h"),Z("a",_n),Z("A",_n),Z("H",Ti),Z("h",Ti),Z("HH",Ti,ki),Z("hh",Ti,ki),Z("hmm",Ci),Z("hmmss",Pi),Z("Hmm",Ci),Z("Hmmss",Pi),tt(["H","HH"],Hi),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[Hi]=b(t),d(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[Hi]=b(t.substr(0,i)),e[$i]=b(t.substr(i)),d(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=b(t.substr(0,i)),e[$i]=b(t.substr(i,2)),e[zi]=b(t.substr(r)),d(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[Hi]=b(t.substr(0,i)),e[$i]=b(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=b(t.substr(0,i)),e[$i]=b(t.substr(i,2)),e[zi]=b(t.substr(r))});var Mr=/[ap]\.?m?\.?/i,Dr=W("Hours",!0);$("m",["mm",2],0,"minute"),L("minute","m"),Z("m",Ti),Z("mm",Ti,ki),tt(["m","mm"],$i);var Tr=W("Minutes",!1);$("s",["ss",2],0,"second"),L("second","s"),Z("s",Ti),Z("ss",Ti,ki),tt(["s","ss"],zi);var Cr=W("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),Z("S",Oi,xi),Z("SS",Oi,ki),Z("SSS",Oi,Si);var Pr;for(Pr="SSSS";Pr.length<=9;Pr+="S")Z(Pr,Ai);for(Pr="S";Pr.length<=9;Pr+="S")tt(Pr,kn);var Or=W("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var jr=g.prototype;jr.add=pr,jr.calendar=fe,jr.clone=he,jr.diff=_e,jr.endOf=Ie,jr.format=Se,jr.from=Me,jr.fromNow=De,jr.to=Te,jr.toNow=Ce,jr.get=U,jr.invalidAt=Be,jr.isAfter=pe,jr.isBefore=me,jr.isBetween=ge,jr.isSame=ve,jr.isSameOrAfter=ye,jr.isSameOrBefore=be,jr.isValid=Ye,jr.lang=gr,jr.locale=Pe,jr.localeData=Oe,jr.max=cr,jr.min=lr,jr.parsingFlags=We,jr.set=U,jr.startOf=je,jr.subtract=mr,jr.toArray=Re,jr.toObject=Le,jr.toDate=Ee,jr.toISOString=ke,jr.toJSON=Ve,jr.toString=xe,jr.unix=Fe,jr.valueOf=Ae,jr.creationData=Ne,jr.year=sr,jr.isLeapYear=wt,jr.weekYear=He,jr.isoWeekYear=$e,jr.quarter=jr.quarters=Ze,jr.month=ct,jr.daysInMonth=ut,jr.week=jr.weeks=tn,jr.isoWeek=jr.isoWeeks=en,jr.weeksInYear=qe,jr.isoWeeksInYear=ze,jr.date=yr,jr.day=jr.days=cn,jr.weekday=un,jr.isoWeekday=dn,jr.dayOfYear=gn,jr.hour=jr.hours=Dr,jr.minute=jr.minutes=Tr,jr.second=jr.seconds=Cr,jr.millisecond=jr.milliseconds=Or,jr.utcOffset=Gt,jr.utc=Zt,jr.local=Xt,jr.parseZone=Qt,jr.hasAlignedHourOffset=Kt,jr.isDST=te,jr.isDSTShifted=ee,jr.isLocal=ne,jr.isUtcOffset=ie,jr.isUtc=re,jr.isUTC=re,jr.zoneAbbr=Sn,jr.zoneName=Mn,jr.dates=x("dates accessor is deprecated. Use date instead.",yr),jr.months=x("months accessor is deprecated. Use month instead",ct),jr.years=x("years accessor is deprecated. Use year instead",sr),jr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Jt);var Ir=jr,Ar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Er="Invalid date",Rr="%d",Lr=/\d{1,2}/,Vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Yr=C.prototype;Yr._calendar=Ar,Yr.calendar=Cn,Yr._longDateFormat=Fr,Yr.longDateFormat=Pn,Yr._invalidDate=Er,Yr.invalidDate=On,Yr._ordinal=Rr,Yr.ordinal=jn,Yr._ordinalParse=Lr,Yr.preparse=In,Yr.postformat=In,Yr._relativeTime=Vr,Yr.relativeTime=An,Yr.pastFuture=Fn,Yr.set=D,Yr.months=rt,Yr._months=Xi,Yr.monthsShort=ot,Yr._monthsShort=Qi,Yr.monthsParse=st,Yr._monthsRegex=tr,Yr.monthsRegex=ft,Yr._monthsShortRegex=Ki,Yr.monthsShortRegex=dt,Yr.week=Xe,Yr._week=vr,Yr.firstDayOfYear=Ke,Yr.firstDayOfWeek=Qe,Yr.weekdays=rn,Yr._weekdays=br,Yr.weekdaysMin=an,Yr._weekdaysMin=wr,Yr.weekdaysShort=on,Yr._weekdaysShort=_r,Yr.weekdaysParse=ln,Yr._weekdaysRegex=xr,Yr.weekdaysRegex=fn,Yr._weekdaysShortRegex=kr,Yr.weekdaysShortRegex=hn,Yr._weekdaysMinRegex=Sr,Yr.weekdaysMinRegex=pn,Yr.isPM=wn,Yr._meridiemParse=Mr,Yr.meridiem=xn,I("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",I),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",E);var Wr=Math.abs,Br=Kn("ms"),Nr=Kn("s"),Ur=Kn("m"),Hr=Kn("h"),$r=Kn("d"),zr=Kn("w"),qr=Kn("M"),Gr=Kn("y"),Jr=ei("milliseconds"),Zr=ei("seconds"),Xr=ei("minutes"),Qr=ei("hours"),Kr=ei("days"),to=ei("months"),eo=ei("years"),no=Math.round,io={s:45,m:45,h:22,d:26,M:11},ro=Math.abs,oo=Nt.prototype;oo.abs=Un,oo.add=$n,oo.subtract=zn,oo.as=Xn,oo.asMilliseconds=Br,oo.asSeconds=Nr,oo.asMinutes=Ur,oo.asHours=Hr,oo.asDays=$r,oo.asWeeks=zr,oo.asMonths=qr,oo.asYears=Gr,oo.valueOf=Qn,oo._bubble=Gn,oo.get=ti,oo.milliseconds=Jr,oo.seconds=Zr,oo.minutes=Xr,oo.hours=Qr,oo.days=Kr,oo.weeks=ni,oo.months=to,oo.years=eo,oo.humanize=ai,oo.toISOString=si,oo.toString=si,oo.toJSON=si,oo.locale=Pe,oo.localeData=Oe,oo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",si),oo.lang=gr,$("X",0,0,"unix"),$("x",0,0,"valueOf"),Z("x",Fi),Z("X",Li),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),n.version="2.13.0",i(Vt),n.fn=Ir,n.min=Wt,n.max=Bt,n.now=ur,n.utc=c,n.unix=Dn,n.months=Vn,n.isDate=o,n.locale=I,n.invalid=h,n.duration=oe,n.isMoment=v,n.weekdays=Wn,n.parseZone=Tn,n.localeData=E,n.isDuration=Ut,n.monthsShort=Yn,n.weekdaysMin=Nn,n.defineLocale=A,n.updateLocale=F,n.locales=R,n.weekdaysShort=Bn,n.normalizeUnits=V,n.relativeTimeThreshold=oi,n.prototype=Ir;var ao=n;return ao})},{}],47:[function(t,e,n){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.Pusher=i():t.Pusher=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);t.exports=i["default"]},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}var r=n(2),o=n(9),a=n(23),s=n(38),l=n(39),c=n(40),u=n(12),d=n(5),f=n(62),h=n(8),p=n(42),m=function(){function t(e,n){var u=this;i(e),n=n||{},this.key=e,this.config=o.extend(f.getGlobalConfig(),n.cluster?f.getClusterConfig(n.cluster):{},n),this.channels=p["default"].createChannels(),this.global_emitter=new a["default"],this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:l["default"].INFO,version:d["default"].VERSION}),this.config.disableStats||(this.timelineSender=p["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r["default"].TimelineTransport.name}));var m=function(t){var e=o.extend({},u.config,t);return c.build(r["default"].getDefaultStrategy(e),e)};this.connection=p["default"].createConnectionManager(this.key,o.extend({getStrategy:m,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=u.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||u.global_emitter.emit(t.event,t.data)}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(t){h["default"].warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){var n=Function("return this")();t.logToConsole&&n.console&&n.console.log&&n.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:r["default"].Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e){return this.global_emitter.bind(t,e),this},t.prototype.bind_all=function(t){return this.global_emitter.bind_all(t),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return"connected"===this.connection.state&&e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.remove(t);e&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===r["default"].getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=r["default"],t.ScriptReceivers=r["default"].ScriptReceivers,t.DependenciesReceivers=r["default"].DependenciesReceivers,t.auth_callbacks=r["default"].auth_callbacks,t}();e.__esModule=!0,e["default"]=m,r["default"].setup(m)},function(t,e,n){"use strict";var i=n(3),r=n(7),o=n(14),a=n(15),s=n(16),l=n(4),c=n(17),u=n(18),d=n(25),f=n(26),h=n(27),p=n(28),m={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:f["default"],Transports:u["default"],transportConnectionInitializer:h["default"],HTTPFactory:p["default"],TimelineTransport:c["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getGlobal:function(){return window},getAuthorizers:function(){return{ajax:r["default"],jsonp:o["default"]}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s["default"](t,e)},createScriptRequest:function(t){return new a["default"](t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return d.Network},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e["default"]=m},function(t,e,n){"use strict";var i=n(4),r=n(5),o=n(6);e.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new o["default"]({cdn_http:r["default"].cdn_http,cdn_https:r["default"].cdn_https,version:r["default"].VERSION,suffix:r["default"].dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",r=!1,o=function(){r||(t.apply(null,arguments),r=!0)};return this[e]=o,{number:e,id:n,name:i,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";var n={VERSION:"3.1.0-pre11",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var i=n(4),r=n(2),o=function(){function t(t){this.options=t,this.receivers=t.receivers||i.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var o=r["default"].createScriptRequest(i.getPath(t,e)),a=i.receivers.create(function(e){if(i.receivers.remove(a),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var r=function(t){t||o.cleanup()},s=0;s<n.length;s++)n[s](e,r)}});o.send(a)}},t.prototype.getRoot=function(t){var e,n=r["default"].getDocument().location.protocol;return e=t&&t.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,e.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var i=n(8),r=n(2),o=function(t,e,n){var o,a=this;o=r["default"].createXHR(),o.open("POST",a.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var s in this.authOptions.headers)o.setRequestHeader(s,this.authOptions.headers[s]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var t,e=!1;try{t=JSON.parse(o.responseText),e=!0}catch(r){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}e&&n(!1,t)}else i["default"].warn("Couldn't get auth info from your webapp",o.status),n(!0,o.status)},o.send(this.composeQuery(e)),o};e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var i=n(9),r=n(1),o={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];r["default"].log&&r["default"].log(i.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=i.stringify.apply(this,arguments),o=Function("return this")();o.console&&(o.console.warn?o.console.warn(n):o.console.log&&o.console.log(n)),r["default"].log&&r["default"].log(n)}};e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var a in o)o[a]&&o[a].constructor&&o[a].constructor===Object?t[a]=i(t[a]||{},o[a]):t[a]=o[a]}return t}function r(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(JSON.stringify(arguments[e]));return t.join(" : ")}function o(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function a(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function s(t){var e=[];return a(t,function(t,n){e.push(n)}),e}function l(t){var e=[];return a(t,function(t){e.push(t)}),e}function c(t,e,n){for(var i=0;i<t.length;i++)e.call(n||x,t[i],i,t)}function u(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function d(t,e){var n={};return a(t,function(t,i){n[i]=e(t)}),n}function f(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n}function h(t,e){var n={};return a(t,function(i,r){(e&&e(i,r,t,n)||Boolean(i))&&(n[r]=i)}),n}function p(t){var e=[];return a(t,function(t,n){e.push([n,t])}),e}function m(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function g(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function v(t){return d(t,function(t){return"object"==typeof t&&(t=JSON.stringify(t)),encodeURIComponent(_["default"](t.toString()))})}function y(t){var e=h(t,function(t){return void 0!==t}),n=u(p(v(e)),w["default"].method("join","=")).join("&");return n}function b(t){var e=[],n=JSON.stringify(t,function(t,n){if("object"==typeof n&&null!==n){if(e.indexOf(n)!==-1)return;e.push(n)}return n});return e=null,n}var _=n(10),w=n(11),x=Function("return this")();e.extend=i,e.stringify=r,e.arrayIndexOf=o,e.objectApply=a,e.keys=s,e.values=l,e.apply=c,e.map=u,e.mapObject=d,e.filter=f,e.filterObject=h,e.flatten=p,e.any=m,e.all=g,e.encodeParamsObject=v,e.buildQueryString=y,e.safeJSONStringify=b},function(t,e){"use strict";function n(t){return f(u(t))}var i=Function("return this")();e.__esModule=!0,e["default"]=n;for(var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={},s=0,l=o.length;s<l;s++)a[o.charAt(s)]=s;var c=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e);
},u=function(t){return t.replace(/[^\x00-\x7F]/g,c)},d=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),i=[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)];return i.join("")},f=i.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,d)}},function(t,e,n){"use strict";var i=n(12),r={getGlobal:function(){return Function("return this")()},now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new i.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,i.concat(arguments))}}};e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function i(t){s.clearTimeout(t)}function r(t){s.clearInterval(t)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(13),s=Function("return this")(),l=function(t){function e(e,n){t.call(this,setTimeout,i,e,function(t){return n(),null})}return o(e,t),e}(a["default"]);e.OneOffTimer=l;var c=function(t){function e(e,n){t.call(this,setInterval,r,e,function(t){return n(),t})}return o(e,t),e}(a["default"]);e.PeriodicTimer=c},function(t,e){"use strict";var n=function(){function t(t,e,n,i){var r=this;this.clear=e,this.timer=t(function(){r.timer&&(r.timer=i(r.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var i=n(8),r=function(t,e,n){void 0!==this.authOptions.headers&&i["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),a=o.createElement("script");t.auth_callbacks[r]=function(t){n(!1,t)};var s="Pusher.auth_callbacks['"+r+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(e);var l=o.getElementsByTagName("head")[0]||o.documentElement;l.insertBefore(a,l.firstChild)};e.__esModule=!0,e["default"]=r},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var i=n(9),r=n(2),o=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=i.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=r["default"].createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var i=n(2),r=n(4),o=function(t,e){return function(n,o){var a="http"+(e?"s":"")+"://",s=a+(t.host||t.options.host)+t.options.path,l=i["default"].createJSONPRequest(s,n),c=i["default"].ScriptReceivers.create(function(e,n){r.ScriptReceivers.remove(c),l.cleanup(),n&&n.host&&(t.host=n.host),o&&o(e,n)});l.send(c)}},a={name:"jsonp",getAgent:o};e.__esModule=!0,e["default"]=a},function(t,e,n){"use strict";var i=n(19),r=n(21),o=n(20),a=n(2),s=n(3),l=n(9),c=new r["default"]({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),u={isSupported:function(t){var e=a["default"].isXDRSupported(t.encrypted);return e}},d=new r["default"](l.extend({},i.streamingConfiguration,u)),f=new r["default"](l.extend({},i.pollingConfiguration,u));i["default"].xdr_streaming=d,i["default"].xdr_polling=f,i["default"].sockjs=c,e.__esModule=!0,e["default"]=i["default"]},function(t,e,n){"use strict";var i=n(20),r=n(21),o=n(9),a=n(2),s=new r["default"]({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a["default"].getWebSocketAPI())},isSupported:function(){return Boolean(a["default"].getWebSocketAPI())},getSocket:function(t){return a["default"].createWebSocket(t)}}),l={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=o.extend({getSocket:function(t){return a["default"].HTTPFactory.createStreamingSocket(t)}},l),e.pollingConfiguration=o.extend({getSocket:function(t){return a["default"].HTTPFactory.createPollingSocket(t)}},l);var c={isSupported:function(){return a["default"].isXHRSupported()}},u=new r["default"](o.extend({},e.streamingConfiguration,c)),d=new r["default"](o.extend({},e.pollingConfiguration,c)),f={ws:s,xhr_streaming:u,xhr_polling:d};e.__esModule=!0,e["default"]=f},function(t,e,n){"use strict";function i(t,e,n){var i=t+(e.encrypted?"s":""),r=e.encrypted?e.hostEncrypted:e.hostUnencrypted;return i+"://"+r+n}function r(t,e){var n="/app/"+t,i="?protocol="+o["default"].PROTOCOL+"&client=js&version="+o["default"].VERSION+(e?"&"+e:"");return n+i}var o=n(5);e.ws={getInitial:function(t,e){return i("ws",e,r(t,"flash=false"))}},e.http={getInitial:function(t,e){var n=(e.httpPath||"/pusher")+r(t);return i("http",e,n)}},e.sockjs={getInitial:function(t,e){return i("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return r(t)}}},function(t,e,n){"use strict";var i=n(22),r=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new i["default"](this.hooks,t,e,n,r)},t}();e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(11),o=n(9),a=n(23),s=n(8),l=n(2),c=function(t){function e(e,n,i,r,o){t.call(this),this.initialize=l["default"].transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=i,this.key=r,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(n){return r["default"].defer(function(){t.onError(n),t.changeState("closed")}),!1}return this.bindListeners(),s["default"].debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(r["default"].defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return o.extend({cid:this.id},t)},e}(a["default"]);e.__esModule=!0,e["default"]=c},function(t,e,n){"use strict";var i=n(24),r=Function("return this")(),o=function(){function t(t){this.callbacks=new i["default"],this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_all=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_all=function(t,e){return this.callbacks.remove(t,e),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||r,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function i(t){return"_"+t}var r=n(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,n){var r=i(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(!t&&!e&&!n)return void(this._callbacks={});var o=t?[i(t)]:r.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)},t.prototype.removeCallback=function(t,e,n){r.apply(t,function(t){this._callbacks[t]=r.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){r.apply(t,function(t){delete this._callbacks[t]},this)},t}();e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return i(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(r["default"]);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";var n=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]};e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function i(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),r.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}var r=n(3);e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var i=n(29),r=n(31);r["default"].createXDR=function(t,e){return this.createRequest(i["default"],t,e)},e.__esModule=!0,e["default"]=r["default"]},function(t,e,n){"use strict";var i=n(30),r={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new i.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e["default"]=r},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=i;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=r;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=o;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=s;var l=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=l},function(t,e,n){"use strict";var i=n(32),r=n(33),o=n(35),a=n(36),s=n(37),l={createStreamingSocket:function(t){return this.createSocket(o["default"],t)},createPollingSocket:function(t){return this.createSocket(a["default"],t)},createSocket:function(t,e){return new r["default"](t,e)},createXHR:function(t,e){return this.createRequest(s["default"],t,e)},createRequest:function(t,e,n){return new i["default"](t,e,n)}};e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(23),a=262144,s=function(t){function e(e,n,i){t.call(this),this.hooks=e,this.method=n,this.url=i}return i(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},r["default"].addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(r["default"].removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return n!==-1?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>a},e}(o["default"]);e.__esModule=!0,e["default"]=s},function(t,e,n){"use strict";function i(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function r(t,e){return t.base+"/"+e+"/xhr_send"}function o(t){var e=t.indexOf("?")===-1?"?":"&";return t+e+"t="+ +new Date+"&n="+f++}function a(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function s(t){return Math.floor(Math.random()*t)}function l(t){for(var e=[],n=0;n<t;n++)e.push(s(32).toString(32));return e.join("")}var c=n(34),u=n(11),d=n(2),f=1,h=function(){function t(t,e){this.hooks=t,this.session=s(1e3)+"/"+l(8),this.location=i(e),this.readyState=c["default"].CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==c["default"].OPEN)return!1;try{return d["default"].createSocketRequest("POST",o(r(this.location,this.session))).start(t),!0}catch(e){return!1}},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=c["default"].CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){if(200===t.status){this.readyState===c["default"].OPEN&&this.onActivity();var e,n=t.data.slice(0,1);switch(n){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<e.length;i++)this.onEvent(e[i]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}}},t.prototype.onOpen=function(t){this.readyState===c["default"].CONNECTING?(t&&t.hostname&&(this.location.base=a(this.location.base,t.hostname)),this.readyState=c["default"].OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===c["default"].OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=d["default"].createSocketRequest("POST",o(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){u["default"].defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();e.__esModule=!0,e["default"]=h},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e["default"]=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e["default"]=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var i=n(2),r={getRequest:function(t){var e=i["default"].getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close()}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=n(9),r=n(11),o=n(39),a=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:r["default"].now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(o["default"].ERROR,t)},t.prototype.info=function(t){this.log(o["default"].INFO,t)},t.prototype.debug=function(t){this.log(o["default"].DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,function(t,i){t||n.sent++,e&&e(t,i)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e["default"]=a},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function i(t){return function(e){return[t.apply(this,arguments),e]}}function r(t){return"string"==typeof t&&":"===t.charAt(0)}function o(t,e){return e[t.slice(1)]}function a(t,e){if(0===t.length)return[[],e];var n=c(t[0],e),i=a(t.slice(1),n[1]);return[[n[0]].concat(i[0]),i[1]]}function s(t,e){if(!r(t))return[t,e];var n=o(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}function l(t,e){if(r(t[0])){var n=o(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var i=[u.extend({},e)].concat(u.map(t.slice(1),function(t){return c(t,u.extend({},e))[0]}));return n.apply(this,i)}return[n,e]}return a(t,e)}function c(t,e){return"string"==typeof t?s(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?l(t,e):[t,e]}var u=n(9),d=n(11),f=n(41),h=n(30),p=n(55),m=n(56),g=n(57),v=n(58),y=n(59),b=n(60),_=n(61),w=n(2),x=w["default"].Transports;e.build=function(t,e){var n=u.extend({},S,e);return c(t,n)[1].strategy};var k={isSupported:function(){return!1},connect:function(t,e){var n=d["default"].defer(function(){e(new h.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},S={extend:function(t,e,n){return[u.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,i,r,o){var a=x[n];if(!a)throw new h.UnsupportedTransport(n);var s,l=!(t.enabledTransports&&u.arrayIndexOf(t.enabledTransports,e)===-1||t.disabledTransports&&u.arrayIndexOf(t.disabledTransports,e)!==-1);s=l?new p["default"](e,i,o?o.getAssistant(a):a,u.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},r)):k;var c=t.def(t,e,s)[1];return c.Transports=t.Transports||{},c.Transports[e]=s,[void 0,c]},transport_manager:i(function(t,e){return new f["default"](e)}),sequential:i(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new m["default"](n,e)}),cached:i(function(t,e,n){return new v["default"](n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:i(function(t,e){return new _["default"](e)}),best_connected_ever:i(function(){var t=Array.prototype.slice.call(arguments,1);return new g["default"](t)}),delayed:i(function(t,e,n){return new y["default"](n,{delay:e})}),"if":i(function(t,e,n,i){return new b["default"](e,n,i)}),is_supported:i(function(t,e){return function(){return e.isSupported()}})}},function(t,e,n){"use strict";var i=n(42),r=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return i["default"].createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=n(43),r=n(44),o=n(47),a=n(48),s=n(49),l=n(50),c=n(51),u=n(53),d=n(54),f={createChannels:function(){return new d["default"]},createConnectionManager:function(t,e){return new u["default"](t,e)},createChannel:function(t,e){return new c["default"](t,e)},createPrivateChannel:function(t,e){return new l["default"](t,e)},createPresenceChannel:function(t,e){return new s["default"](t,e)},createTimelineSender:function(t,e){return new a["default"](t,e)},createAuthorizer:function(t,e){return new o["default"](t,e)},createHandshake:function(t,e){return new r["default"](t,e)},createAssistantToTheTransportManager:function(t,e,n){return new i["default"](t,e,n)}};e.__esModule=!0,e["default"]=f},function(t,e,n){"use strict";var i=n(11),r=n(9),o=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,o){var a=this;o=r.extend({},o,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,n,o),l=null,c=function(){s.unbind("open",c),s.bind("closed",u),l=i["default"].now()},u=function(t){if(s.unbind("closed",u),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&l){var e=i["default"].now()-l;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",c),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var i=n(9),r=n(45),o=n(46),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){t.unbindListeners();var n;try{n=r.processHandshake(e)}catch(i){return t.finish("error",{error:i}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new o["default"](n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=r.getCloseAction(e)||"backoff",i=r.getCloseError(e);t.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(i.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e["default"]=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(n){if(!(n instanceof SyntaxError))throw n}return e}catch(n){throw{type:"MessageParseError",error:n,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if(t=e.decodeMessage(t),"pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(9),o=n(23),a=n(45),s=n(8),l=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),s["default"].debug("Event sent",i),this.send(a.encodeMessage(i))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=a.decodeMessage(e)}catch(i){t.emit("error",{type:"MessageParseError",error:i,data:e.data})}if(void 0!==n){switch(s["default"].debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){r.objectApply(e,function(e,n){t.transport.unbind(n,e)})};r.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),n=a.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(o["default"]);e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";var i=n(2),r=function(){function t(t,e){this.channel=t;var n=e.authTransport;if("undefined"==typeof i["default"].getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,
this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return t.authorizers=t.authorizers||i["default"].getAuthorizers(),t.authorizers[this.type].call(this,i["default"],e,n)},t}();e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=n(2),r=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(i["default"].TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(50),o=n(8),a=n(52),s=function(t){function e(e,n){t.call(this,e,n),this.members=new a["default"]}return i(e,t),e.prototype.authorize=function(e,n){var i=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data)return o["default"].warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void n("Invalid auth response");var r=JSON.parse(e.channel_data);i.members.setMyID(r.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.members.onSubscription(e),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:r["default"].prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(r["default"]);e.__esModule=!0,e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(42),o=n(51),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.authorize=function(t,e){var n=r["default"].createAuthorizer(this,this.pusher.config);return n.authorize(t,e)},e}(o["default"]);e.__esModule=!0,e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=n(30),a=n(8),s=function(t){function e(e,n){t.call(this,function(t,n){a["default"].debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1}return i(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new o.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})},e.prototype.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e}(r["default"]);e.__esModule=!0,e["default"]=s},function(t,e,n){"use strict";var i=n(9),r=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;i.objectApply(this.members,function(n,i){t(e.get(i))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=n(12),a=n(8),s=n(9),l=n(2),c=function(t){function e(e,n){var i=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=l["default"].getNetwork();r.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),r.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(e,t),e.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var t=this.abandonConnection();t.close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new o.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var i=t;"connected"===i&&(i+=" with new socket ID "+e.socket_id),a["default"].debug("State changed",n+" -> "+i),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(r["default"]);e.__esModule=!0,e["default"]=c},function(t,e,n){"use strict";function i(t,e){return 0===t.indexOf("private-")?o["default"].createPrivateChannel(t,e):0===t.indexOf("presence-")?o["default"].createPresenceChannel(t,e):o["default"].createChannel(t,e)}var r=n(9),o=n(42),a=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=i(t,e)),this.channels[t]},t.prototype.all=function(){return r.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e["default"]=a},function(t,e,n){"use strict";function i(t,e){return o["default"].defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var r=n(42),o=n(11),a=n(30),s=n(9),l=function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return i(new a.UnsupportedStrategy,e);if(this.priority<t)return i(new a.TransportPriorityTooLow,e);var o=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){l.unbind("initialized",u),l.connect()},d=function(){c=r["default"].createHandshake(l,function(t){o=!0,p(),e(null,t)})},f=function(t){p(),e(t)},h=function(){p();var t;try{t=JSON.stringify(l)}catch(n){t=s.safeJSONStringify(l)}e(new a.TransportClosed(t))},p=function(){l.unbind("initialized",u),l.unbind("open",d),l.unbind("error",f),l.unbind("closed",h)};return l.bind("initialized",u),l.bind("open",d),l.bind("error",f),l.bind("closed",h),l.initialize(),{abort:function(){o||(p(),c?c.close():l.close())},forceMinPriority:function(t){o||n.priority<t&&(c?c.close():l.close())}}},t}();e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";var i=n(9),r=n(11),o=n(12),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return i.any(this.strategies,r["default"].method("isSupported"))},t.prototype.connect=function(t,e){var n=this,i=this.strategies,r=0,o=this.timeout,a=null,s=function(l,c){c?e(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(o&&(o=2*o,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(i[r],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(i[r],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,i){var r=null,a=null;return n.timeout>0&&(r=new o.OneOffTimer(n.timeout,function(){a.abort(),i(!0)})),a=t.connect(e,function(t,e){t&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(t,e))}),{abort:function(){r&&r.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e["default"]=a},function(t,e,n){"use strict";function i(t,e,n){var i=a.map(t,function(t,i,r,o){return t.connect(e,n(i,o))});return{abort:function(){a.apply(i,o)},forceMinPriority:function(t){a.apply(i,function(e){e.forceMinPriority(t)})}}}function r(t){return a.all(t,function(t){return Boolean(t.error)})}function o(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var a=n(9),s=n(11),l=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return a.any(this.strategies,s["default"].method("isSupported"))},t.prototype.connect=function(t,e){return i(this.strategies,t,function(t,n){return function(i,o){return n[t].error=i,i?void(r(n)&&e(!0)):(a.apply(n,function(t){t.forceMinPriority(o.transport.priority)}),void e(null,o))}})},t}();e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";function i(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function r(t){var e=l["default"].getLocalStorage();if(e)try{var n=e[i(t)];if(n)return JSON.parse(n)}catch(r){a(t)}return null}function o(t,e,n){var r=l["default"].getLocalStorage();if(r)try{r[i(t)]=JSON.stringify({timestamp:s["default"].now(),transport:e,latency:n})}catch(o){}}function a(t){var e=l["default"].getLocalStorage();if(e)try{delete e[i(t)]}catch(n){}}var s=n(11),l=n(2),c=n(56),u=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,i=r(n),l=[this.strategy];if(i&&i.timestamp+this.ttl>=s["default"].now()){var u=this.transports[i.transport];u&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),l.push(new c["default"]([u],{timeout:2*i.latency+1e3,failFast:!0})))}var d=s["default"].now(),f=l.pop().connect(t,function h(i,r){i?(a(n),l.length>0?(d=s["default"].now(),f=l.pop().connect(t,h)):e(i)):(o(n,r.transport.name,s["default"].now()-d),e(null,r))});return{abort:function(){f.abort()},forceMinPriority:function(e){t=e,f&&f.forceMinPriority(e)}}},t}();e.__esModule=!0,e["default"]=u},function(t,e,n){"use strict";var i=n(12),r=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,o=new i.OneOffTimer(this.options.delay,function(){n=r.connect(t,e)});return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e["default"]=r},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},t.prototype.connect=function(t,e){var n=this.test()?this.trueBranch:this.falseBranch;return n.connect(t,e)},t}();e.__esModule=!0,e["default"]=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,i){i&&n.abort(),e(t,i)});return n},t}();e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var i=n(5);e.getGlobalConfig=function(){return{wsHost:i["default"].host,wsPort:i["default"].ws_port,wssPort:i["default"].wss_port,httpHost:i["default"].sockjs_host,httpPort:i["default"].sockjs_http_port,httpsPort:i["default"].sockjs_https_port,httpPath:i["default"].sockjs_path,statsHost:i["default"].stats_host,authEndpoint:i["default"].channel_auth_endpoint,authTransport:i["default"].channel_auth_transport,activity_timeout:i["default"].activity_timeout,pong_timeout:i["default"].pong_timeout,unavailable_timeout:i["default"].unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])})},{}],48:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,i,r){var a=t(n,i,r),l=a.dispatch,c=[],u={getState:a.getState,dispatch:function(t){return l(t)}};return c=e.map(function(t){return t(u)}),l=s["default"].apply(void 0,c)(a.dispatch),o({},a,{dispatch:l})}}}n.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};n["default"]=r;var a=t("./compose"),s=i(a)},{"./compose":51}],49:[function(t,e,n){"use strict";function i(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return i(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"==typeof s&&(r[a]=i(s,e))}return r}n.__esModule=!0,n["default"]=r},{}],50:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=e&&e.type,i=n&&'"'+n.toString()+'"'||"an action";return"Given action "+i+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof i)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:r}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var a=e[i];"function"==typeof t[a]&&(n[a]=t[a])}var s,l=Object.keys(n);try{o(n)}catch(c){s=c}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(s)throw s;for(var i=!1,o={},a=0;a<l.length;a++){var c=l[a],u=n[c],d=t[c],f=u(d,e);if("undefined"==typeof f){var h=r(c,e);throw new Error(h)}o[c]=f,i=i||f!==d}return i?o:t}}n.__esModule=!0,n["default"]=a;var s=t("./createStore"),l=t("lodash/isPlainObject"),c=(i(l),t("./utils/warning"));i(c)},{"./createStore":52,"./utils/warning":54,"lodash/isPlainObject":58}],51:[function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var i=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof i?i.v:void 0}n.__esModule=!0,n["default"]=i},{}],52:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){function i(){v===g&&(v=g.slice())}function o(){return m}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return i(),v.push(t),function(){if(e){e=!1,i();var n=v.indexOf(t);v.splice(n,1)}}}function u(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=p(m,t)}finally{y=!1}for(var e=g=v,n=0;n<e.length;n++)e[n]();return t}function d(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,u({type:c.INIT})}function f(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var i=e(n);return{unsubscribe:i}}},t[l["default"]]=function(){return this},t}var h;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,m=e,g=[],v=g,y=!1;return u({type:c.INIT}),h={dispatch:u,subscribe:s,getState:o,replaceReducer:d},h[l["default"]]=f,h}n.__esModule=!0,n.ActionTypes=void 0,n["default"]=r;var o=t("lodash/isPlainObject"),a=i(o),s=t("symbol-observable"),l=i(s),c=n.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":58,"symbol-observable":59}],53:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.compose=n.applyMiddleware=n.bindActionCreators=n.combineReducers=n.createStore=void 0;var r=t("./createStore"),o=i(r),a=t("./combineReducers"),s=i(a),l=t("./bindActionCreators"),c=i(l),u=t("./applyMiddleware"),d=i(u),f=t("./compose"),h=i(f),p=t("./utils/warning");i(p);n.createStore=o["default"],n.combineReducers=s["default"],n.bindActionCreators=c["default"],n.applyMiddleware=d["default"],n.compose=h["default"]},{"./applyMiddleware":48,"./bindActionCreators":49,"./combineReducers":50,"./compose":51,"./createStore":52,"./utils/warning":54}],54:[function(t,e,n){"use strict";function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}n.__esModule=!0,n["default"]=i},{}],55:[function(t,e,n){function i(t){return r(Object(t))}var r=Object.getPrototypeOf;e.exports=i},{}],56:[function(t,e,n){function i(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}e.exports=i},{}],57:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}e.exports=i},{}],58:[function(t,e,n){function i(t){if(!a(t)||f.call(t)!=s||o(t))return!1;var e=r(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var r=t("./_getPrototype"),o=t("./_isHostObject"),a=t("./isObjectLike"),s="[object Object]",l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=c.call(Object),f=l.toString;e.exports=i},{"./_getPrototype":55,"./_isHostObject":56,"./isObjectLike":57}],59:[function(t,e,n){(function(n){"use strict";e.exports=t("./ponyfill")(n||window||this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill":60}],60:[function(t,e,n){"use strict";e.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},{}],61:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("./init"),o=i(r);o["default"].libraries(),o["default"].scripts(),o["default"].pjax(),o["default"].vue()},{"./init":63}],62:[function(t,e,n){"use strict";_.mixin({removeById:function(t,e){return _.reduce(e,function(e,n){return n.id!=t&&e.push(n),e},[])},randomStr:function(){for(var t=arguments.length<=0||void 0===arguments[0]?6:arguments[0],e="e",n="abcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t-1;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},column:function(t,e){return t.map(function(t){return t[e]})},pluralize:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return(i?"":t+" ")+(1==t?""+e:""+n)},firstNotEmpty:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0;i<e.length;i++)if(e[i])return e[i];return null},dirtyIndexOf:function(t,e){var n=t.indexOf(e),i=t.indexOf(e+"");return n==-1?i:n},fetchGetParameter:function(t){if(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))return decodeURIComponent(t[1])},est:function(){return moment().utc().add(-300,"minutes")},withoutIndex:function(t,e,n){return _.reduce(_.get(t,e),function(t,e,i){return i!=n&&t.push(e),t},[])},numberFormat:function(t,e,n,i){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+t)?+t:0,o=isFinite(+e)?Math.abs(e):0,a="undefined"==typeof i?",":i,s="undefined"==typeof n?".":n,l="",c=function(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n};return l=(o?c(r,o):""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})},{}],63:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./vue/controllers"),o=i(r),a=t("./misc/scripts"),s=i(a),l=t("./misc/notify"),c=i(l);t("./vue/components");var u={},d=function(t){$(t).each(function(t,e){var n=$(e).attr("data-controller");e.id=_.randomStr(),void 0===o["default"][n]&&console.warn("Controller "+n+" is not found"),u[n]=new o["default"][n]({el:"#"+e.id})})},f=function(t){$(t).each(function(t,e){var n=$(e).attr("data-controller");void 0!==u[n]&&u[n].$destroy(!0)})};n["default"]={libraries:function(){"undefined"!=typeof window.Bugsnag&&(Bugsnag.releaseStage=CObj.environment,Bugsnag.notifyReleaseStages=["production","testing"]),Pusher=t("pusher-js"),window.pusher=new Pusher(CObj.pusherKey,{encrypted:!0}),window.pusherSubscriptions={},window._=t("lodash"),t("./extensions/lodash")["default"],window.moment=t("moment-business-days")},vue:function(){Vue.http.options.onComplete=function(t){switch(t.status){case 400:c["default"].error(JSON.parse(t.response).error);break;case 401:window.location="/login";break;case 422:c["default"].validation(JSON.parse(t.response))}},t("./vue/directives")["default"],t("./vue/filters")["default"],$("#spark-app").length>0&&(t("./vue/spark/components")["default"],new Vue(t("./vue/spark/spark")["default"])),d("[data-controller]")},pjax:function(){var t=this;$(document).pjax("a[data-pjax]","#pjax-container",{timeout:3e3,maxCacheLength:0}),$(document).pjax("a[data-pjax-full]","#pjax-big-container",{timeout:3e3,maxCacheLength:0}),$(document).on("pjax:clicked",function(){c["default"].loading(!0),$("#navbar").hasClass("in")&&$("#navbar").collapse("toggle"),$("#navbar-collapse-main").hasClass("in")&&$("#navbar-collapse-main").collapse("toggle")}),$(document).on("pjax:success",function(e){d($(e.target).find("[data-controller]")),t.scripts(),c["default"].loading(!1),$(".modal-backdrop").remove(),$(document).trigger("redraw.bs.charts"),$("a[data-pjax]").each(function(t,e){var n=$($(e).parent());n.is("li")&&($(e).attr("href")==window.location.href?n.addClass("active"):n.removeClass("active"))})}),$(document).on("pjax:beforeReplace",function(t){f($(t.target).find("[data-controller]"))})},scripts:function(){(0,s["default"])()}}},{"./extensions/lodash":62,"./misc/notify":64,"./misc/scripts":65,"./vue/components":66,"./vue/controllers":77,"./vue/directives":219,"./vue/filters":224,"./vue/spark/components":234,"./vue/spark/spark":249,lodash:43,"moment-business-days":44,"pusher-js":47}],64:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={validation:function(t){var e=_.template('<ul class="list-unstyled">\n                    <% _.forEach(data, function(errors) { %>\n                        <% _.forEach(errors, function(error) {%>\n                        <li><%- error %></li>\n                        <% }); %>\n                    <% }); %>\n                </ul>');swal({title:"Errors occurred!",text:e({data:t}),html:!0,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok",closeOnConfirm:!0})},error:function(t){swal({title:"Error occurred!",type:"warning",text:t})},success:function(t){swal({text:t,html:!0,title:"Success",type:"success"})},confirm:function(t,e,n){swal({title:t,text:e,html:!0,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",closeOnConfirm:!0},n)},loading:function(t){t?($("body").removeClass("loaded"),$("body").addClass("loading")):($("body").removeClass("loading"),$("body").addClass("loaded"))}}},{}],65:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){initCarousel(),intibgimg(),initSameHeight(),initBoottab(),initAnchors(),initAddClass(),initPopups(),initFixedScrollBlock(),$(".meeting-toggle").on("click",function(t){t.preventDefault(),Calendly.showPopupWidget($(this).attr("href"))}),$(".toggle-chat").on("click",function(t){t.preventDefault(),window.CMV.toggleChat()}),$(".tooltipper").tooltip({html:!0}),$(".btn-load-more").on("click",function(t){var e=$(this);if(e.hasClass("disabled"))return!1;var n=e.html();e.addClass("disabled").html('LOADING MORE POSTS <i class="fa fa-spin fa-spinner"></i>');var i=".post-preview",r=".posts-append",o=".btn-load-more";$.get(e.attr("href"),function(t){$(r).append($(t).find(i));var a=$(t).find(o).attr("href");a?e.removeClass("disabled").html(n).attr("href",a):e.html("All posts have been loaded!").css("cursor","default")}),t.preventDefault()}),$(document).on("click",".blurred",function(){$(this).removeClass("blurred"),$(this).prev(".blur-header").remove()}),$(document).on("click",".full-screen-screenshot",function(t){t.preventDefault();var e=$(this).attr("href");$("body").append('<div class="screenshot-photo"><a href="#" class="btn btn-xs btn-info-outline close-screenshot">CLOSE</a><img src="'+e+'" /></div>')}),$(document).on("click",".close-screenshot",function(t){t.preventDefault(),$(".screenshot-photo").each(function(t){var e=$(this);e.fadeOut(function(){e.remove()})})})}},{}],66:[function(t,e,n){"use strict";t("./components/pagination")["default"],t("./components/stats-graph")["default"]},{"./components/pagination":72,"./components/stats-graph":76}],67:[function(t,e,n){e.exports='<div class="multi-dropdown">\n    <i class="fa fa-clock-o toggler" v-on:click="toggleDropdown"></i>\n\n    <div v-if="active" class="md-container">\n        <button class="btn-primary btn-block button-xs" v-on:click="pickItems">Ok</button>\n\n        <ul class="list-unstyled">\n            <li v-if="items.length == 0">No items to add</li>\n\n            <li v-for="item in items">\n                <label>\n                    <input type="checkbox" :value="item.id" v-model="selected">\n                    {{{ getItemName(item) }}}\n                </label>\n            </li>\n        </ul>\n    </div>\n</div>'},{}],68:[function(t,e,n){
"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./multi-dropdown.html"),props:{items:{type:Array,required:!0},onItemsPick:{type:Function,required:!0},getItemName:{type:Function,required:!0}},data:function(){return{active:!1,selected:[]}},methods:{hideDropdown:function(){this.active=!1},showDropdown:function(){this.selected=[],this.active=!0},toggleDropdown:function(){this.active?this.hideDropdown():this.showDropdown()},pickItems:function(){this.hideDropdown(),this.onItemsPick(this.selected)}}})},{"./multi-dropdown.html":67}],69:[function(t,e,n){e.exports='<div class="cmv-multiselect">\n\n    <div v-for="option in options" class="item"\n        v-bind:class="{\'active\': isActive(option.value) }"\n        v-on:click="toggleSelected(option.value)"\n    >{{ option.text }}</div>\n\n    <!-- orphans -->\n    <div v-for="value in orphans" class="item active">\n        {{ value }}\n        <i class="fa fa-times float-right" v-on:click="toggleSelected(value)"></i>\n    </div>\n\n    <div class="adder">\n        <input type="text" v-model="newItem" placeholder="new item value"\n               v-on:keydown.enter.prevent="addSelected"\n        >\n    </div>\n\n</div>'},{}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./multiselect.html"),props:{options:{type:Array,required:!1,"default":[]},selected:{type:Array,required:!0,"default":[]}},data:function(){return{newItem:""}},computed:{orphans:function(){var t=this;return _.reduce(this.selected,function(e,n){return void 0===_.find(t.options,function(t){return t.value==n})&&e.push(n),e},[])}},methods:{isActive:function(t){return _.dirtyIndexOf(this.selected,t)!=-1},toggleSelected:function(t){_.dirtyIndexOf(this.selected,t)!=-1?this.selected=_.reject(this.selected,function(e){return e==t}):this.selected.push(t)},addSelected:function(){this.newItem&&(this.selected.push(this.newItem),this.newItem="")}}})},{"./multiselect.html":69}],71:[function(t,e,n){e.exports='<div>\n    <nav v-if="pagination.totalItems">\n        <ul class="pagination">\n            <li v-bind:class = " {\'disabled\': pagination.links.previous == null } " v-on:click.prevent="paginate(pagination.currentPage - 1)"><a href="#"><<</a></li>\n            <li v-for="page in pages" v-bind:class="{ \'disabled\': page == currentPage } ">\n                <a href="#" v-on:click.prevent="paginate(page)">{{ page }}</a>\n            </li>\n            <li v-bind:class = " {\'disabled\': pagination.links.next == null } " v-on:click.prevent="paginate(pagination.currentPage + 1)"><a href="#">>></a></li>\n        </ul>\n    </nav>\n</div>'},{}],72:[function(t,e,n){"use strict";Vue.component("cmv-pagination",{template:t("./pagination.html"),props:["pagination","pageChanged"],computed:{currentPage:function(){return this.pagination.currentPage},totalPages:function(){return Math.ceil(this.pagination.totalItems/this.pagination.itemsPerPage)},pages:function i(){var t=Math.max(1,this.currentPage-5),e=Math.min(this.totalPages,this.currentPage+5),i=[];for(t;t<=e;t++)i.push(t);return i}},methods:{paginate:function(t){this.pageChanged(t)}}})},{"./pagination.html":71}],73:[function(t,e,n){e.exports='<div class="searcher">\n\n    <div class="searcher-container">\n\n        <input type="text" class="form-control col-xs-12 searcher-input" placeholder="{{ helperText }}"\n           v-model="query"\n           v-on:keyup="search"\n           v-on:keydown.27="hideDropdown"\n           v-on:keydown.40="showDropdown"\n        >\n\n        <div class="badge" v-on:click="toggleDropdown">\n            <i v-if="fetching" class="fa fa-spinner fa-spin"></i>\n\n            <span v-if="!fetching">{{ totalItems }}</span>\n        </div>\n\n        <div v-if="dropdownActive" class="dropdown">\n            <div v-if="fetching" class="text-center"></div>\n\n            <div v-if="totalItems == 0" class="dropdown-item"><i class="fa fa-warning"></i> Nothing Found</div>\n\n            <div v-for="category in categories">\n                <div v-if="categories.length > 1 && items[category].length" class="category-name">\n                    <i v-if="icons[category]" class="{{ icons[category] }}"></i>\n                    {{ category | ucfirst }}\n                </div>\n\n                <div class="category-item" id="{{ salt + \'-\' + category + \'-\' + index}}"\n                     v-bind:class="{ \'active\': isItemActive(item, category) }"\n                     v-for="(index, item) in items[category]"\n                     v-on:click="setActiveItem(item, category)"\n                >\n                    {{ getItemName(item, category) }}\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>'},{}],74:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./searcher.html"),props:{getItemName:{type:Function,required:!1,"default":function(t,e){return t.name}},onItemSelect:{type:Function,required:!0},helperText:{type:String,required:!1},entities:{type:Array,required:!0}},data:function(){return{items:{},activeItem:{},activeCategory:"",lastQuery:"",query:"",dropdownActive:!1,fetching:!1,icons:{projects:"fa fa-cube",teams:"fa fa-users"},handlers:{}}},computed:{categories:function(){return _.keys(this.items)},activeItemName:function(){return(void 0!=this.activeItem.id?this.getItemName(this.activeItem):"Select an Item")+(" ("+this.totalItems+" found)")},totalItems:function(){var t=0;for(var e in this.items)t+=this.items[e].length;return t}},ready:function(){var t=this;this.handlers.clickOutside=function(e){0==$(e.target).parents(".searcher").length&&t.hideDropdown()},$(document).on("click","body",this.handlers.clickOutside)},beforeDestroy:function(){$(document).off("click","body",this.handlers.clickOutside)},methods:{search:function(){var t=this;if(""==this.query||this.query===this.lastQuery)return!1;this.lastQuery=this.query;var e={search:this.query,entities:this.entities};this.fetching=!0,this.$http.get("/mastermind/search",e,function(e){t.items=e.data,t.showDropdown()}).always(function(){t.fetching=!1})},setActiveItem:function(t,e){this.activeItem=t,this.activeCategory=e,this.onItemSelect(t,e),this.query=this.getItemName(t,e),this.hideDropdown()},isItemActive:function(t,e){return this.activeItem.id==t.id&&this.activeCategory==e},showDropdown:function(){this.dropdownActive=!0},hideDropdown:function(){this.dropdownActive=!1},toggleDropdown:function(){this.dropdownActive=!this.dropdownActive},clear:function(){this.query="",this.items={}}}})},{"./searcher.html":73}],75:[function(t,e,n){e.exports='<div style="height: 300px">\n    <canvas v-show="loaded" height="110" v-el:canvas></canvas>\n    <span v-show="!loaded"><i class="fa fa-spin fa-spinner"></i></span>\n</div>\n'},{}],76:[function(t,e,n){"use strict";var i=t("chart.js");Vue.component("stats-graph",{template:t("./stats-graph.html"),props:{type:{type:String,"default":"line"},charts:{type:Array,required:!0},from:{type:String},to:{type:String},options:{type:Object}},data:function(){return{loaded:!1,chart:null,defaultOptions:{tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t){return"$"+_.numberFormat(t.yLabel)}}},legend:{labels:{boxWidth:20,fontFamily:"Gotham"}},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(t){return"$"+_.numberFormat(t)}}}]}}}},ready:function(){this.loadChart()},methods:{loadChart:function(){var t=this;this.$http.get("/api/stats/charts",{charts:this.charts,from:this.from,to:this.to},function(e){t.initializeChart(e.data)}).always(function(){t.loaded=!0})},initializeChart:function(t){this.chart=new i(this.$els.canvas,{type:this.type,data:t,options:Object.assign({},this.defaultOptions,this.options)})}}})},{"./stats-graph.html":75,"chart.js":1}],77:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={portfolio:t("./controllers/portfolio")["default"],"cmv-jobs":t("./controllers/cmv-jobs")["default"],navigation:t("./controllers/navigation")["default"],"project/brief-view":t("./controllers/pm/brief-view/controller")["default"],"project/brief-edit":t("./controllers/pm/brief-edit/controller")["default"],"pm/brief/create":t("./controllers/pm/brief/create")["default"],"project/invoice-edit":t("./controllers/pm/invoice/edit")["default"],"project/invoice":t("./controllers/pm/invoice")["default"],"project/new":t("./controllers/pm/new")["default"],"misc/uploadcare":t("./controllers/misc/uploadcare")["default"],"misc/invitations":t("./controllers/misc/invitations")["default"],"misc/home":t("./controllers/misc/home")["default"],"misc/empty":t("./controllers/misc/empty")["default"],"register/invitation":t("./controllers/register/invitation")["default"],"project/project":t("./controllers/pm/project/controller")["default"],"mastermind/projects":t("./controllers/mastermind/projects/controller")["default"],"mastermind/merge-projects":t("./controllers/mastermind/merge/controller")["default"],"mastermind/users":t("./controllers/mastermind/users/controller")["default"],"developer/dashboard":t("./controllers/developer/dashboard/controller")["default"],"prospector/prospects":t("./controllers/prospector/prospects/controller")["default"],"prospector/companies":t("./controllers/prospector/companies/controller")["default"],"prospector/company":t("./controllers/prospector/company/controller")["default"]}},{"./controllers/cmv-jobs":78,"./controllers/developer/dashboard/controller":81,"./controllers/mastermind/merge/controller":82,"./controllers/mastermind/projects/controller":83,"./controllers/mastermind/users/controller":95,"./controllers/misc/empty":99,"./controllers/misc/home":100,"./controllers/misc/invitations":103,"./controllers/misc/uploadcare":104,"./controllers/navigation":105,"./controllers/pm/brief-edit/controller":116,"./controllers/pm/brief-view/controller":141,"./controllers/pm/brief/create":150,"./controllers/pm/invoice":151,"./controllers/pm/invoice/edit":154,"./controllers/pm/new":155,"./controllers/pm/project/controller":196,"./controllers/portfolio":203,"./controllers/prospector/companies/controller":204,"./controllers/prospector/company/controller":210,"./controllers/prospector/prospects/controller":215,"./controllers/register/invitation":218}],78:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({ready:function(){window.getStep3=function(t){return"Great job, "+t+".  In a perfect world, we would have finished this JS so that it sent us an email when you made it this far.  Unfortunately, we ran out of time.  As the first part of your job application, in less than 3 sentences, explain how you would make the getStep3() functional so that it sends me an email notification.  Email your answer to: connor@codemyviews.com."}},methods:{step1:function(t){t.preventDefault(),alert("Welcome to step 1 of the Code My Views Inc. team member interview.  We are delighted to see you are interested in working with us.  To get to step 2 of the developer interview, please view your developer console in the browser.  If you don't know what that is then I bet google will be able to tell you!"),console.log("Congrats!  You made it to step 2.  To get to step 3, run this JavaScript function in the developer console: getStep3(yourEmailHere)")}}})},{}],79:[function(t,e,n){e.exports='<span>\n    <span data-toggle="modal" data-target="#log-time-{{ unique }}" class="btn btn-warning">\n        <i class="fa fa-clock-o"></i> Log Time\n    </span>\n\n    <div class="modal fade" id="log-time-{{ unique }}" >\n        <div class="modal-dialog" role="document">\n            <div class="modal-content">\n                <div class="modal-body">\n                    <div class="row">\n                        <div class="col-md-8 col-md-offset-2">\n                            <div class="form-group">\n                                <label for="log-time-from-{{ unique }}">\n                                    Start Time:\n                                </label>\n                                <input type="text" id="log-time-from-{{ unique }}" class="form-control" placeholder="10:30" v-model="start">\n                            </div>\n\n                            <div class="form-group">\n                                <label for="log-time-to-{{ unique }}">\n                                    End Time:\n                                </label>\n                                <input type="text" id="log-time-to-{{ unique }}" class="form-control" placeholder="23:14" v-model="stop">\n                            </div>\n\n                            <span class="btn btn-primary btn-block" @click="log">Log time</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</span>\n'},{}],80:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../misc/notify"),o=i(r),a=t("moment");n["default"]=Vue.extend({props:["slug"],data:function(){return{unique:Math.ceil(100*Math.random()),start:a().add(-30,"minute").format("HH:mm"),stop:a().format("HH:mm")}},template:t("./manual-time.html"),methods:{log:function(){var t=this._createTimeArrayFromString(this.start),e=this._createTimeArrayFromString(this.stop);t&&e||o["default"].error("Allowed time range: 00:00 - 23:59");var n={from:a().hours(t.hours).minutes(t.minutes).unix(),to:a().hours(e.hours).minutes(e.minutes).unix()};this.$http.post(CObj.tracker_host+"/projects/"+this.slug+"/intervals",{api_token:CObj.token,intervals:[n]}).then(function(t){var e=t.data.payload,n=Math.floor(e/3600),i=Math.floor(e%3600/60);o["default"].success("Time has been successfully logged. You have worked "+_.padLeft(n,2,"0")+":"+_.padLeft(i,2,"0")+" today!")})["catch"](function(t){var e=t.data.errors||["Unknown error"];o["default"].error(e.join("<br>"))})},_createTimeArrayFromString:function(t){var e=t.split(":"),n=e[0],i=e[1];return!isNaN(n)&&!isNaN(i)&&(n=+n,i=+i,!(n<0||n>23||i<0||i>59)&&{hours:n,minutes:i})}}})},{"../../../../../misc/notify":64,"./manual-time.html":79,moment:46}],81:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({components:{manualTime:t("./components/manual-time")["default"]}})},{"./components/manual-time":80}],82:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../misc/notify")["default"],r=t("./../../../components/searcher")["default"];n["default"]=Vue.extend({components:{searcher:r},data:function(){return{source:{},destination:{},asyncSelect:{entities:["projects"],source:{helperText:"Project to merge"},destination:{helperText:"Project to merge to"}},merging:!1}},computed:{readyToMerge:function(){return this.source.id&&this.destination.id&&this.source.id!=this.destination.id}},ready:function(){},methods:{merge:function(){var t=this,e={source:this.source.id,destination:this.destination.id};this.merging=!0,this.$http.post("/api/projects/merge",_.merge({info_only:!0},e),function(n){var r="<p># of entities will be moved from '"+t.source.name+"' to '"+t.destination.name+'\'</p><ul class="list-unstyled">',o=n.data.update;for(var a in o)r+="<li>"+a+": "+o[a]+"</li>";r+="</ul>",i.confirm("Merge Projects",r,function(){t.merging=!0,t.$http.post("/api/projects/merge",e,function(e){i.success("Projects have been merged."+(0!=o.todos?"<br/> Don't forget to check all the <a href='/project/"+t.destination.slug+"/to-dos' target='_blank'>todos</a> have a properly assigned developer":"")),t.$refs.sourceSelect.clear(),t.source={}}).always(function(){t.merging=!1})})}).always(function(){t.merging=!1})},onSourceSelect:function(t){this.source=t},onDestinationSelect:function(t){this.destination=t}}})},{"./../../../../misc/notify":64,"./../../../components/searcher":74}],83:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({data:function(){return{projects:[],pagination:{},isLoading:null,projectEngineer:CObj.user_id,status:"_not_completed",includeArchived:!1}},ready:function(){this.loadPage(1)},watch:{projectEngineer:function(){this.loadPage(1)},status:function(){this.loadPage(1)},includeArchived:function(){this.loadPage(1)}},components:{project:t("./project")["default"]},methods:{loadPage:function(t){var e=this;e.isLoading=!0,e.$http.get("/api/projects/all",{page:t,project_engineer:this.projectEngineer,status:this.status,include_archived:this.includeArchived}).then(function(t){e.projects=t.data.data,e.pagination=t.data.pagination,e.isLoading=!1},function(t){e.isLoading=!1,alert(t.data.error)})}}})},{"./project":85}],84:[function(t,e,n){e.exports='<tr v-show="!isDeleted">\n    <td>\n        <h5 class="m-a-0">\n            <a href="/project/{{ project.slug }}" data-pjax-full><span v-if="project.archived_at"><i class="fa fa-archive"></i></span>{{ project.name }}</a><br />\n            <small class="text-muted">{{ project.team.name }}</small>\n        </h5>\n    </td>\n    <td class="text-center">\n        {{ project.created_at | ago}}\n    </td>\n    <td class="text-center">{{ project.status }}</td>\n    <td class="text-center">\n        <p v-for="date in project.delivery_dates" track-by="$index">{{ date | date }}</p>\n        <small v-if="!project.delivery_dates.length" class="text-muted">N/A</small>\n    </td>\n    <td  class="text-right">\n        <a href="/project/{{ project.slug }}" class="btn btn-primary" data-pjax-full>\n            View\n        </a>\n        <span class="btn btn-danger" @click="delete" :disabled="isDeleting">\n            <i v-if="isDeleting" class="fa fa-refresh fa-spin"></i>\n            <i v-else class="fa fa-trash"></i>\n        </span>\n    </td>\n</tr>'},{}],85:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../misc/notify")["default"];n["default"]=Vue.extend({template:t("./project.html"),data:function(){return{isDeleting:!1,isDeleted:!1}},props:["project"],methods:{"delete":function(){var t=this;return!this.isDeleting&&void i.confirm("Are you sure you want to delete this project?","",function(){t.isDeleting=!0,t.$http["delete"]("/api/projects/"+t.project.id).then(function(e){t.isDeleting=!1,t.isDeleted=!0},function(e){t.isDeleting=!1,alert(e.data.error)})})}}})},{"./../../../../misc/notify":64,"./project.html":84}],86:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./store")["default"];n["default"]={loadPage:function(t){i.dispatch({type:"USERS_PAGE_FETCH"}),Vue.http.get("/api/users",_.merge({page:t},i.getState().filter),function(t){i.dispatch({type:"USERS_PAGE_SET",users:t.data,pagination:t.pagination})}).always(function(){i.dispatch({type:"USERS_PAGE_FETCHED"})})},filterUpdated:function(t){i.dispatch({type:"FILTER_UPDATED",filter:t}),this.loadPage(1)},userUpdated:function(t){i.dispatch({type:"USER_UPDATED",user:t})}}},{"./store":98}],87:[function(t,e,n){e.exports='<div class="row">\n    <div class="col-md-4">\n        <div class="form-group">\n            <label>Team</label>\n            <searcher :entities="[\'teams\']" :on-item-select="onTeamSelect" v-ref:searcher></searcher>\n        </div>\n\n        <div class="form-group">\n            <label>Role</label>\n            <select class="form-control" v-model="teamUser.role">\n                <option value="admin">Team Admin</option>\n                <option value="accountant">Team Accountant</option>\n                <option value="member">Team Member</option>\n                <option value="owner">Team Owner</option>\n            </select>\n        </div>\n    </div>\n\n    <div class="col-md-4">\n        <div class="form-group">\n            <label>Projects</label>\n\n            <select multiple class="form-control"\n                    v-bind:disabled="teamUser.role != \'member\'"\n                    v-model="teamUser.projects"\n            >\n                <option v-for="project in teamProjects" value="{{ project.id }}">{{ project.name }}</option>\n            </select>\n        </div>\n    </div>\n    <div class="col-md-4">\n        <button class="btn btn-primary" v-on:click.prevent="attachTeamUser" v-bind:disabled="!teamUser.team_id">Add User to Team</button>\n    </div>\n</div>'},{}],88:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({template:t("./attach-team.html"),components:{searcher:t("./../../../../components/searcher")["default"]},props:{userId:{required:!0,type:Number},onTeamUserAttach:{required:!0,type:Function}},data:function(){return{teamUser:{projects:[],team_id:null,role:"member"},teamProjects:[]}},methods:{onTeamSelect:function(t){var e=this;this.teamUser.team_id=t.id,this.$http.get("/api/teams/"+t.id+"/projects",function(t){e.teamProjects=t.data})},attachTeamUser:function(){var t=this;this.$http.post("/settings/teams/"+this.teamUser.team_id+"/members/"+this.userId,this.teamUser,function(e){t.onTeamUserAttach(e.data),t.$refs.searcher.clear(),t.teamProjects=[],t.teamUser={projects:[],team_id:null,role:"member"}})}}})},{"./../../../../../misc/notify":64,"./../../../../components/searcher":74,"./attach-team.html":87}],89:[function(t,e,n){e.exports='<div class="row">\n    <div class="col-md-4">\n        <div class="form-group">\n            <label>Team</label>\n            {{ team.name }}\n        </div>\n\n        <div class="form-group">\n            <label>Role</label>\n            <select class="form-control" v-model="user.role">\n                <option value="admin">Team Admin</option>\n                <option value="accountant">Team Accountant</option>\n                <option value="member">Team Member</option>\n                <option value="owner">Team Owner</option>\n            </select>\n        </div>\n    </div>\n\n    <div class="col-md-4">\n        <div class="form-group">\n            <label>Projects</label>\n\n            <select multiple class="form-control"\n                    v-bind:disabled="user.role != \'member\'"\n                    v-model="user.projects"\n            >\n                <option v-for="project in teamProjects" value="{{ project.id }}">{{ project.name }}</option>\n            </select>\n        </div>\n    </div>\n    <div class="col-md-4" v-if="team.id && user.id">\n        <button v-if="hasChanges" class="btn btn-primary" v-on:click.prevent="updateTeamUser">Save</button>\n        <button class="btn btn-danger" v-on:click.prevent="detachTeamUser">Remove</button>\n    </div>\n</div>'},{}],90:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({template:t("./edit-team.html"),props:{teamId:{type:Number,required:!0},userId:{type:Number,required:!0},onTeamUserDetach:{type:Function,required:!0}},data:function(){return{team:{},teamProjects:[],user:{projects:[],role:"member"},lastSavedUser:{}}},computed:{hasChanges:function(){return this.user.projects!=this.lastSavedUser.projects||this.user.role!=this.lastSavedUser.role}},ready:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.$http.get("/api/teams/"+this.teamId+"/members/"+this.userId,function(e){t.team=e.team,t.teamProjects=e.projects,t.user=e.data,t.lastSavedUser=_.clone(e.data)})},updateTeamUser:function(){var t=this;this.$http.put("/settings/teams/"+this.team.id+"/members/"+this.user.id,this.user,function(e){i.success("User team settings have been updated"),t.lastSavedUser=_.clone(t.user)})},detachTeamUser:function(){var t=this;i.confirm("Remove the user from the team?",null,function(){t.$http["delete"]("/settings/teams/"+t.team.id+"/members/"+t.user.id,function(e){i.success("User has been detached from the team"),t.onTeamUserDetach(t.team.id,t.user.id)})})}}})},{"./../../../../../misc/notify":64,"./edit-team.html":89}],91:[function(t,e,n){e.exports='<div class="modal fade in" id="edit-user">\n    <div class="modal-dialog modal-md">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">Edit User</h4>\n            </div>\n            <div class="modal-body">\n\n                <form>\n                    <div class="form-group">\n                        <label>Email</label>\n                        <input type="email" class="form-control" required v-model="user.email"/>\n                    </div>\n\n                    <div class="form-group">\n                        <label>Name</label>\n                        <input type="text" class="form-control" required v-model="user.name"/>\n                    </div>\n\n                    <div class="form-group" v-if="isCMVStaff">\n                        <select multiple class="form-control" v-model="user.roles">\n                            <option value="mastermind">Mastermind</option>\n                            <option value="project_engineer">Project Engineer</option>\n                            <option value="developer">Developer</option>\n                            <option value="sales">Sales Rep</option>\n                        </select>\n                    </div>\n\n                    <div v-if="isDevAndNotAdmin">\n                        <label>\n                            <input type="checkbox" value="true" v-model="user.posts_hidden_messages">\n                            Posts hidden messages\n                        </label>\n                    </div>\n\n                    <button type="submit" class="btn btn-success btn-block btn-lg"\n                            v-submit="updatingUser"\n                            v-on:click.prevent="updateUser">Update User\n                    </button>\n\n                    <div v-if="!isCMVStaff">\n                        <hr>\n\n                        <div v-for="team in user.teams">\n                            <edit-team :team-id="team.id"\n                                :user-id="user.id"\n                                :on-team-user-detach="teamUserDetached">\n                            </edit-team>\n                        </div>\n\n                        <attach-team :user-id="user.id"\n                            :on-team-user-attach="teamUserAttached">\n                        </attach-team>\n                    </div>\n                </form>\n            </div><!--tab-content-->\n        </div>\n    </div>\n</div>'},{}],92:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"],r=t("./../actions")["default"];n["default"]=Vue.extend({template:t("./edit.html"),components:{"edit-team":t("./edit-team")["default"],"attach-team":t("./attach-team")["default"]},props:["user"],data:function(){return{user:{teams:[],roles:[],posts_hidden_messages:!1},updatingUser:!1,isCMVStaff:!1}},computed:{isDev:function(){return this.hasRole("developer")},isProjectEngineer:function(){return this.hasRole("project_engineer")},isMastermind:function(){return this.hasRole("mastermind")},isDevAndNotAdmin:function(){return this.isDev&&!this.isProjectEngineer&&!this.isMastermind}},methods:{hasRole:function(t){return _.indexOf(this.user.roles,t)>-1},openModal:function(t){var e=this;this.$http.get("/api/users/"+t,function(t){e.user=t.data,e.isCMVStaff=0!=e.user.roles.length,$("#edit-user").modal("show")})},closeModal:function(){$("#edit-user").modal("hide")},updateUser:function(){var t=this,e={name:this.user.name,email:this.user.email,roles:this.user.roles,posts_hidden_messages:this.isDevAndNotAdmin&&this.user.posts_hidden_messages};this.updatingUser=!0,this.$http.put("/api/users/"+this.user.id,e,function(t){i.success("User has been updated"),r.userUpdated(t.data)}).always(function(){t.updatingUser=!1})},teamUserAttached:function(t){this.user.teams.push(t),r.userUpdated(this.user)},teamUserDetached:function(t,e){this.user.teams=_.reduce(this.user.teams,function(e,n){return n.id!=t&&e.push(n),e},[]),r.userUpdated(this.user)}}})},{"./../../../../../misc/notify":64,"./../actions":86,"./attach-team":88,"./edit-team":90,"./edit.html":91}],93:[function(t,e,n){e.exports='<div class="modal fade in" id="invite-user">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">Invite User</h4>\n            </div>\n            <div class="modal-body">\n\n                <div class="text-center m-b">\n                    <div class="btn-group">\n                        <a href="#type-customer" data-toggle="tab" class="btn btn-sm btn-warning active">Invite Customer</a>\n                        <a href="#type-cmv_user" data-toggle="tab" class="btn btn-sm btn-warning">Invite CMV User</a>\n                    </div>\n                </div>\n\n                <hr />\n\n                <div class="tab-content">\n                    <div class="tab-pane active" id="type-customer">\n                        <form>\n                            <div class="form-group">\n                                <label>Email</label>\n                                <input type="email" class="form-control" required v-model="clientInvite.email" />\n                            </div>\n\n                            <div class="form-group">\n                                <label>Team</label>\n                                <searcher :entities="[\'teams\']" :on-item-select="onTeamSelect"></searcher>\n                            </div>\n\n                            <div class="form-group">\n                                <label>Role</label>\n                                <select class="form-control" v-model="clientInvite.role">\n                                    <option value="admin">Team Admin</option>\n                                    <option value="accountant">Team Accountant</option>\n                                    <option value="member">Team Member</option>\n                                </select>\n                            </div>\n\n                            <div class="form-group">\n                                <label>Projects</label>\n\n                                <select multiple class="form-control"\n                                        v-bind:disabled="clientInvite.role != \'member\'"\n                                        v-model="clientInvite.projects"\n                                >\n                                    <option v-for="project in teamProjects" value="project.id">{{ project.name }}</option>\n                                </select>\n                            </div>\n\n                            <p v-if="!clientInvite.team_id" class="text-warning">Team is not selected</p>\n\n                            <button type="submit" class="btn btn-success btn-block btn-lg"\n                                v-bind:disabled="!clientInvite.team_id"\n                                v-submit="invitingUser"\n                                v-on:click.prevent="inviteUser">Invite User</button>\n                        </form>\n                    </div>\n\n                    <div id="type-cmv_user" class="tab-pane">\n                        <form>\n                            <div class="form-group">\n                                <label>Email</label>\n                                <input type="email" class="form-control" required v-model="cmvInvite.email" />\n                            </div>\n\n                            <div class="form-group">\n                                <label>Name</label>\n                                <input type="text" class="form-control" required v-model="cmvInvite.name" />\n                            </div>\n\n                            <div class="form-group">\n                                <label>Roles</label>\n                                <select multiple class="form-control" v-model="cmvInvite.roles">\n                                    <option value="mastermind">Mastermind</option>\n                                    <option value="project_engineer">Project Engineer</option>\n                                    <option value="developer">Developer</option>\n                                    <option value="sales">Sales Rep</option>\n                                </select>\n                            </div>\n\n                            <div v-if="isDevAndNotAdmin">\n                                <label>\n                                    <input type="checkbox" value="true" v-model="cmvInvite.posts_hidden_messages" checked>\n                                    Posts hidden messages\n                                </label>\n                            </div>\n\n                            <button type="submit" class="btn btn-success btn-block btn-lg"\n                                v-submit="invitingCMVUser"\n                                v-on:click.prevent="inviteCMVUser">Invite Staff Member\n                            </button>\n\n                        </form>\n                    </div>\n                </div><!--tab-content-->\n            </div>\n        </div>\n    </div>\n</div>';
},{}],94:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"],r=t("./../actions")["default"];n["default"]=Vue.extend({template:t("./invite.html"),components:{searcher:t("./../../../../components/searcher")["default"]},data:function(){return{teamProjects:[],clientInvite:{email:"",projects:[],role:"admin",team_id:null},cmvInvite:{roles:[],posts_hidden_messages:!1,name:"",email:""},invitingUser:!1,invitingCMVUser:!1}},computed:{isDev:function(){return this.hasRole("developer")},isProjectEngineer:function(){return this.hasRole("project_engineer")},isMastermind:function(){return this.hasRole("mastermind")},isSalesRep:function(){return this.hasRole("sales")},isDevAndNotAdmin:function(){return this.isDev&&!this.isProjectEngineer&&!this.isMastermind}},methods:{hasRole:function(t){return _.indexOf(this.cmvInvite.roles,t)>-1},openModal:function(){this.resetData(),$("#invite-user").modal("show")},resetData:function(){this.clientInvite={email:"",projects:[],role:"admin",team_id:null},this.cmvInvite={roles:[],posts_hidden_messages:!1,name:"",email:""},this.teamProjects=[]},inviteUser:function(){var t=this;this.invitingUser=!0,this.$http.post("/settings/teams/"+this.clientInvite.team_id+"/invitations",this.clientInvite,function(e){i.success(t.clientInvite.email+" has been invited to the selected team"),t.closeModal()}).always(function(){t.invitingUser=!1})},inviteCMVUser:function(){var t=this;this.invitingCMVUser=!0,this.cmvInvite.posts_hidden_messages=this.isDevAndNotAdmin&&this.cmvInvite.posts_hidden_messages,this.$http.post("/api/users/invite-cmv-user",this.cmvInvite,function(e){i.success(e.success),t.closeModal(),void 0!==e.data.user&&r.userUpdated(e.data.user)}).always(function(){t.invitingCMVUser=!1})},closeModal:function(){$("#invite-user").modal("hide")},onTeamSelect:function(t){var e=this;this.clientInvite.team_id=t.id,this.clientInvite.projects=[],this.teamProjects=[],this.$http.get("/api/teams/"+t.id+"/projects",{},function(t){e.teamProjects=t.data})}}})},{"./../../../../../misc/notify":64,"./../../../../components/searcher":74,"./../actions":86,"./invite.html":93}],95:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../misc/notify")["default"],r=t("./actions")["default"],o=t("./store")["default"];n["default"]=Vue.extend({data:function(){return{state:o.getState()}},ready:function(){this.loadPage()},created:function(){var t=this;this.unsubscribe=o.subscribe(function(){t.state=o.getState()})},destroyed:function(){this.unsubscribe()},components:{"edit-user":t("./components/edit")["default"],"invite-user":t("./components/invite")["default"]},methods:{loadPage:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];r.loadPage(t)},openInviteModal:function(){this.$refs.inviteModal.openModal()},openEditModal:function(t){this.$refs.editModal.openModal(t.id)},restoreUser:function(t){var e=this;this.$http.patch("/api/users/"+t.id+"/restore",{},function(t){i.success("User has been restored"),e.loadPage(e.currentPage)})},deleteUser:function(t){var e=this;this.$http["delete"]("/api/users/"+t.id,{},function(t){i.success("User has been deleted"),e.loadPage(e.currentPage)})},filterWithTrashedUpdated:function(t){r.filterUpdated({with_trashed:$(t.currentTarget).is(":checked")})},filterRoleUpdated:function(t){r.filterUpdated({role:$(t.currentTarget).val()})},filterQueryUpdated:function(t){r.filterUpdated({query:$(t.currentTarget).val()})}}})},{"./../../../../misc/notify":64,"./actions":86,"./components/edit":92,"./components/invite":94,"./store":98}],96:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={isLoading:!1,data:[],pagination:{}}),e.type){case"USERS_PAGE_FETCH":return Object.assign({},t,{isLoading:!0});case"USERS_PAGE_FETCHED":return Object.assign({},t,{isLoading:!1});case"USERS_PAGE_SET":return Object.assign({},t,{data:e.users,pagination:e.pagination});case"USER_UPDATED":for(var n=_.clone(t.data),i=0;i<n.length;i++)n[i].id==e.user.id&&(n[i]=e.user);return Object.assign({},t,{data:n});default:return t}}},{}],97:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={with_trashed:!1,role:"",query:""}),e.type){case"FILTER_UPDATED":return Object.assign({},t,e.filter);default:return t}}},{}],98:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("redux");n["default"]=i.createStore(i.combineReducers({users:t("./reducers/users")["default"],filter:t("./reducers/users_filter")["default"]}))},{"./reducers/users":96,"./reducers/users_filter":97,redux:53}],99:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({})},{}],100:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../mixins/hasState")["default"];n["default"]=Vue.extend({mixins:[i],computed:{hasActiveProjects:function(){return _.filter(this.state.projects,function(t){return null===t.archived_at}).length>0},hasArchivedProjects:function(){return _.filter(this.state.projects,function(t){return null!==t.archived_at}).length>0}},components:{project:t("./home/project")["default"]}})},{"../../mixins/hasState":230,"./home/project":102}],101:[function(t,e,n){e.exports='<td>{{ project.name }}</td>\n<td>{{ project.type_name }}</td>\n<td>{{ project.updated_at | ago }}</td>\n<td>\n    <a href="/project/{{ project.slug }}" class="btn btn-primary" data-toggle="tooltip" title="View Project">\n        View\n    </a>\n    <span v-if="canArchiveProject" href="#" class="btn btn-warning" data-toggle="tooltip" title="Archive Project"\n       v-on:click.prevent="archive">\n        Archive\n    </span>\n    <a v-if="canRestoreProject" href="#" class="btn btn-success" data-toggle="tooltip" title="Restore Project"\n       v-on:click.prevent="restore">\n        Restore\n    </a>\n</td>'},{}],102:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../../../misc/notify")["default"];n["default"]=Vue.extend({props:["project"],template:t("./project.html"),replace:!1,computed:{canArchiveProject:function(){return!this.project.archived_at&&(this.isTeamAdmin||CObj.admin)},canRestoreProject:function(){return!!this.project.archived_at&&(this.isTeamAdmin||CObj.admin)},isTeamAdmin:function(){return _.indexOf(["admin","owner"],CObj.team.pivot.role)>-1}},methods:{archive:function(){var t=this;i.confirm("Archive Project","Are you sure you want to archive "+this.project.name+" Project?",function(){t.$http.post("/api/projects/"+t.project.id+"/archive",{},function(){i.success("Project has been successfully archived"),t.project.archived_at=moment().format("Y-m-d")})})},restore:function(){var t=this;this.$http.post("/api/projects/"+this.project.id+"/restore",{},function(){i.success("Project has been successfully restored"),t.project.archived_at=null})}}})},{"../../../../misc/notify":64,"./project.html":101}],103:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({mixins:[t("./../../mixins/hasState")["default"]],data:function(){return{}},ready:function(){this.invitations=this.state.invitations,this.showInvitationModal()},methods:{showInvitationModal:function(){var t=this;setTimeout(function(){if(t.invitations.length){var e=t.invitations[0];swal({title:"Pending invitation",text:'You have a pending invitation to the "'+e.team.name+'" team',type:"info",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Accept",cancelButtonText:"Decline",closeOnConfirm:!1,closeOnCancel:!1},function(n){t.invitations=_.removeById(e.id,t.invitations),n?t.acceptInvitation(e):t.declineInvitation(e)})}},200)},showInfoModal:function(t){var e=this;swal({title:"Pending Invitation",text:t,type:"success",showCancelButton:!1,confirmButtonColor:"#8CD4F5",confirmButtonText:"Ok",closeOnConfirm:!0},function(){e.showInvitationModal()})},acceptInvitation:function(t){this.$http.post("/settings/teams/invitations/"+t.id+"/accept"),this.showInfoModal("You've been added to the \""+t.team.name+'" team')},declineInvitation:function(t){this.$http["delete"]("/settings/teams/invitations/"+t.id),this.showInfoModal('Invatation to the "'+t.team.name+'" team has been declined')}}})},{"./../../mixins/hasState":230}],104:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../misc/notify")["default"];n["default"]=Vue.extend({template:'\n        <div class="uploadcare-widget-small">\n            <input role="uploadcare-uploader" type="hidden" data-multiple/>\n        </div>\n    ',mixins:[t("./../../mixins/hasState")["default"]],data:function(){return{uploadedCount:void 0}},ready:function(){var t=this;this.$el.id=_.randomStr();var e=uploadcare.initialize("#"+this.$el.id),n=e[0];n.onChange(function(e){e&&$.when.apply(null,e.files()).done(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];_.each(r,function(e,n){t.persist(e)}),n.value(null),t.uploadedCount=void 0===t.uploadedCount?r.length:t.uploadedCount+r.length,i.success(_.pluralize(r.length,"file has been","files have been")+" uploaded")})})},methods:{persist:function(t){return t.reference_type=this.state.reference_type,t.reference_id=this.state.reference_id,this.$http.post("/api/files",t)}}})},{"./../../../misc/notify":64,"./../../mixins/hasState":230}],105:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("./../../misc/notify")["default"];n["default"]=Vue.extend({components:{searcher:t("./../components/searcher")["default"]},data:function(){return{searcher:{entities:["projects","teams"],helperText:"Search"}}},ready:function(){},methods:{onSearchItemSelect:function(t,e){switch(e){case"teams":window.location.href="/settings/teams/switch/"+t.id;break;case"projects":window.location.href="/project/"+t.slug}}}})},{"./../../misc/notify":64,"./../components/searcher":74}],106:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{checklist:{type:Array,required:!0},path:{type:String,required:!0},withCategories:{type:Boolean,required:!1,"default":!1}},data:function(){return{categories:[{text:"design",value:"design"},{text:"html/css",value:"html/css"},{text:"javascript",value:"javascript"},{text:"animations",value:"animations"}]}},components:{uploadcare:t("./uploadcare")["default"]},template:'\n        <div class="form-group">\n            <label>Check List Items</label>\n\n            <div class="well well-small text-center" v-show=" !checklist.length ">\n                <h4 class="m-a-0">There are no check list items added yet.</h4>\n                <br />\n                <a href="#" class="btn btn-xs btn-success"\n               v-on:click.prevent="$root.addListItem(path)"><i class="fa fa-plus"></i> Add Item</a>\n            </div>\n            <table class="table table-bordered table-middle"\n                   v-show="checklist.length">\n                <thead>\n                <tr>\n                    <th v-if="withCategories" style="width: 20%">Category</th>\n                    <th style="width: 50%">Description</th>\n                    <th style="width: 20%">Attachments</th>\n                    <th style="width: 10%">&nbsp;</th>\n                </tr>\n                </thead>\n\n                <tbody>\n\n\n                <tr v-for="(itemIndex, item) in checklist">\n                    <td v-if="withCategories">\n                        <select v-model="item.category" class="custom-select form-control">\n                            <option v-for="option in categories" value="{{ option.value }}">\n                                {{ option.text }}\n                            </option>\n                        </select>\n                    </td>\n                    <td>\n                        <textarea class="form-control m-a-0" rows="5" placeholder="Enter a description of the item."\n                                  v-model="item.description"></textarea>\n                    </td>\n                    <td>\n                        <uploadcare\n                            :bind-files.sync="item.attachments"\n                            :brief-files.sync="$root.briefFiles"\n                            :project-files="$root.projectFiles"\n                            reference_type="project_brief"\n                            reference_id="$root.state.brief_id">\n                        </uploadcare>\n                    </td>\n\n                    <td>\n                        <a href="#" class="btn btn-danger-outline"\n                           v-on:click.prevent="$root.removeListItem(path, itemIndex)"><i class="fa fa-times"></i></a>\n                    </td>\n                </tr>\n\n                </tbody>\n            </table>\n\n            <a v-show="checklist.length" href="#" class="btn btn-xs btn-success pull-right"\n               v-on:click.prevent="$root.addListItem(path)"><i class="fa fa-plus"></i> Add Item</a>\n        </div>\n    '})},{"./uploadcare":115}],107:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{design_proofs:{type:Array,required:!0},path:{type:String,required:!0}},components:{uploadcare:t("./uploadcare")["default"]},template:'\n        <div class="form-group">\n            <label>Design Proofs</label>\n\n            <div class="well well-small text-center" v-show=" !design_proofs.length">\n                <h4 class="m-a-0">There are no design proofs added yet.</h4>\n                <p class="m-a-0">Design proofs are PNG previews of the view/modal.  You should upload one for each viewport (mobile, desktop, tablet) if you have it.</p>\n                <br />\n                <a href="#" class="btn btn-xs btn-success" v-on:click.prevent="$root.addListItem(path)">\n                <i class="fa fa-plus"></i> Add Design Proof\n            </a>\n            </div>\n\n            <table class="table table-bordered table-middle" v-if="design_proofs.length">\n                <thead>\n                <tr>\n                    <th style="width: 70%">Name</th>\n                    <th style="width: 20%">Image</th>\n                    <th style="width: 10%">&nbsp;</th>\n                </tr>\n                </thead>\n\n                <tbody>\n                <tr v-for="(proofIndex, proof) in design_proofs">\n                    <td>\n                        <input type="text" class="form-control" placeholder="the unique name of the design proof"\n                               v-model="proof.name" />\n                    </td>\n                    <td>\n                        <uploadcare\n                            :bind-files.sync="proof.screenshots"\n                            :brief-files.sync="$root.briefFiles"\n                            :project-files="$root.projectFiles"\n                            reference_type="project_brief"\n                            reference_id="$root.state.brief_id">\n                        </uploadcare>\n                    </td>\n\n                    <td>\n                        <a href="#" class="btn btn-danger-outline"\n                           v-on:click.prevent="$root.removeListItem(path, proofIndex)">\n                            <i class="fa fa-times"></i>\n                        </a>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n\n            <a href="#" v-show="design_proofs.length" class="btn btn-xs btn-success pull-right"\n               v-on:click.prevent="$root.addListItem(path)">\n                <i class="fa fa-plus"></i> Add Design Proof\n            </a>\n        </div>\n    '})},{"./uploadcare":115}],108:[function(t,e,n){e.exports='<div class="row">\n    <div class="col-sm-9">\n        <div class="well well-small m-b-0" style="border-bottom-left-radius: 0; border-bottom-right-radius: 0; box-shadow: none;">\n            <div class="input-group">\n                <input v-on:keydown.enter="addNewItem" type="text" class="form-control" placeholder="Page Name" v-model="newItem.name">\n                <span class="input-group-btn">\n                    <button class="btn btn-primary btn-sm" type="button" v-on:click="addNewItem" v-bind:disabled="newItem.name.length == 0">\n                        <i class="fa fa-plus"></i> Add Page\n                    </button>\n                </span>\n            </div><!-- /input-group -->\n        </div><!--well-->\n\n        <div class="well well-small sitemap" style="background: white; border-top: none; border-top-left-radius: 0; border-top-right-radius: 0; box-shadow: none;">\n            <items :items="topLevelItems" :all-items="sitemapItems" :views="views"></items>\n        </div>\n    </div>\n</div>'},{}],109:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./sitemap.html"),props:["brief","sitemapItems","views"],data:function(){return{newItem:{name:""},itemClass:".sitemap-item-container"}},components:{items:t("./sitemap/items")["default"]},computed:{projectId:function(){return this.brief.project_id},briefId:function(){return this.brief.id},topLevelItems:function(){return _.filter(this.sitemapItems,{parent_id:null})}},events:{"sitemapItem:remove":function(t){this.$root.removeListItem("sitemap_items",_.findIndex(this.sitemapItems,t),function(e,n){e.sitemapItems=_.filter(e.sitemapItems,function(e){return e.parent_id!=t.id}),n.sitemapItems=_.cloneDeep(e.sitemapItems)})}},ready:function(){var t=this;_.each(this.sitemapItems,function(t){t.position=t.weight});var e=function(e,n){var i=$(n.item[0]),r=i.index(),o=i.parents(t.itemClass),a=o.length?parseInt($(o).attr("data-id")):null,s=t.item(parseInt(i.attr("data-id")));_.each(_.filter(t.sitemapItems,{parent_id:a}),function(e){e.position=t.domItem(e.id).index()}),s.position=t.domItem(s.id).index(),s.parent_id=a;var l=_.cloneDeep(t.sitemapItems);t.sitemapItems=[],t.$nextTick(function(){i.remove(),t.sitemapItems=l}),Vue.http.put("/api/projects/"+t.projectId+"/briefs/"+t.briefId+"/sitemap_items/"+s.id+"/move",{position:r,parent_id:a})};$(".sitemap > ul").nestedSortable({handle:"div",items:"li",toleranceElement:"> div",listType:"ul",isTree:!0,stop:e})},methods:{addNewItem:function(){var t=this,e=this.newItem.name;e.length&&this.$root.addListItem("sitemap_items",{name:this.newItem.name},function(e){t.item(e.data.id).position=$(".sitemap > ul > li.sitemap-item-container").length,t.newItem.name=""})},item:function(t){return _.find(this.sitemapItems,{id:t})},domItem:function(t){return $(this.itemClass+"[data-id="+t+"]")}}})},{"./sitemap.html":108,"./sitemap/items":113}],110:[function(t,e,n){e.exports='<div>\n    <a href="#" v-on:click.prevent="toggle">\n        {{ item.name }}\n        <i class="fa" v-bind:class="{\'fa-caret-down\': !expanded, \'fa-caret-up\': expanded}"></i>\n    </a>\n\n    <div class="page-details" v-show="expanded">\n\n        <div class="form-group">\n            <label>Name</label>\n            <input class="form-control" v-model="item.name" />\n        </div>\n\n        <div class="form-group">\n            <label>Template</label>\n            <select class="form-control" v-model="item.view_id">\n                <option>Not Specified</option>\n                <option v-for="view in views" :value="view.id">{{ view.name }}</option>\n            </select>\n        </div>\n\n        <p class="m-a-0 p-a-0">\n            <small v-on:click="remove" class="text-danger">Remove</small>\n            <small>|</small>\n            <small v-on:click="toggle" class="text-primary">Cancel</small>\n        </p>\n    </div>\n</div>'},{}],111:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./item.html"),props:["item","views"],data:function(){return{expanded:!1}},methods:{toggle:function(){this.expanded=!this.expanded},remove:function(){this.$dispatch("sitemapItem:remove",this.item)}}})},{"./item.html":110}],112:[function(t,e,n){e.exports='<ul>\n    <li v-for="item in items | orderBy \'position\'" data-id="{{ item.id }}" class="sitemap-item-container">\n        <item :item.sync="item" :views="views"></item>\n\n        <items :items="getChildren(item)" :all-items="allItems" :views="views"></items>\n    </li>\n</ul>'},{}],113:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["items","allItems","views"],name:"items",template:t("./items.html"),components:{item:t("./item")["default"]},methods:{getChildren:function(t){return _.filter(this.allItems,{parent_id:t.id})}}})},{"./item":111,"./items.html":112}],114:[function(t,e,n){e.exports='<div class="text-center">\n    <ul class="m-a-0 list-unstyled">\n        <li v-for="fileId in bindFiles" v-if="file(fileId) !== undefined">\n            <a :href="file(fileId).path" target="_blank">{{ file(fileId).name }}</a>\n            <i class="fa fa-times" v-on:click.stop.prevent="removeFile(fileId)"></i>\n        </li>\n    </ul>\n\n    <input role="uploadcare-uploader" type="hidden" data-multiple/>\n\n    <multi-dropdown :items="multiDropdownFiles"\n                    :on-items-pick="onHistoryFilesPick"\n                    :get-item-name="getHistoryFileName"\n    ></multi-dropdown>\n</div>'},{}],115:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{briefFiles:{type:Array,"default":[]},projectFiles:{type:Array,"default":[]},bindFiles:{type:Array,required:!0}},components:{"multi-dropdown":t("./../../../../components/multi-dropdown")["default"]},data:function(){return{}},computed:{multiDropdownFiles:function(){var t=this;return _.filter(this.allFiles,function(e){return t.bindFiles.indexOf(e.id)==-1})},allFiles:function(){return _.union(this.briefFiles,this.projectFiles)}},template:t("./uploadcare.html"),ready:function(){var t=this;this.$el.id=_.randomStr();var e=uploadcare.initialize("#"+this.$el.id),n=e[0];n.onChange(function(e){e&&$.when.apply(null,e.files()).done(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];_.each(i,function(e,n){t.persist(e).success(function(e){t.allFiles.push(e.data),t.bindFiles.push(e.data.id)})}),n.value(null)})})},methods:{persist:function(t){return t.reference_type="project_brief",t.reference_id=this.$root.briefId,this.$http.post("/api/files",t)},file:function(t){return _.findWhere(this.allFiles,{id:t})},removeFile:function(t){this.bindFiles=_.without(this.bindFiles,t)},onHistoryFilesPick:function(t){this.bindFiles=_.union(this.bindFiles,t)},getHistoryFileName:function(t){return'<a href="'+t.path+'" target="_blank">'+t.name+"</a>"}}})},{"./../../../../components/multi-dropdown":68,"./uploadcare.html":114}],116:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../misc/notify")["default"],r=t("./misc/syncer")["default"];n["default"]=Vue.extend({props:["briefId","projectId"],components:{"brief-checklist":t("./components/checklist")["default"],"design-proofs":t("./components/design-proofs")["default"],uploadcare:t("./components/uploadcare")["default"],sitemap:t("./components/sitemap")["default"]},data:function(){return{briefFiles:[],projectFiles:[],options:{layout_types:[{text:"responsive",value:"responsive"},{text:"fixed",value:"fixed"},{text:"mobile only",value:"mobile-only"},{text:"fluid",value:"fluid"}],brief_types:[{text:"frontend",value:"frontend"},{text:"wordpress",value:"wordpress"},{text:"other",value:"other"}],meta_fields:[{text:"author",value:"author"},{text:"wp_title",value:"wp_title"},{text:"content_wysiwyg",value:"content_wysiwyg"},{text:"excerpt",value:"excerpt"},{text:"menu_order",value:"menu_order"},{text:"thumbnail",value:"thumbnail"}],meta_field_types:[{text:"text",value:"text"},{text:"textarea",value:"textarea"},{text:"file",value:"file"},{text:"image",value:"image"},{text:"repeater",value:"repeater"}]},brief:{},otherBriefs:[],syncing:!1,sendingBrief:!1,deletingBrief:!1,checkSyncInterval:null,briefIsSynced:!0,syncer:null}},ready:function(){this.projectId=parseInt(this.projectId),this.briefId&&(this.briefId=parseInt(this.briefId),this.fetchBriefData(this.briefId))},beforeDestroy:function(){this.disableSyncCheck()},computed:{frontendViews:function(){var t,e=this,n=[{value:"",text:"No association"}];return _.each(this.brief.related_briefs,function(i){t=_.findWhere(e.briefs,{id:i}),t&&"frontend"==t.type&&t.views.length&&_.each(t.views,function(t){n.push({text:t.name,value:t.id})})}),n}},methods:{fetchBriefData:function(t){var e=this;this.$http.get("/api/projects/"+this.projectId+"/briefs",{detailed:1},function(n){var i=n.data;e.brief=_.findWhere(i,{id:t}),e.$nextTick(function(){e.syncer=new r(e.brief,{onSyncBegin:function(){this.syncing=!0}.bind(e),onSyncFinish:function(){this.syncing=!1}.bind(e)})}),e.otherBriefs=_.removeById(t,i),e.enableSyncCheck()}),this.$http.get("/api/files",{reference_type:"project",reference_id:this.projectId},function(t){e.projectFiles=t.data}),this.$http.get("/api/files",{reference_type:"project_brief",reference_id:t},function(t){e.briefFiles=t.data})},save:function(){return this.syncer.sync()},sendBrief:function(){var t=this;this.sendingBrief=!0,this.save().then(function(){t.$http.post("/api/projects/"+t.projectId+"/briefs/"+t.briefId+"/send-to-client",{},function(e){t.brief.approved_by_admin=e.data.approved_by_admin,t.brief.approved_by_admin_id=e.data.approved_by_admin_id}).always(function(){t.sendingBrief=!1})})},saveBeforePreview:function(){this.save().then(function(){$("#brief-preview-link").click()})},addListItem:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];this.syncer.addListItem(t,e,function(e,i,r){["modals","endpoints","post_types","sections","templates","views"].indexOf(t)!=-1&&setTimeout(function(){var t=$(".nav-pills.nav-stacked:visible li:last > a").eq(0);$("a[href='"+t.attr("href")+"']").trigger("click")},100),_.isFunction(n)&&n(e,i,r)})},removeListItem:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];this.syncer.removeListItem(t,e,n)},deleteBrief:function(){var t=this;i.confirm("Warning","You're about to delete the brief. Proceed?",function(){t.deletingBrief=!0,t.$http["delete"]("/api/projects/"+t.projectId+"/briefs/"+t.briefId,{},function(t){i.success("Brief has been deleted"),$("#briefs-link").click()}).always(function(){t.deletingBrief=!1})})},enableSyncCheck:function(){var t=this;this.checkSyncInterval=setInterval(function(){t.briefIsSynced=t.syncer.isSynced()},1e3)},disableSyncCheck:function(){this.checkSyncInterval&&clearInterval(this.checkSyncInterval)}}})},{"./../../../../misc/notify":64,"./components/checklist":106,"./components/design-proofs":107,"./components/sitemap":109,"./components/uploadcare":115,"./misc/syncer":117}],117:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./../../../../../misc/notify")["default"],a=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.brief=e,this.savedBrief=_.cloneDeep(e),this.options=_.merge({onSyncBegin:_.noop(),onSyncFinish:_.noop()},r),setTimeout(function(){n.isSynced()?n._enableAutosave():(o.error("Something is off with the brief syncing. Refreshing the page.."),window.location.reload())},2e3)}return r(t,[{key:"addListItem",value:function(t){var e,n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(_.endsWith(t,"design_proofs")||_.endsWith(t,"checklist_items")){var o=this._getReferenceEndpoint(t);e=o.endpoint,i.reference_type=o.reference.type,i.reference_id=o.reference.id}else e=this._getApiEndpointFromPath(t);Vue.http.post(e,i,function(e){_.get(n.brief,t).push(e.data),_.get(n.savedBrief,t).push(_.cloneDeep(e.data)),_.isFunction(r)&&r(e,n.brief,n.savedBrief)})}},{key:"removeListItem",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];Vue.http["delete"](this._getApiEndpointFromPath(t+("["+e+"]")),function(){var r=_.withoutIndex(n.brief,t,e);_.set(n.brief,t,r),_.set(n.savedBrief,t,_.cloneDeep(r)),_.isFunction(i)&&i(n.brief,n.savedBrief)})}},{key:"sync",value:function(){for(var t,e,n,i=this,r=this._changes(),o=[],a=0;a<r.length;a++)n=r[a],t=this._getApiEndpointFromPath(n),e=_.cloneDeep(n?_.get(this.brief,n):this.brief),o.push(Vue.http.put(t,e,function(t){i._updateBrief(n,t.data)}));return new Promise(function(t,e){o.length?(i.options.onSyncBegin(),i._disableAutosave(),Promise.all(o).then(function(){i.options.onSyncFinish(),i._enableAutosave(),t()})):t()})}},{key:"isSynced",value:function(){return 0==this._changes().length}},{key:"_updateBrief",value:function(t,e){t?_.set(this.savedBrief,t,_.cloneDeep(e)):this.savedBrief=_.cloneDeep(e)}},{key:"_changes",value:function(){return this._diffs(this.brief,this.savedBrief,["invoice","created_by_user","created_by_user_id","approved_by_customer","approved_by_customer_id","approved_by_customer_at","approved_by_admin","approved_by_admin_id","approved_by_admin_at","updated_at","parent_id","weight","position"])}},{key:"_diffs",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=arguments.length<=3||void 0===arguments[3]?"":arguments[3],o=[],a=_.difference(this.entityKeys(t),i),s=!_.isArray(t),l=i.indexOf(r)==-1,c=!_.isEqual(_.omit(t,_.union(a,i)),_.omit(e,_.union(a,i)));return s&&l&&c&&o.push(r),_.forEach(a,function(a){o=_.union(o,n._diffs(t[a],e[a],i,n._makePath(r,a)))}),o}},{key:"entityKeys",value:function(t){return _.reduce(t,function(t,e,n){return(_.isObject(e)&&void 0!=e.id||_.isArray(e)&&e.length&&void 0!=e[0].id)&&t.push(n),t},[])}},{key:"_makePath",value:function(t,e){return t+(_.isNumber(e)?"["+e+"]":(t?".":"")+(""+e))}},{key:"_getApiEndpointFromPath",value:function(t){var e,n,i=t.split("."),r="/api/projects/"+this.brief.project.id+"/briefs/"+this.brief.id,o=i.length-1,a=["custom_meta_fields","sub_sections","taxonomies"];for(a.indexOf(_.last(i).replace(/\[[0-9]*\]/,""))!=-1&&(o=0),o;o<i.length;o++)n=i[o].replace(/\[[0-9]*\]/,""),i[o].indexOf("[")!=-1?(e=_.get(this.brief,_.slice(i,0,o+1).join(".")).id,r+="/"+n+"/"+e):r+="/"+n;return r}},{key:"_getReferenceEndpoint",value:function(t){var e=t.split("."),n=e[e.length-1],i={reference:{type:e.length>1?e[e.length-2].replace(/s\[[0-9]*\]/,""):"project_brief",id:e.length>1?_.get(this.brief,_.slice(e,0,e.length-1).join(".")).id:this.brief.id}};if(n.indexOf("[")!=-1){var r=_.get(this.brief,t).id;n=n.replace(/\[[0-9]*\]/,"")+("/"+r)}return i.endpoint="/api/projects/"+this.brief.project.id+"/briefs/"+this.brief.id+"/"+n,i}},{key:"_enableAutosave",value:function(){this.autosaveInterval=setInterval(this.sync.bind(this),1e4)}},{key:"_disableAutosave",value:function(){this.autosaveInterval&&clearInterval(this.autosaveInterval)}}]),t}();n["default"]=a},{"./../../../../../misc/notify":64}],118:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./store")["default"],r=t("./../../../../misc/notify")["default"];n["default"]={initializeApp:function(t,e){this._fetchProject(t),this._fetchBrief(t,e),this._fetchOtherBriefs(t,e),this._fetchFilesDictionary(t)},requestChanges:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];i.dispatch({type:"BRIEF_CHANGES_REQUEST_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/briefs/"+this._briefId()+"/request-changes",{
text:t},function(){e&&e(),r.success("Changes have been requested.")}).always(function(){i.dispatch({type:"BRIEF_CHANGES_REQUEST_FINISH"})})},approveBrief:function(){i.dispatch({type:"BRIEF_APPROVE_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/briefs/"+this._briefId()+"/approve",{},function(t){i.dispatch({type:"BRIEF_UPDATE",brief:t.data})}).always(function(){i.dispatch({type:"BRIEF_APPROVE_FINISH"})})},resetState:function(){i.dispatch({type:"BRIEF_RESET"})},_fetchProject:function(t){var e=this;Vue.http.get("/api/projects/"+t,function(t){e._dispatchProjectUpdate(t.data)})},_fetchBrief:function(t,e){Vue.http.get("/api/projects/"+t+"/briefs/"+e,function(t){i.dispatch({type:"BRIEF_UPDATE",brief:t.data})})},_fetchOtherBriefs:function(t,e){Vue.http.get("/api/projects/"+t+"/briefs",function(t){i.dispatch({type:"OTHER_BRIEFS_SET",otherBriefs:_.removeById(e,t.data)})})},_fetchFilesDictionary:function(t){Vue.http.get("/api/files",{reference_type:"project",reference_id:t},function(t){i.dispatch({type:"FILES_SET",files:t.data})})},_dispatchProjectUpdate:function(t){i.dispatch({type:"PROJECT_UPDATE",project:t})},_dispatchBriefUpdate:function(t){i.dispatch({type:"BRIEF_UPDATE",brief:t})},_projectId:function(){return i.getState().project.id},_briefId:function(){return i.getState().brief.id},_slug:function(){return i.getState().project.slug}}},{"./../../../../misc/notify":64,"./store":146}],119:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions")["default"];n["default"]=Vue.extend({props:["brief"],data:function(){return{changes:""}},methods:{openRequestChangesModal:function(){this.changes="",$("#request-brief-changes").modal("show")},requestChanges:function(){i.requestChanges(this.changes,function(){$("#request-brief-changes").modal("hide")})},approve:function(){i.approveBrief()}}})},{"./../actions":118}],120:[function(t,e,n){e.exports='<div v-if="items.length">\n    <h5 class="m-t">Checklist Items\n        <i v-if="tooltip" data-title="{{ tooltip }}" class="tooltipper fa fa-question-circle" data-original-title="" title="" v-tooltip></i>\n    </h5>\n\n    <div v-if="categories.length == 1">\n        <div v-for="item in normalizedItems[categories[0]]" class="checkbox custom-control custom-checkbox">\n            <label class="w-full">\n                <input type="checkbox" checked>\n                <span class="custom-control-indicator"></span>\n\n                <p>{{ item.description }}\n                    <span v-if="item.attachments" v-for="file in expandFiles(item.attachments)">\n                        &nbsp;\n                        <a class="full-screen-screenshot fa fa-file-image-o" href="{{ file.path }}"></a>\n                    </span>\n                </p>\n\n            </label>\n        </div>\n    </div>\n\n    <div v-else>\n        <ul class="nav nav-pills">\n            <li v-for="(category, items) in normalizedItems" class="{{ category === categories[0] ? \'active\' : \'\' }}">\n                <a href="#{{ tabId(category) }}" data-toggle="tab" aria-expanded="false">{{ category }}</a>\n            </li>\n        </ul>\n\n        <div class="tab-content m-t">\n            <div v-for="(category, items) in normalizedItems" class="tab-pane {{ category == categories[0] ? \'active\' : \'\' }}" role="tabpanel" id="{{ tabId(category) }}">\n\n                <div v-for="item in items" class="checkbox custom-control custom-checkbox">\n                    <label class="w-full">\n                        <input type="checkbox" checked>\n                        <span class="custom-control-indicator"></span>\n\n                        <p>{{ item.description }}\n                            <span v-if="item.attachments" v-for="file in expandFiles(item.attachments)">\n                                &nbsp;\n                                <a class="full-screen-screenshot fa fa-file-image-o" href="{{ file.path }}"></a>\n                            </span>\n                        </p>\n\n                    </label>\n                </div>\n            </div>\n        </div><!--tab-content-->\n    </div>\n</div>'},{}],121:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./checklist.html"),props:["items","files","tooltip"],data:function(){return{tabsId:_.randomStr()}},computed:{normalizedItems:function(){var t={};return _.each(this.items,function(e){void 0===t[e.category]&&(t[e.category]=[]),t[e.category].push(e)}),t},categories:function(){return _.keys(this.normalizedItems)}},methods:{expandFiles:function(t){return _.filter(this.files,function(e){return _.dirtyIndexOf(t,e.id)!=-1})},tabId:function(t){return this.tabsId+"-"+t.replace(/[^0-9a-zA-Z]/g,"")}}})},{"./checklist.html":120}],122:[function(t,e,n){e.exports='<div class="row">\n    <div v-for="proof in proofs" class="col-sm-3 text-center">\n        <a v-for="screenshot in expandFiles(proof.screenshots)" class="full-screen-screenshot" href="{{ screenshot.path }}">\n            <img class="w-full" src="/images/screenshot-icon.png" alt="">\n        </a>\n\n        <small>{{ proof.name }}</small>\n    </div>\n</div>'},{}],123:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./design-proofs.html"),props:["files","proofs"],methods:{expandFiles:function(t){return _.filter(this.files,function(e){return _.dirtyIndexOf(t,e.id)!=-1})}}})},{"./design-proofs.html":122}],124:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ endpoint.name }}</h4>\n\n    <p>{{ endpoint.summary }}</p>\n\n    <h5>Form Inputs</h5>\n\n    <div class="trix-markup">\n        {{{ endpoint.form_inputs }}}\n    </div>\n\n    <h5 class="m-t">Expected Output / Action</h5>\n\n    <div class="trix-markup">\n        {{{ endpoint.expected_output }}}\n    </div>\n</div>'},{}],125:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-endpoint.html"),props:["endpoint"]})},{"./tab-endpoint.html":124}],126:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">Global Notes</h4>\n\n    <div class="trix-markup">\n        {{{ brief.notes }}}\n    </div>\n\n    <checklist v-if="brief.checklist_items"\n        :items="brief.checklist_items"\n        :files="files"\n        tooltip="The check list items will be used globally across all views.  These items are used during the QA process to verify project success.">\n    </checklist>\n\n    <div v-if="brief.menu_items && brief.menu_items.length" class="row">\n        <h5 class="m-t">Menu Items</h5>\n\n        <ul class="nav nav-pills" role="tablist">\n            <li v-for="(i, menuItem) in brief.menu_items" role="presentation" class="{{ i == 0 ? \'active\' : \'\' }}">\n                <a role="tab"\n                   data-toggle="tab"\n                   href="#menu-item-{{ i }}"\n                >{{ menuItem.header }}\n                </a>\n            </li>\n        </ul>\n\n        <div class="clearfix"></div>\n\n        <div class="tab-content">\n            <div v-for="(i, menuItem) in brief.menu_items" role="tabpanel" class="col-sm-9 tab-pane{{ i == 0 ? \' active\' : \'\' }}" id="menu-item-{{ i }}">\n                <div class="trix-markup">\n                    {{{ menuItem.content }}}\n                </div>\n\n                <checklist :items="menuItem.checklist_items" :files="files"></checklist>\n            </div>\n        </div>\n    </div>\n\n    <div v-if="brief.theme_menus && brief.theme_menus.length" class="row">\n        <h5>Theme Menus</h5>\n\n        <ul class="nav nav-pills" role="tablist">\n            <li v-for="(i, themeMenu) in brief.theme_menus" role="presentation" class="{{ i == 0 ? \'active\' : \'\' }}">\n                <a role="tab"\n                   data-toggle="tab"\n                   href="#theme-menu-{{ i }}">{{ themeMenu.name }}</a>\n            </li>\n        </ul>\n\n        <div class="tab-content">\n            <div v-for="(i, themeMenu) in brief.theme_menus" role="tabpanel" class="col-sm-9 tab-pane{{ i == 0 ? \' active\' : \'\' }}" id="theme-menu-{{ i }}">\n                <p>{{ themeMenu.description }}</p>\n            </div>\n        </div>\n    </div>\n</div>'},{}],127:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-global.html"),props:["brief","files"],components:{"design-proofs":t("./design-proofs")["default"],checklist:t("./checklist")["default"]}})},{"./checklist":121,"./design-proofs":123,"./tab-global.html":126}],128:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["title","items"],template:'\n        <li v-if="items && items.length" class="nav-header m-t">{{ title }}</li>\n\n        <li v-if="items && items.length" v-for="(i, item) in items">\n            <a href="#{{ snakeCasedTitle }}-tab-{{ i }}" data-toggle="tab">{{ item.name }}</a>\n        </li>\n    ',computed:{snakeCasedTitle:function(){return this.title.replace(" ","_").toLowerCase()}}})},{}],129:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ modal.name }}</h4>\n\n    <p>{{ modal.summary }}</p>\n\n    <checklist :items="modal.checklist_items" :files="files"></checklist>\n\n    <design-proofs :proofs="modal.design_proofs" :files="files"></design-proofs>\n\n    <div v-if="modal.design_file">\n        <h5 class="m-t">Design File</h5>\n        <p>\n            This design can be found in the <a href="/project/{{ project.slug }}/files" target="_blank">{{ modal.design_file.name }}</a> file in the project files section.\n        </p>\n    </div>\n</div>'},{}],130:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-modal.html"),components:{checklist:t("./checklist")["default"],"design-proofs":t("./design-proofs")["default"]},props:["files","modal","project"]})},{"./checklist":121,"./design-proofs":123,"./tab-modal.html":129}],131:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">Project Overview</h4>\n\n    <div v-if="relatedBriefs.length" class="well well-small">\n        <p class="m-a-0 p-a-0"><strong>Note:</strong> This brief has another brief associated with it. All\n            delivery dates and cost estimates include the completion of all associated briefs:</p>\n\n        <ul class="m-a-0 m-t">\n            <li v-for="relatedBrief in relatedBriefs">\n                <a data-pjax href="/project/{{ project.slug }}/briefs/{{ relatedBrief.id }}">{{ relatedBrief.name }}</a>\n            </li>\n        </ul>\n    </div>\n\n    <h5>Quick Summary</h5>\n\n    <p>{{ brief.summary }}</p>\n\n    <table class="table table-middle m-b-0">\n        <tbody>\n        <tr>\n            <th class="text-center">\n                <h5 class="m-t-0"><i class="fa fa-calendar"></i><br/>\n                    <small>Delivery Date</small>\n                </h5>\n            </th>\n            <td>\n                <div v-if="invoiceValue.status() == \'pending_payment\'">\n                    <p>This project can be completed in as soon as {{ quickestDeliveryDays }} - {{ longestDeliveryDays | pluralize \'business day\' \'business days\' }}, depending\n                        on which speed you pick on the invoice page.</p>\n\n                    <p>All of our projects come with guaranteed delivery dates.</p>\n                </div>\n\n                <div v-if="invoiceValue.status() == \'pending_creation\'">\n                    <p>The delivery dates have not been added for this brief yet.  Please contact your project engineer.</p>\n                </div>\n\n                <div v-if="invoiceValue.status() == \'locked\'">\n                    <p>This project will be completed by end of day <strong>{{ invoiceValue.currentDelivery().format(\'MMMM Do\') }}</strong>.</p>\n\n                    <p>All of our projects come with guaranteed delivery dates.</p>\n                </div>\n            </td>\n        </tr>\n\n        <tr>\n            <th class="text-center">\n                <h5><i class="fa fa-credit-card"></i><br/>\n                    <small>Cost</small>\n                </h5>\n            </th>\n            <td>\n                <div v-if="invoiceValue.status() == \'pending_payment\'">\n                    <p>\n                        The guaranteed cost for this project is ${{ cheapestPrice | numberFormat }} - ${{ costliestPrice | numberFormat }}, depending on which delivery speed you pick on the invoice page.\n                        <a data-pjax href="/project/{{ project.slug }}/invoices/{{ brief.invoice.number }}"><strong>View Invoice</strong></a>.\n                    </p>\n                </div>\n\n                <div v-if="invoiceValue.status() == \'pending_creation\'">\n                    <p>An invoice has not been created yet for this development brief.  Please contact your project engineer.</p>\n                </div>\n\n                <div v-if="invoiceValue.status() == \'locked\'">\n                    <p>\n                        The guaranteed cost for this project is ${{ invoiceValue.currentPrice() }}.\n                        <a data-pjax href="/project/{{ project.slug }}/invoices/{{ brief.invoice.number }}">\n                            <strong>View Invoice</strong>\n                        </a>.\n                    </p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n\n        <tbody>\n        <tr>\n            <th class="text-center">\n                <h5><i class="fa fa-file-image-o"></i><br/>\n                    <small>Files</small>\n                </h5>\n            </th>\n            <td>\n\n                <p class="m-b-0">\n                    There {{ briefFiles.length | pluralize \'has\' \'have\' true }} been {{ briefFiles.length | pluralize \'file\' \'files\' }} uploaded to this project.\n                    <a v-if="briefFiles.length" href="#brief-files" data-toggle="modal"><strong>View Files</strong></a>.\n                </p>\n\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <div v-if="briefFiles.length" class="modal fade" id="brief-files">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h5 class="modal-title">Brief Files</h5>\n                </div>\n                <div class="modal-body">\n                    <ul class="list-group media-list media-list-stream">\n\n                        <li class="media list-group-item p-a">\n\n                            <div class="media-body">\n                                <table class="table table-condensed table-middle m-b-0">\n                                    <thead>\n                                        <tr>\n                                            <th>File Name</th>\n                                            <th>Size</th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n\n                                    <tbody>\n                                        <tr v-for="file in briefFiles">\n                                            <td>{{ file.name }}</td>\n                                            <td>{{ file.size }} <--- make readable</td>\n                                            <td>\n                                                <a href="{{ file.path }}" target="_blank" class="btn btn-primary btn-sm">\n                                                    Download File\n                                                </a>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n\n                        </li>\n                    </ul>\n                </div>\n            </div><!-- /.modal-content -->\n        </div><!-- /.modal-dialog -->\n    </div><!-- /.modal -->\n</div>'},{}],132:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../values/invoice")["default"];n["default"]=Vue.extend({template:t("./tab-overview.html"),props:["project","brief","otherBriefs","files"],computed:{hasInvoice:function(){return!!this.brief.invoice},invoiceValue:function(){return new i(this.brief.invoice)},relatedBriefs:function(){var t=this;return this.brief.related_briefs?_.reduce(this.otherBriefs,function(e,n){return _.dirtyIndexOf(t.brief.related_briefs,n.id)!=-1&&e.push(n),e},[]):[]},briefFiles:function(){var t=this;return _.reduce(this.files,function(e,n){return"project_brief"==n.reference_type&&n.reference_id==t.brief.id&&e.push(n),e},[])},quickestDeliveryDays:function(){return _.last(this.invoiceValue.deliveryDays())},longestDeliveryDays:function(){return this.invoiceValue.deliveryDays()[0]},cheapestPrice:function(){return this.invoiceValue.prices()[0]},costliestPrice:function(){return _.last(this.invoiceValue.prices())}}})},{"./../values/invoice":147,"./tab-overview.html":131}],133:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ postType.name }} <br />\n        <small class="text-muted">custom post type</small>\n    </h4>\n\n    <p>{{ postType.summary }}</p>\n\n    <h5>Post Type Summary</h5>\n\n    <table class="table table-condensed table-striped table-responsive">\n        <tbody>\n        <tr>\n            <th>Has single post page?</th>\n            <td>{{ postType.has_single_post_page ? \'Yes\' : \'No\' }}</td>\n        </tr>\n\n        <tr>\n            <th>View for single post page:</th>\n            <td>{{ postType.single_post_page_view ? postType.single_post_page_view.name : \'\' }}</td>\n        </tr>\n\n        <tr>\n            <th>Taxonomies</th>\n            <td>\n                <ul class="m-a-0 list-unstyled">\n                    <li v-for="taxonomy in postType.taxonomies">{{ taxonomy.name }}</li>\n                </ul>\n            </td>\n        </tr>\n\n        <tr>\n            <th>Include in search results?</th>\n            <td>{{ postType.include_in_search ? \'Yes\' : \'No\' }}</td>\n        </tr>\n\n        <tr>\n            <th>Has an archives page?</th>\n            <td>{{ postType.has_archive_page ? \'Yes\' : \'No\' }}</td>\n        </tr>\n\n        <tr v-if="postType.has_archive_page">\n            <th>View for post archives page:</th>\n            <td>{{ postType.archive_page_view ? postType.archive_page_view.name : \'\' }}</td>\n        </tr>\n\n        <tr>\n            <th>Post Data (Meta)</th>\n            <td>\n                <ul class="m-a-0 list-unstyled">\n                    <li v-for="meta in postType.meta_fields">{{ meta }}</li>\n                </ul>\n            </td>\n        </tr>\n\n        <tr v-if="postType.custom_meta_fields.length">\n            <th>Custom Post Data (Meta)</th>\n            <td>\n                <ul class="m-a-0 list-unstyled">\n                    <li v-for="meta in postType.custom_meta_fields">\n                        {{ meta.name }} ({{ meta.type + (meta.required ? \', required\': \'\') }})\n                    </li>\n                </ul>\n            </td>\n        </tr>\n\n        </tbody>\n    </table>\n</div>'},{}],134:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-post-type.html"),props:["postType"]})},{"./tab-post-type.html":133}],135:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ section.name }}</h4>\n\n    <p>{{ section.summary }}</p>\n\n    <div v-if="section.sub_sections" class="row">\n        <div class="col-sm-3">\n            <ul class="nav nav-pills" role="tablist">\n                <li v-for="(j, sub) in section.sub_sections" role="presentation" class="{{ j == 0 ? \'active\' : \'\' }}">\n                    <a role="tab"\n                       data-toggle="tab"\n                       href="#subsection-tabs-{{ tabsId }}-{{ j }}"\n                    >{{ sub.header }}</a>\n                </li>\n            </ul>\n        </div><!--col-->\n\n        <div class="tab-content">\n            <div v-for="(j, sub) in section.sub_sections" role="tabpanel" class="col-sm-9 tab-pane{{ j == 0 ? \' active\' : \'\' }}" id="subsection-tabs-{{ tabsId }}-{{ j }}">\n                <h5>{{ sub.header }}</h5>\n\n                <div class="trix-markdown">\n                    {{{ sub.content }}}\n                </div>\n\n                <checklist :items="sub.checklist_items" :files="files"></checklist>\n            </div>\n        </div>\n    </div>\n</div>'},{}],136:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-section.html"),components:{checklist:t("./checklist")["default"]},props:["section","files"],data:function(){return{tabsId:_.randomStr()}}})},{"./checklist":121,"./tab-section.html":135}],137:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ template.name }}</h4>\n\n    <p>{{{ template.summary }}}</p>\n\n    <checklist :items="template.checklist_items" :files="files"></checklist>\n\n    <design-proofs v-if="template.view" :proofs="template.view.design_proofs" :files="files"></design-proofs>\n</div>'},{}],138:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-template.html"),props:["template","files"],components:{checklist:t("./checklist")["default"],"design-proofs":t("./design-proofs")["default"]}})},{"./checklist":121,"./design-proofs":123,"./tab-template.html":137}],139:[function(t,e,n){e.exports='<div>\n    <h4 class="m-t-0 p-t-0">{{ view.name }}</h4>\n\n    <p>{{ view.summary }}</p>\n\n    <checklist :items="view.checklist_items" :files="files"></checklist>\n\n    <design-proofs :proofs="view.design_proofs" :files="files"></design-proofs>\n\n    <div v-if="view.design_file">\n        <h5 class="m-t">Design File</h5>\n        <p>\n            This design can be found in the\n            <a href="/project/{{ project.slug }}/files" target="_blank">{{ view.design_file.name }}</a> file in the project files section.\n        </p>\n    </div>\n\n</div>\n'},{}],140:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./tab-view.html"),components:{checklist:t("./checklist")["default"],"design-proofs":t("./design-proofs")["default"]},props:["files","view","project"]})},{"./checklist":121,"./design-proofs":123,"./tab-view.html":139}],141:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./actions")["default"],r=t("./store")["default"];n["default"]=Vue.extend({props:["projectId","briefId"],components:{approval:t("./components/approval")["default"],"tab-heading":t("./components/tab-heading")["default"],"tab-overview":t("./components/tab-overview")["default"],"tab-global":t("./components/tab-global")["default"],"tab-section":t("./components/tab-section")["default"],"tab-template":t("./components/tab-template")["default"],"tab-post-type":t("./components/tab-post-type")["default"],"tab-endpoint":t("./components/tab-endpoint")["default"],"tab-view":t("./components/tab-view")["default"],"tab-modal":t("./components/tab-modal")["default"]},data:function(){return{state:r.getState()}},computed:{dataLoaded:function(){return this.state.brief.id&&this.state.project.id},briefDescription:function(){switch(this.state.brief.type){case"frontend":return"A front end brief covers all details about the HTML/CSS/JavaScript of this project.";case"wordpress":return"A WordPress brief covers all details about the WordPress implementation of this project.";case"other":default:return"Brief covers all details about the implementation of this project."}},briefBoxes:function(){var t=this.state.brief;if(void 0!==t.boxes&&t.boxes.length)return t.boxes;var e={views:{title:"%placeholder% View",description:"# of Page Templates",tooltip:"These are the unique pages that we will turn into a pixel perfect front end."},modals:{title:"%placeholder% Modal",description:"# of Modal Views",tooltip:"These are the modal windows that we will be included in the front end."},"props.layout_type":{title:"%placeholder%",description:"Layout Type",tooltip:"This is the layout type we will use. A responsive layout will be fully responsive to the width of the browser / device. <br /><br /><strong>Other Options:</strong><br />Fixed / Mobile-only / Fluid"},templates:{title:"%placeholder% Template",description:"# of Custom<br/> Page Templates",tooltip:"These are page templates that will be re-usable in the WordPress CMS."},post_types:{title:"%placeholder% Post Type",description:"# of Custom<br/> Post Types",tooltip:"These are the custom post types that will be coded in the theme."},endpoints:{title:"%placeholder% Endpoint",description:"# of Forms<br/> Endpoints",tooltip:"These are the number of forms or functionality endpoints that will be coded into the theme."}};return _.reduce(e,function(n,i,r){var o,a,s=e[r];if(t.fields.indexOf(_.camelCase(r))!=-1)o=t[r].length,e[r].title=s.title.replace("%placeholder%",o),o>1&&(s.title=s.title+"s");else{if(r.indexOf(".")==-1||!(a=_.get(t,r)))return n;s.title=s.title.replace("%placeholder%",_.ucfirst(a))}return n.push(i),n},[])}},ready:function(){i.initializeApp(this.projectId,this.briefId)},created:function(){var t=this;this.unsubscribe=r.subscribe(function(){t.state=r.getState()})},destroyed:function(){i.resetState(),this.unsubscribe()}})},{"./actions":118,"./components/approval":119,"./components/tab-endpoint":125,"./components/tab-global":127,"./components/tab-heading":128,"./components/tab-modal":130,"./components/tab-overview":132,"./components/tab-post-type":134,"./components/tab-section":136,"./components/tab-template":138,"./components/tab-view":140,"./store":146}],142:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={}),e.type){case"BRIEF_UPDATE":return Object.assign({},t,e.brief);case"BRIEF_RESET":return{};case"BRIEF_CHANGES_REQUEST_START":return Object.assign({},t,{requestingChanges:!0});case"BRIEF_CHANGES_REQUEST_FINISH":return Object.assign({},t,{requestingChanges:!1});case"BRIEF_APPROVE_START":return Object.assign({},t,{approving:!0});case"BRIEF_APPROVE_FINISH":return Object.assign({},t,{approving:!1});default:return t}}},{}],143:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t=[]),e.type){case"FILES_SET":return Object.assign({},t,e.files);default:return t}}},{}],144:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t=[]),e.type){case"OTHER_BRIEFS_SET":return e.otherBriefs;default:return t}}},{}],145:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={}),e.type){case"PROJECT_UPDATE":return Object.assign({},t,e.project);default:return t}}},{}],146:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("redux");n["default"]=i.createStore(i.combineReducers({project:t("./reducers/project")["default"],brief:t("./reducers/brief")["default"],files:t("./reducers/files")["default"],otherBriefs:t("./reducers/otherBriefs")["default"]}))},{"./reducers/brief":142,"./reducers/files":143,"./reducers/otherBriefs":144,"./reducers/project":145,redux:53}],147:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.invoice=e}return r(t,[{key:"status",value:function(){if(!this.invoice)return"pending_creation";var t=this.invoice.payments;return t.length-_.get(_.countBy(t,{payer_id:null}),"true",0)==0?"pending_payment":"locked"}},{key:"prices",value:function(){var t=this.pureTotal();return _.reduce(this.speeds(),function(e,n){return e.push(Math.ceil(t*(n.multiplier/100))),e},[])}},{key:"deliveryDates",value:function(){return _.reduce(this.speeds(),function(t,e){return t.push(_.est().businessAdd(e.business_days)),t},[])}},{key:"deliveryDays",value:function(){return _.reduce(this.speeds(),function(t,e){return t.push(e.business_days),t},[])}},{key:"currentPrice",value:function(){return this.invoice.grandTotal}},{key:"currentDelivery",value:function(){return this.invoice.delivery_date?moment(this.invoice.delivery_date):moment(this.currentSpeed().delivery_date,"MM/DD/YYYY")}},{key:"currentSpeed",value:function(){return null!==this.invoice.speed?this.speeds(!0)[this.invoice.speed]:this.speeds()[0]}},{key:"speeds",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return t===!1?this.invoice.speeds:_.filter(this.invoice.speeds,{enabled:!0})}},{key:"pureTotal",value:function(){return _.reduce(this.invoice.line_items,function(t,e){return t+e.price*e.quantity},0)}},{key:"toObject",value:function(){return this.invoice}}]),t}();n["default"]=o},{}],148:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{model:{type:String,twoWay:!0,required:!0}},template:'<div>\n        <textarea class="form-control" placeholder="Project Summary - Less than 300 characters" \n                  maxlength="300"\n                  name="overview"\n                  v-model="model">\n        \n        </textarea>\n        <p class="m-a-0 pull-right text-muted">{{ 300 - model.length }} characters remaining</p>\n    </div>'})},{}],149:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{model:{type:String,required:!0,twoWay:!0}},template:'<select class="custom-select form-control" v-model.sync="model" name="type">\n        <option v-for="type in availableTypes" :value="type">\n            {{ type }}\n        </option>\n    </select>',data:function(){return{availableTypes:["frontend","wordpress","other"]}}})},{}],150:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:{projectId:{type:String,required:!0}},data:function(){return{creating:!1,brief:{type:"frontend",name:"",summary:"",notes:""}}},components:{typeSelector:t("./components/type-selector")["default"],overview:t("./components/overview")["default"]},methods:{create:function(){var t=this;this.creating=!0,this.$http.post("/api/projects/"+this.projectId+"/briefs",this.brief,function(t){window.location="/project/"+t.data.project.slug+"/briefs/"+t.data.id+"/edit"}).always(function(){t.creating=!1})}}})},{"./components/overview":148,"./components/type-selector":149}],151:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../misc/notify")["default"];n["default"]=Vue.extend({mixins:[t("./../../mixins/hasState")["default"]],data:function(){return{invoice:{payments:[]},payingForInvoice:!1,settingSpeed:!1,submittingPayment:!1,paymentMethod:"one-time"}},ready:function(){this.invoice=this.state.invoice,this.project=this.state.project,$("input[name=cardNumber]").payment("formatCardNumber")},computed:{speedSelected:function(){return null!==this.invoice.speed},predictedDeliveryDate:function(){return this.predictDeliveryDate(this.invoice.speed)},invoicePaidAt:function(){return this.lastPayment?this.lastPayment.paid_at:this.invoice.updated_at},lastPayment:function(){var t=this.invoice.payments.filter(function(t){
return t.stripe_transaction_id});if(t.length)return t[t.length-1]},nextPayment:function(){return this.invoice.payments.filter(function(t){return!t.stripe_transaction_id})[0]}},methods:{isStatus:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.invoice.status)!=-1},openSpeedModal:function(){$("#delivery-date-selector").modal()},predictDeliveryDate:function(t){return _.est().businessAdd(this.invoice.speeds[t].business_days)},setSpeed:function(t){var e=this;this.settingSpeed=!0,this.$http.post("/api/projects/"+this.project.id+"/invoices/"+this.invoice.id+"/set-speed",{speed:t},function(t){e.invoice=t.data,$("#delivery-date-selector").modal("hide")}).always(function(){e.settingSpeed=!1})},openPaymentModal:function(){$("[data-stripe]").not("select").val(""),this.paymentMethod="one-time",$("#modal-pay-invoice").modal()},submitPayment:function(){this.submittingPayment=!0,"pre-saved"==this.paymentMethod?this.attemptPay(null):this.payWithOneTimeToken()},payWithOneTimeToken:function(){var t=this;Stripe.card.createToken($("#invoice-payment-form"),function(e,n){n.error?(i.error(n.error.message),t.submittingPayment=!1):t.attemptPay(n.id)})},attemptPay:function(t){var e=this,n={token:t,payment_id:this.nextPayment.id};this.$http.post("/api/projects/"+this.project.id+"/invoices/"+this.invoice.id+"/payment",n,function(t){e.invoice=t.data,$("#modal-pay-invoice").modal("hide"),i.success("Payment completed")}).always(function(){e.submittingPayment=!1})},speedPrice:function(t){var e=this.invoice,n=e.subTotal*(e.speeds[t].multiplier/100);return e.discount_percent&&(n-=n*(e.discount_percent/100)),n}}})},{"./../../../misc/notify":64,"./../../mixins/hasState":230}],152:[function(t,e,n){e.exports='<div>\n    <label>Payment Schedule</label>\n    <div class="alert alert-{{status}}">{{ diff }}% left</div>\n    <table class="table table-striped table-bordered m-b-sm table-middle">\n        <thead>\n            <tr>\n                <th style="width: 50%">Amount</th>\n                <th>Milestone Name</th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for="payment in payments">\n                <td>\n                    <div class="input-group">\n                        <input type="number" name="scheduled-payment-amount-{{$index}}" class="form-control" placeholder="0" v-model="payment.percent" :disabled="payment.stripe_transaction_id">\n                        <div class="input-group-addon">%</div>\n                    </div>\n                </td>\n                <td>\n                    <div class="input-group">\n                        <input type="text" name="scheduled-payment-name-{{$index}}" class="form-control" placeholder="Milestone {{$index}}" v-model="payment.meta" :disabled="payment.stripe_transaction_id">\n                    </div>\n                </td>\n                <td>\n                    <span v-if="!payment.stripe_transaction_id" class="btn btn-xs btn-danger" v-on:click="removePayment(payment)"><i class="fa fa-trash"></i></span>\n                </td>\n            </tr>\n            <tr>\n                <td colspan="3">\n                    <span v-on:click="addPayment" class="btn btn-xs btn-default-outline add-scheduled-payment">Add payment</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>'},{}],153:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["total","payments"],template:t("./payment-schedule.html"),methods:{addPayment:function(){this.payments.push({percent:null,meta:""})},removePayment:function(t){this.payments.$remove(t)}},computed:{split:function(){return _.reduce(this.payments,function(t,e){return t+ +e.percent},0)},diff:function(){return 100-this.split},status:function(){return this.diff>0?"warning":this.diff<0?"danger":"success"}}})},{"./payment-schedule.html":152}],154:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("./../../../../misc/notify")["default"];n["default"]=Vue.extend({mixins:[t("./../../../mixins/hasState")["default"]],components:{multiselect:t("./../../../components/multiselect")["default"],paymentSchedule:t("./components/payment-schedule.js")["default"]},data:function(){return{invoice:{line_items:[],upfront_percent:20,invoice_date:"",discount_percent:0,users_to_notify:[],payments:[]},manualPaymentType:null,savingInvoice:!1,deletingInvoice:!1,sendingToClient:!1,payingManually:!1,notifyOptions:[]}},ready:function(){this.setInvoice(this.state.invoice),this.project=this.state.project,this.notifyOptions=_.map(this.project.team.users,function(t){return{text:t.name,value:t.id}})},computed:{subTotal:function(){return _.reduce(this.invoice.line_items,function(t,e){return t+e.quantity*e.price},0)},discount:function(){return Math.ceil(this.subTotal-this.subTotal*((100-this.invoice.discount_percent)/100))},grandTotal:function(){return this.subTotal-this.discount},depositPaid:function(){return this.isStatus("deposit_paid")},nextPayment:function(){return this.invoice.payments.filter(function(t){return!t.stripe_transaction_id})[0]},nextPaymentAmount:function(){return this.nextPayment.amount/100}},methods:{isStatus:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.invoice.status)!=-1},setInvoice:function(t){var e=t.date;t.date=(e?moment(e):moment()).format("MM/DD/YYYY"),_.map(t.speeds,function(t){return t.delivery_date=_.est().businessAdd(t.business_days).format("MM/DD/YYYY"),t}),this.invoice=t},addLineItem:function(){this.invoice.line_items.push({name:"",description:"",quantity:1,price:10})},removeLineItem:function(t){this.invoice.line_items=_.without(this.invoice.line_items,this.invoice.line_items[t])},saveAsDraft:function(){var t=this;return this.savingInvoice=!0,void 0==this.invoice.id?this.$http.post("/api/projects/"+this.project.id+"/invoices",this.invoice,function(e){t.setInvoice(e.data),window.location.replace("/project/"+t.project.slug+"/invoices/"+t.invoice.id+"/edit")}).always(function(){t.savingInvoice=!1}):this.$http.put("/api/projects/"+this.project.id+"/invoices/"+this.invoice.id,this.invoice,function(e){t.setInvoice(e.data)}).always(function(){t.savingInvoice=!1})},deleteInvoice:function(){var t=this;this.deletingInvoice=!0,this.$http["delete"]("/api/projects/"+this.project.id+"/invoices/"+this.invoice.id,function(e){window.location.replace("/project/"+t.project.slug+"/invoices")}).always(function(){t.deletingInvoice=!1})},sendToClient:function(){var t=this;this.sendingToClient=!0,this.saveAsDraft().success(function(){t.$http.post("/api/projects/"+t.project.id+"/invoices/"+t.invoice.id+"/send-to-client",t.invoice,function(e){t.setInvoice(e.data)}).always(function(){t.sendingToClient=!1})}).error(function(){t.sendingToClient=!1})},manualPayment:function(){var t=this;return!!this.nextPayment&&(this.payingManually=!0,void this.$http.post("/api/projects/"+this.project.id+"/invoices/"+this.invoice.id+"/manual-payment",{payment_id:this.nextPayment.id,payment_type:this.manualPaymentType},function(e){t.setInvoice(e.data)}).always(function(e){t.payingManually=!1}))}}})},{"./../../../../misc/notify":64,"./../../../components/multiselect":70,"./../../../mixins/hasState":230,"./components/payment-schedule.js":153}],155:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({mixins:[t("./../../mixins/hasState")["default"]],data:function(){return{posting:!1,ndaing:!1,form:{email:"",user_name:"",company_name:"",project_name:"",project_type:"",requested_deadline:"",message:"",agreed_to_nda:!1}}},ready:function(){this.state.team.id&&this.state.team.nda_agreed_at&&(this.form.agreed_to_nda=!0),this.form.agreed_to_nda||$("#modal-nda").modal("show"),$(".toggle-nda").on("click",function(t){t.preventDefault(),$("#full-nda").toggle(),$("#nda-cliff-notes").toggle()})},methods:{openStep2:function(t){t.preventDefault(),$("[href=#step-2]").click()},createProject:function(t){var e=this;t.preventDefault(),this.posting=!0;var n;n=CObj.logged_in?this.$http.post("/api/projects",this.form,function(t){window.location="/project/"+t.data.slug}):this.$http.post("/api/projects/create_and_register",this.form,function(t){window.location="/project/"+t.data.slug}),n.always(function(){e.posting=!1})},agreeToNDA:function(t){t.preventDefault(),this.form.agreed_to_nda=!0,$("#modal-nda").modal("hide")}}})},{"./../../mixins/hasState":230}],156:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./store")["default"],r=t("./../../../../misc/notify")["default"];n["default"]={messages:t("./actions/messages")["default"],news:t("./actions/news")["default"],initializeApp:function(t){this._fetchDevelopersDictionary(),this._initializeProject(t)},updateProject:function(t,e){var n=this;i.dispatch({type:"PROJECT_UPDATE_START"}),Vue.http.put("/api/projects/"+t.id,t,function(e){n._projectEngineerId()!==t.project_manager_id&&n._fetchProjectEngineer(t.id),i.dispatch({type:"PROJECT_UPDATE_FINISH"}),n._dispatchProjectUpdate(e.data),r.success("The project has been updated")}).always(function(){"function"==typeof e&&e()})},updateProjectDeploySettings:function(t,e){var n=this;i.dispatch({type:"PROJECT_UPDATE_START"}),Vue.http.put("/api/projects/"+t.id+"/deploy-settings",t,function(t){i.dispatch({type:"PROJECT_UPDATE_FINISH"}),n._dispatchProjectUpdate(t.data),r.success("Deploy settings has been updated")}).always(function(){"function"==typeof e&&e()})},createRepository:function(){i.dispatch({type:"PROJECT_CREATE_REPOSITORY_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/create_bb_repository")},generateBoilerplate:function(t){var e=this;i.dispatch({type:"PROJECT_GENERATE_BOILERPLATE_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/generate_boilerplate",t).success(function(n){r.success(n.success),e._dispatchProjectUpdate({boilerpate_brief_id:t.boilerplate_brief_id,boilerplate_folder:t.boilerplate_folder})})},createStagingSite:function(t){var e=this;i.dispatch({type:"PROJECT_DEPLOY_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/create_staging_site",{},function(t){e._dispatchProjectUpdate({subdomain:t.data.subdomain}),r.success("Staging site creation is now in progress.")}).always(function(){"function"==typeof t&&t()})},downloadCode:function(){i.dispatch({type:"PROJECT_CODE_DOWNLOAD_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/download-code",{},function(){r.success("Check your email for a link to download the code.")}).always(function(){i.dispatch({type:"PROJECT_CODE_DOWNLOAD_FINISH"})})},restoreProject:function(){Vue.http.post("/api/projects/"+this._projectId()+"/restore",{},function(){i.dispatch({type:"PROJECT_RESTORED"}),r.success("Project has been successfully restored")})},deployProject:function(){i.dispatch({type:"PROJECT_DEPLOY_START"}),Vue.http.post("/api/projects/"+this._projectId()+"/deploy")},_fetchDevelopersDictionary:function(){Vue.http.get("/api/users/developers",{},function(t){i.dispatch({type:"DEVELOPERS_SET",developers:t.data})})},_fetchProjectLog:function(){var t=this;Vue.http.get("/api/projects/"+this._projectId()+"/log",{},function(e){t._dispatchProjectUpdate({log:e.data})})},_fetchProjectBriefs:function(){var t=this;Vue.http.get("/api/projects/"+this._projectId()+"/briefs",{},function(e){t._dispatchProjectUpdate({briefs:e.data})})},_initializeProject:function(t){this._dispatchProjectUpdate(t),this._fetchProjectEngineer(),this._fetchProjectLog(),this._fetchProjectBriefs(),this._initPusherListeners()},_dispatchProjectUpdate:function(t){i.dispatch({type:"PROJECT_UPDATE",project:t})},_fetchProjectEngineer:function(){i.dispatch({type:"PROJECT_ENGINEER_FETCH_START"}),Vue.http.get("/api/projects/"+this._projectId()+"/engineer",{},function(t){i.dispatch({type:"PROJECT_ENGINEER_FETCH_FINISH"}),i.dispatch({type:"PROJECT_ENGINEER_UPDATE",projectEngineer:t.data})})},_projectEngineerId:function(){return i.getState().projectEngineer.id},_projectId:function(){return i.getState().project.id},_slug:function(){return i.getState().project.slug},_initPusherListeners:function(){var t=this._slug(),e="project-"+t+"-user-"+CObj.user_id,n="project-"+t;window.pusherSubscriptions[e]||(window.pusher.subscribe(e).bind("project-messages",function(t){void 0!=t.message&&t.message&&("error"==t.result?r.error(t.message):r.success(t.message))}),window.pusherSubscriptions[e]=!0),window.pusherSubscriptions[n]||(window.pusher.subscribe(n).bind("project-mutations",function(t){i.dispatch(t)}),window.pusherSubscriptions[n]=!0)}}},{"./../../../../misc/notify":64,"./actions/messages":157,"./actions/news":158,"./store":202}],157:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../store")["default"],r=t("./../../../../../misc/notify")["default"];n["default"]={initialize:function(t){i.dispatch({type:"MESSAGES_INITIALIZE",projectId:t}),this._loadSubscribersList(),this._page()||this._loadPage(1)},loadNextPage:function(){var t=this._page();!this._loading()&&t<this._total()&&this._loadPage(++t)},createThread:function(t,e){i.dispatch({type:"MESSAGES_CREATE_THREAD"}),Vue.http.post("/api/threads",{reference_type:"project",reference_id:this._projectId(),content:t,subscribers:e},function(t){i.dispatch({type:"MESSAGES_THREAD_CREATED",thread:t.data})}).always(function(){i.dispatch({type:"MESSAGES_CREATE_THREAD_FINISH"})})},deleteThread:function(t){r.confirm("Are you sure you want to delete this thread?","",function(){Vue.http["delete"]("/api/threads/"+t,function(){i.dispatch({type:"MESSAGES_THREAD_DELETED",threadId:t})})})},postMessageToThread:function(t,e){i.dispatch({type:"MESSAGES_ADD_MESSAGE_TO_THREAD",threadId:t}),Vue.http.post("/api/threads/"+t+"/messages",{content:e},function(e){i.dispatch({type:"MESSAGES_MESSAGE_ADDED_TO_THREAD",threadId:t,message:e.data})})},updateThreadSubscribers:function(t,e){Vue.http.post("/api/threads/"+t+"/subscribers",{subscribers:e},function(e){i.dispatch({type:"MESSAGES_THREAD_SUBSCRIBERS_UPDATED",threadId:t,subscribers:e.data})})},_loadPage:function(t){i.dispatch({type:"MESSAGES_LOAD_PAGE"}),Vue.http.get("/api/threads",{reference_type:"project",reference_id:this._projectId(),page:t},function(e){i.dispatch({type:"MESSAGE_PAGE_LOADED",threads:e.data,page:t,totalPages:Math.ceil(e.pagination.totalItems/e.pagination.itemsPerPage)})})},_loadSubscribersList:function(){Vue.http.get("/api/projects/"+this._projectId()+"/subscribers",{},function(t){i.dispatch({type:"MESSAGE_SUBSCRIBERS_LOADED",subscribers:t.data})})},_projectId:function(){return this._state().projectId},_page:function(){return this._state().page},_total:function(){return this._state().totalPages},_loading:function(){return this._state().loading},_state:function(){return i.getState().messages}}},{"./../../../../../misc/notify":64,"./../store":202}],158:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../store")["default"];n["default"]={initialize:function(){Vue.http.get("/api/news",{},function(t){i.dispatch({type:"NEWS_LOADED",news:t.data})})},markAsViewed:function(t){Vue.http.post("/api/news/"+t+"/view"),i.dispatch({type:"NEWS_VIEWED",id:t})}}},{"./../store":202}],159:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions.js")["default"];n["default"]=Vue.extend({props:["initialProject"],data:function(){return{project:{},uid:_.uniqueId(),states:{resendingInvoice:!1}}},methods:{openModal:function(){this.project=_.clone(this.initialProject),this.toggleModal()},updateProject:function(){i.updateProject(this.project,this.toggleModal)},resendInvoice:function(){var t=this;this.states.resendingInvoice=!0,this.$http.post("/api/projects/"+this.project.id+"/resend_invoice",this.project).always(function(){t.states.resendingInvoice=!1})},toggleModal:function(){$("#admin-project-modal-"+this.uid).modal("toggle")}},computed:{loaded:function(){return"undefined"!=typeof this.initialProject.id}}})},{"./../actions.js":156}],160:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({mixins:[t("./../../../../mixins/hasState")["default"]],data:function(){return{briefs:[],briefsFetched:!1,deletingBrief:!1,meta:{other:{name:"Other Brief",description:"Brief covers all details about the implementation of this project."},frontend:{name:"Front End Brief",description:"A front end brief covers all details about the HTML/CSS/JavaScript of this project."},wordpress:{name:"WordPress Brief",description:"A WordPress brief covers all details about the WordPress implementation of this project."}}}},ready:function(){this.fetchBriefs()},methods:{fetchBriefs:function(){var t=this;this.$http.get("/api/projects/"+this.state.project_id+"/briefs",{},function(e){t.briefs=e.data}).always(function(){t.briefsFetched=!0})},deleteBrief:function(t){var e=this;i.confirm("Warning","You're about to delete "+t.name+". Proceed?",function(){e.deletingBrief=!0,e.$http["delete"]("/api/projects/"+e.state.project_id+"/briefs/"+t.id,{},function(n){i.success("Brief has been deleted"),e.briefs=_.removeById(t.id,e.briefs)}).always(function(){e.deletingBrief=!1})})}}})},{"./../../../../../misc/notify":64,"./../../../../mixins/hasState":230}],161:[function(t,e,n){e.exports='<div>\n    <h4 class="p-a-0 pull-left" style="margin: 10px 0 0 0">\n        Staging Site Deploy Settings\n        <br />\n        <small v-if="stagingSiteCreated">\n            <a href="http://{{ stagingUrl }}" style="text-decoration: none" class="text-muted" target="_blank">\n                {{ stagingUrl }} <i class="fa fa-external-link"></i>\n            </a>\n        </small>\n        <small v-else class="text-muted">Staging site is not yet created</small>\n    </h4>\n    \n    <button v-if="stagingSiteCreated" class="btn btn-success btn-lg pull-right"\n            v-submit="deploying"\n            v-on:click="deploy">Deploy Site</button>\n\n    <button v-else class="btn btn-success btn-lg pull-right"\n            v-submit="deploying"\n            :disabled="!repositoryCreated"\n            v-on:click="createStagingSite">Create Staging Site</button>\n\n\n    <div class="clearfix"></div><br /><br />\n\n\n    <div class="row">\n        <div class="col-sm-8" v-if="settings">\n            <div class="form-group">\n                <label>Path to Public</label>\n                <input type="text" class="form-control" v-model="settings.path_to_public"/>\n            </div>\n\n            <div class="form-group">\n                <label>Subdomain</label>\n                <input type="text" class="form-control" v-model="settings.subdomain"/>\n            </div>\n\n            <div class="form-group">\n                <label>Custom URL</label>\n                <input type="text" class="form-control" v-model="settings.staging_url"/>\n            </div>\n\n            <div class="form-group">\n                <label>Deploy Script</label>\n                <textarea class="deploy_script form-control" rows="5" cols="5" v-model="settings.deploy_script"></textarea>\n            </div>\n\n            <div class="form-group">\n                <label>Env File</label>\n                <textarea class="env_file form-control" rows="5" cols="5" v-model="settings.env_file"></textarea>\n            </div>\n\n            <button type="submit" class="btn btn-primary btn-lg"\n                    v-on:click="saveSettings"\n                    v-submit="updating">\n                Save Settings\n            </button>\n\n            <div class="hr-divider m-b m-t-lg">\n                <h3 class="hr-divider-content hr-divider-heading">Deploy Log</h3>\n            </div>\n\n            <table v-if="project.log && project.log.length" class="table table-condensed table-striped table-bordered table-middle" style="font-size: 12px !important">\n                <thead>\n                <tr>\n                    <th style="width: 20%">Date</th>\n                    <th>Action</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for="item in project.log">\n                    <td>{{ item.date | YmdWithTimeToReadable }}</td>\n                    <td>{{ item.action }}</td>\n                </tr>\n                </tbody>\n            </table>\n            <div v-else class="text-center">\n                Nothing to show here yet.\n            </div>\n        </div>\n        <div class="col-sm-4">\n            <div class="well p-a-sm m-t" style="background-color: white;">\n                <div class="hr-divider m-b">\n                    <h3 class="hr-divider-content hr-divider-heading">Misc Options</h3>\n                </div>\n                <span v-if="project.use_htpasswd"  v-submit="updating"\n                      class="btn btn-block btn-primary"\n                      v-on:click="toggleHtpasswd"><i class="fa fa-times"></i> Disable Htpasswd</span>\n                <span v-else v-submit="updating"\n                      class="btn btn-block btn-primary m-t"\n                      v-on:click="toggleHtpasswd"><i class="fa fa-lock"></i> Enable Htpasswd</span>\n\n                <span class="btn btn-block btn-primary"\n                      v-on:click="createRepository"\n                      v-submit="project.repoCreating"\n                      :disabled="repositoryCreated">\n                    <i class="fa fa-bitbucket"></i> Create Repository</span>\n            </div>\n\n            <div v-if="settings" class="well p-a-sm m-t" style="background-color: white;">\n                <div class="hr-divider m-b">\n                    <h3 class="hr-divider-content hr-divider-heading">Boilerplate</h3>\n                </div>\n\n                <div class="form-group">\n                    <label>Project Brief</label>\n                    <select class="form-control" v-bind:disabled="boilerplateGenerated" v-model="settings.boilerplate_brief_id">\n                        <option value="">Not Selected</option>\n                        <option v-for="brief in project.briefs" :value="brief.id">{{ brief.name }}</option>\n                    </select>\n                </div>\n\n                <div class="form-group">\n                    <label>Folder</label>\n                    <input type="text" class="form-control" v-bind:disabled="boilerplateGenerated" v-model="settings.boilerplate_folder" />\n                </div>\n\n                <button class="btn btn-block btn-primary-outline"\n                        v-on:click.prevent="generateBoilerplate"\n                        v-submit="project.boilerplateGenerating"\n                        :disabled="!settings.boilerplate_brief_id || boilerplateGenerated">\n                    <i class="fa fa-cog"></i> <small>Generate</small>\n                </button>\n\n                <small v-if="project.boilerplate_status" class="pull-right">\n                    Status: {{ project.boilerplate_status }}\n                </small>\n            </div>\n        </div>\n    </div>\n</div>'},{}],162:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions.js")["default"];n["default"]=Vue.extend({template:t("./deploy-settings.html"),props:["project"],data:function(){return{settings:null,updating:!1}},watch:{project:function(){null===this.settings&&this._reload()}},methods:{deploy:function(){return!(!this.project.subdomain||this.deploying)&&void i.deployProject()},saveSettings:function(){var t=this;return!this.updating&&(this.updating=!0,void i.updateProjectDeploySettings(this.settings,function(){t.updating=!1,t._reload()}))},toggleHtpasswd:function(){var t=this;if(this.updating)return!1;this.updating=!0;var e=_.clone(this.project);e.use_htpasswd=!e.use_htpasswd,i.updateProjectDeploySettings(e,function(){t.updating=!1})},createRepository:function(){return!this.repositoryCreated&&!this.project.repoCreating&&void i.createRepository()},generateBoilerplate:function(){return!(!this.project.bitbucket_slug||this.project.boilerplateCreating||this.project.boilerplateGenerated)&&void i.generateBoilerplate(this.settings)},createStagingSite:function(){if(this.project.subdomain||this.project.stagingCreating||!this.repositoryCreated)return!1;var t=this;i.createStagingSite(function(){t.settings.subdomain=t.project.subdomain})},_reload:function(){this.settings=_.clone(this.project)}},computed:{deploying:function(){return this.project.deploying},stagingSiteCreated:function(){return!!this.project.subdomain},repositoryCreated:function(){return!!this.project.git_url},boilerplateGenerated:function(){return"generated"==this.project.boilerplate_status},stagingUrl:function(){return this.project.staging_url?this.project.staging_url:!!this.project.subdomain&&this.project.subdomain+".approvemyviews.com"}}})},{"./../actions.js":156,"./deploy-settings.html":161}],163:[function(t,e,n){e.exports='<tr>\n    <td v-if="project.subdomain">\n        <span class="btn btn-sm btn-block btn-success"\n              v-submit="project.deploying"\n            v-on:click="deploy">Re-deploy Application</span>\n    </td>\n    <td v-else>\n        <span class="btn btn-sm btn-block btn-success"\n              :disabled="!isAdministrator"\n              v-submit="project.stagingCreating"\n            v-on:click="createStagingSite">Create Staging Site</span>\n    </td>\n</tr>'},{}],164:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions.js")["default"];n["default"]=Vue.extend({template:t("./deploy.html"),props:["project","isAdministrator"],methods:{deploy:function(){return!(!this.project.subdomain||this.project.deployInProgress)&&void i.deployProject()},createStagingSite:function(){return!(this.project.subdomain||this.project.stagingCreating||!this.isAdministrator)&&void i.createStagingSite()}}})},{"./../actions.js":156,"./deploy.html":163}],165:[function(t,e,n){e.exports='<div class="widget-row">\n    <span class="widget-title">Developer Details</span>\n    <ul class="list-unstyled list-defination">\n        <li>\n            <i class="fa fa-certificate"></i>\n            <strong class="title">Credentials</strong>\n            <p class="text-gray" v-if="project-credentials">{{ project.credentials.username }} / {{ project.credentials.password }}</p>\n            <p class="text-gray" v-else><i>Not yet received.</i></p>\n        </li>\n        <li>\n            <i class="fa fa-bucket"></i>\n            <strong class="title">Bitbucket Clone Repo</strong>\n            <p v-if="project.git_url">\n                \n                <input type="text" class="form-control" value="git clone {{ project.git_url }}">\n\n            </p>\n            <p v-else class="text-gray"><em>Repository not yet created.</em></p>\n        \n        </li>\n        \n        <li>\n            <div v-if="project.git_url" is="deploy" :project="project" :is-administrator="isAdministrator"></div>\n        </li>\n\n    </ul>\n</div>'},{}],166:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["project"],data:function(){return{isAdministrator:CObj.admin}},template:t("./dev-info.html"),components:{deploy:t("./deploy")["default"]}})},{"./deploy":164,"./dev-info.html":165}],167:[function(t,e,n){e.exports='<ul class="dev-list" v-if="loaded">\n    <li  v-for="developer in selectedDevelopers"><span class="avatar-l avatar-red">{{ developer.name[0] }}</span> {{ developer.name }} <span class="role">Developer</span></li>\n</ul>'},{}],168:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./developers.html"),props:["developers","selected"],computed:{selectedDevelopers:function(){var t=this;return _.filter(t.developers,function(e){return _.indexOf(t.selected,""+e.id)>-1})},loaded:function(){return"undefined"!=typeof this.selected&&this.developers.length>0}}})},{"./developers.html":167}],169:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({mixins:[t("./../../../../mixins/hasState")["default"]],data:function(){return{files:[],filesFetched:!1,filesDownloading:!1}},ready:function(){var t=this;this.fetchFiles(),this.$el.id=_.randomStr();var e=uploadcare.initialize("#"+this.$el.id),n=e[0];void 0!=n&&n.onChange(function(e){e&&$.when.apply(null,e.files()).done(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];_.each(r,function(e,n){t.persist(e)}),n.value(null),i.success(_.pluralize(r.length,"file has been","files have been")+" uploaded")})})},methods:{persist:function(t){var e=this;return t.reference_type=this.state.reference_type,t.reference_id=this.state.reference_id,this.$http.post("/api/files",t,function(t){e.files.unshift(t.data)})},deleteFile:function(t){var e=this;i.confirm("Warning","Selected file will be deleted. Proceed?",function(){e.$http["delete"]("/api/files/"+t.id,{reference_type:t.reference_type,reference_id:t.reference_id}),e.files=_.removeById(t.id,e.files)})},fetchFiles:function(){var t=this;this.$http.get("/api/files",this.state,function(e){t.files=e.data}).always(function(){t.filesFetched=!0})},downloadAllFiles:function(){var t=this;return!this.filesDownloading&&(this.filesDownloading=!0,void this.$http.post("/api/files/download_as_zip",this.state,function(t){i.success(t.success)}).always(function(){t.filesDownloading=!1}))}}})},{"./../../../../../misc/notify":64,"./../../../../mixins/hasState":230}],170:[function(t,e,n){e.exports='<div class="widget-row">\n    <span class="widget-title">Project Details</span>\n    <ul class="list-unstyled list-defination" v-if="loaded">\n        <li>\n            <i class="fa fa-calendar-check-o"></i>\n            <strong class="title">Requested Delivery Date</strong>\n            <p>{{ project.requested_deadline }}</p>\n        </li>\n        <li>\n            <i class="fa fa-tag"></i>\n            <strong class="title">Project Type</strong>\n            <p>{{ project.type_name }}</p>\n        </li>\n        <li>\n            <i class="fa fa-link"></i>\n            <strong class="title">Staging URL</strong>\n            <p v-if="project.subdomain">\n                <a target="_blank" href="http://{{ project.subdomain }}.approvemyviews.com">\n                    View Staging Site\n                </a>\n            </p>\n            <p v-else class="text-gray"><em>Staging site not yet created.</em></p> \n\n        </li>\n    </ul>\n\n    <a v-if="canDownloadTheCode" class="m-t btn btn-block btn-success"\n       v-on:click.prevent="downloadCode()"\n       v-submit="project.codeDownloading">\n        <i class="fa fa-cloud-download"></i> Download Code\n    </a>\n</div>'},{}],171:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions")["default"];n["default"]=Vue.extend({props:["project"],template:t("./info.html"),methods:{downloadCode:function(){i.downloadCode()}},computed:{loaded:function(){return"undefined"!=typeof this.project.id},canDownloadTheCode:function(){var t=["qa","complete"].indexOf(this.project.status)>-1;return this.project.git_url&&(t||CObj.is_admin)}}})},{"./../actions":156,"./info.html":170}],172:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({mixins:[t("./../../../../mixins/hasState")["default"]],data:function(){return{invoices:[],invoicesFetched:!1,meta:{draft:"draft",sent:"upfront payment required",deposit_paid:"final payment required",paid:"paid"}}},ready:function(){var t=this;this.$http.get("/api/projects/"+this.state.project.id+"/invoices",function(e){t.invoices=e.data,t.invoicesFetched=!0})}})},{"./../../../../mixins/hasState":230}],173:[function(t,e,n){e.exports='<div>\n    <header class="meta-head">\n        <strong class="meta-head-title">Messages</strong>\n    </header>\n    <div class="box-editor" style="margin-bottom: 5px;">\n        <div class="body">\n\n            <textarea v-trix class="form-control" rows="1" v-model="message" name="message">\n            </textarea>\n\n            <button class="btn btn-success m-t" v-on:click="createThread()"\n                    v-submit="state.creating"\n                    :disabled="archived">\n                Submit New Message\n            </button>\n        </div>\n        \n    </div>\n    <notification-settings\n        v-if="canEditNotifications"\n       :possible="state.subscribers"\n       :actual="state.subscribers"\n       :on-change="updateSubscribers"\n       :project-engineer="projectEngineer">\n    </notification-settings>\n    <ul class="discussion">\n\n        <li v-for="thread in state.threads" class="media" v-show="thread.messages.length">\n            <thread :thread.sync="thread"\n                    :replying="state.replying"\n                    :archived="archived"\n                    :subscribers="state.subscribers"\n                    :project-engineer="projectEngineer">\n            </thread>\n        </li>\n\n        <li v-if="state.loading" class="media p-a text-center">\n            <i class=\'fa fa-spinner fa-spin\'></i>\n        </li>\n        <li v-else class="hidden messages-loaded"></li>\n    </ul>\n</div>';
},{}],174:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../mixins/hasInfiniteScroll")["default"],r=t("./../actions")["default"].messages;n["default"]=Vue.extend({props:["state","projectId","projectEngineer","archived"],template:t("./messages.html"),mixins:[i],data:function(){return{message:"",subscribers:[]}},ready:function(){r.initialize(this.projectId),this.$on("scrolledToBottom",function(){r.loadNextPage()})},methods:{createThread:function(){return!this.archived&&(r.createThread(this.message,this.subscribers),void(this.message=""))},updateSubscribers:function(t){this.subscribers=t}},computed:{canEditNotifications:function(){return this.state.subscribers.length>0&&CObj.can_edit_notifications},defaultSubscribers:function(){return this.state.subscribers.filter(function(t){return t.default_subscriber})}},components:{thread:t("./messages/thread")["default"],notificationSettings:t("./messages/notification-settings")["default"]}})},{"./../../../../mixins/hasInfiniteScroll":229,"./../actions":156,"./messages.html":173,"./messages/notification-settings":176,"./messages/thread":178}],175:[function(t,e,n){e.exports='<div>\n    <p class="text-muted m-t" v-show="settingsClosed">\n        Your message will also be emailed to: {{ subscribersNamesString }}.(<a href="#" v-on:click.prevent="toggleSettings">change</a>)\n    </p>\n    <div class="well well-small p-sm" v-cloak v-show="settingsOpened">\n        <div class="form-group">\n            <h5>Who should be notified about this message from the {{ teamName }} team?</h5>\n            <hr />\n            <style>\n                .checkbox-inline {\n                    margin: 0 10px 10px 0 !important;\n                }\n            </style>\n            <div v-for="user in possible" class="checkbox-inline">\n                <label>\n                    <input value="{{ user.id }}" v-model="checked" type="checkbox"> {{ getDisplayName(user) }}\n                </label>\n            </div>\n        </div>\n        <div class="btn-group">\n            <button class="btn btn-sm btn-success btn-xs" v-on:click="updateSubscribers">Save Settings</button>\n        </div>\n    </div>\n</div>'},{}],176:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../../actions")["default"].messages;n["default"]=Vue.extend({props:["possible","actual","threadId","onChange","projectEngineer"],template:t("./notification-settings.html"),data:function(){return{settingsOpened:!1,loading:!1,checked:[]}},watch:{actual:function(){this.loading=!1,this._updateChecked()}},ready:function(){this._updateChecked()},methods:{toggleSettings:function(){this.settingsOpened=!this.settingsOpened},updateSubscribers:function(){var t=this.checked;this.threadId?(this.loading=!0,r.updateThreadSubscribers(this.threadId,t)):this.$set("actual",[].concat(i(this.possible.filter(function(e){return _.indexOf(t,e.id)!==-1})))),this._change(),this.toggleSettings()},getDisplayName:function(t){return t.id===CObj.user_id?"You":t.name},_change:function(){this.onChange&&this.onChange(this.checked)},_updateChecked:function(){this.checked=this.actual.map(function(t){return t.id}),this._change()}},computed:{subscribersNamesString:function(){var t=this,e=this.actual.map(function(e){return t.getDisplayName(e)});return this.projectEngineer.loading||e.push(this.projectEngineer.name),this.loading||!e.length?"Loading..":e.join(", ")},settingsClosed:function(){return!this.settingsOpened},teamName:function(){return CObj.team.name}}})},{"./../../actions":156,"./notification-settings.html":175}],177:[function(t,e,n){e.exports='<div>\n    <a href="#" class="text-danger" style="position: absolute; top: 5px; right: 5px;" v-if="canDelete" v-on:click.prevent="deleteThread()">\n        <i class="fa fa-trash"></i>\n    </a>\n    <div class="media-left"><img :src="thread.messages[0].user.avatar" class="img-circle avatar" height="108" width="108" ></div>\n    <div class="media-body">\n        <header class="media-heading">\n            <time class="posted" ><i v-if="!thread.visible_to_customer" class="fa fa-eye-slash"></i> {{ postedAgo | secondsToReadableAgo }}</time>\n            <h5 class="media-title">{{ thread.messages[0].user.name }}</h5>\n        </header>\n        <div class="msg-body">\n            {{{ thread.messages[0].content }}}\n        </div>\n        <ul class="discussion">\n            <li class="media" v-for="(index, message) in thread.messages" v-show="index > 0">\n                <div class="media-left"><img :src="message.user.avatar" height="44" width="45"  class="img-circle avatar"></div>\n                <div class="media-body">\n                    <header class="media-heading">\n                        <time class="posted">{{ message.created_at | ago }}</time>\n                        <h5 class="media-title">{{ message.user.name }}</h5>\n                    </header>\n                    <div class="msg-body">\n                        {{{ message.content }}}\n                    </div>\n                </div>\n            </li>\n        </ul>\n        <form action="#" class="reply-form">\n            <label class="fa fa-envelope"></label>\n            <textarea cols="6" rows="6" name="reply" class="form-control textarea-reply m-b" v-model="thread.reply"\n              placeholder="Type here to start replying to {{thread.messages[0].user.name}}"></textarea>\n\n              <button type="button"\n                        class="btn btn-sm pull-right"\n                        v-submit="replying" v-on:click.prevent="reply()"\n                        :disabled="archived">\n                    <i class="fa fa-reply"></i> Submit Reply\n                </button>\n        </form>\n\n        <notification-settings v-if="canEditNotifications"\n                               :possible="subscribers"\n                               :actual="thread.subscribers"\n                               :thread-id="thread.id"\n                               :project-engineer="projectEngineer">\n        </notification-settings>\n    </div>\n</div>'},{}],178:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../actions")["default"].messages;n["default"]=Vue.extend({props:{thread:"Object",replying:"Boolean",subscribers:"Array",projectEngineer:"Object",archived:"Boolean"},template:t("./thread.html"),data:function(){return{message:"",est:_.est(),interval:null}},ready:function(){var t=this;this.refreshInterval=setInterval(function(){t.est=_.est()},1e4);var e=this.thread.id;$('[data-toggle="popover"]').popover({content:function(){return $("#popover-html-"+e).html()}})},detached:function(){clearInterval(this.refreshInterval)},computed:{firstMessage:function(){return this.thread.messages[0]},postedAgo:function(){return this.est.diff(moment.utc(this.firstMessage.created_at),"seconds")},canDelete:function(){return CObj.admin||this.firstMessage.user_id==CObj.user_id&&this.postedAgo<=300},canEditNotifications:function(){return CObj.can_edit_notifications}},methods:{deleteThread:function(){i.deleteThread(this.thread.id)},reply:function(){!this.archived&&this.thread.reply&&i.postMessageToThread(this.thread.id,this.thread.reply)}},components:{notificationSettings:t("./thread/notification-settings")["default"]}})},{"./../../actions":156,"./thread.html":177,"./thread/notification-settings":180}],179:[function(t,e,n){e.exports='<div>\n    <span class="badge badge-info" data-toggle="popover" title="Notification Settings" data-html="true" style="cursor:pointer; position: absolute; bottom: 5px; left: 20px;"><i class="fa fa-envelope"></i></span>\n    <div id="popover-html-{{ threadId }}" style="display: none">\n        Your message will also be emailed to {{ subscribersNamesString }}.<br><a data-toggle="modal" href="#change-notif-settings-{{ threadId }}">Change <i class="fa fa-refresh"></i></a>\n    </div>\n    <div class="modal fade" id="change-notif-settings-{{ threadId }}" tabindex="-1" role="dialog">\n        <div class="modal-dialog modal-sm" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h5 class="modal-title" id="myModalLabel">Notification Settings</h5>\n                </div>\n                <div class="modal-body" style="padding: 0">\n                    <div class="well well-small p-sm m-a-0">\n                        <div class="form-group">\n                            <h5>Who should be notified about this to do item?</h5>\n                            <hr />\n                            <style>\n                                .checkbox-inline {\n                                    margin: 0 10px 10px 0 !important;\n                                }\n                            </style>\n                            <div v-for="user in possible" class="checkbox-inline">\n                                <label>\n                                    <input value="{{ user.id }}" v-model="checked" type="checkbox"> {{ getDisplayName(user) }}\n                                </label>\n                            </div>\n                        </div>\n                        <div class="btn-group">\n                            <button class="btn btn-sm btn-success btn-xs" data-dismiss="modal" v-on:click="updateSubscribers">Save Settings</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},{}],180:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../../../actions")["default"].messages;n["default"]=Vue.extend({props:["possible","actual","threadId","onChange","projectEngineer"],template:t("./notification-settings.html"),data:function(){return{loading:!1,checked:[]}},watch:{actual:function(){this.loading=!1,this._updateChecked()}},ready:function(){this._updateChecked()},methods:{updateSubscribers:function(){var t=this.checked;this.threadId?(this.loading=!0,r.updateThreadSubscribers(this.threadId,t)):this.$set("actual",[].concat(i(this.possible.filter(function(e){return _.indexOf(t,e.id)!==-1})))),this._change()},getDisplayName:function(t){return t.id===CObj.user_id?"You":t.name},_change:function(){this.onChange&&this.onChange(this.checked)},_updateChecked:function(){this.checked=this.actual.map(function(t){return t.id}),this._change()}},computed:{subscribersNamesString:function(){var t=this,e=this.actual.map(function(e){return t.getDisplayName(e)});return this.projectEngineer.loading||e.push(this.projectEngineer.name),this.loading||!e.length?"Loading..":e.join(", ")}}})},{"./../../../actions":156,"./notification-settings.html":179}],181:[function(t,e,n){e.exports='<div>\n    <div v-show="post.id" class="panel panel-default m-b-md hidden-xs">\n        <div class="panel-body">\n            <button type="button" style="top: -10px; right: -10px" class="close pos-r" data-dismiss="alert" aria-label="Close"\n                    v-on:click.prevent="markViewed(post.id)"><span aria-hidden="true">&times;</span></button>\n\n            <h5 class="m-t-0">{{ post.title }}</h5>\n            <a href="{{ post.link }}" target="_blank">\n                <img class="img-thumbnail" v-bind:src="post.image">\n            </a>\n            <p class="m-t">{{{ post.text }}}</p>\n            <a href="{{ post.link }}" target="_blank" class="btn btn-primary-outline btn-sm">Learn More</a>\n        </div>\n    </div>\n</div>'},{}],182:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../actions")["default"].news;n["default"]=Vue.extend({props:["news"],template:t("./news.html"),ready:function(){i.initialize()},methods:{markViewed:function(t){i.markAsViewed(t)}},computed:{post:function(){return this.news.length?this.news[0]:{}}}})},{"./../actions":156,"./news.html":181}],183:[function(t,e,n){e.exports='<ul class="step-process">\n    <li v-if="isBad" class="text-danger"><span><i class="fa fa-times"></i> {{ currentStatus.name }}</span></li>\n    <li v-else class="{{ levelStatus(0) }}"><span><i class="fa fa-check-circle"></i>Quote</span></li>\n\n    <li v-for="(index, info) in persistentStatuses" class="{{ levelStatus(info.level) }}"><span><i class="fa fa-check-circle"></i>{{ info.name }}</span></li>\n</ul>'},{}],184:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["status"],template:t("./project-status.html"),data:function(){return{statuses:{spam:{level:0,name:"Spam",persistent:!1},lost:{level:0,name:"Lost",persistent:!1},quote:{level:0,name:"Quote",persistent:!1},approval:{level:1,name:"Approval",persistent:!0},development:{level:2,name:"In Development",persistent:!0},qa:{level:3,name:"QA",persistent:!0},complete:{level:4,name:"Complete",persistent:!0}}}},computed:{isBad:function(){return _.indexOf(["spam","lost"],this.status)>-1},currentStatus:function(){return this.statuses[this.status]},persistentStatuses:function(){return _.filter(this.statuses,function(t){return t.persistent})}},methods:{levelStatus:function(t){return this.isCompleted(t)?"completed":this.isCurrent(t)?"current":""},isCompleted:function(t){return t<this.currentStatus.level},isCurrent:function(t){return t==this.currentStatus.level}}})},{"./project-status.html":183}],185:[function(t,e,n){e.exports='<div class="avatar">\n    <img v-if="engineer.loading" class="img-circle" src="https://www.gravatar.com/avatar/0?d=mm&f=y&s=256">\n    <img v-else class="img-circle" :src="engineer.avatar">\n</div>\n<span class="title">Project Engineer</span>\n<span class="name">{{ engineer.name }}</span>\n<a  v-if="engineer.calendly_url"\n    href="" \n    class="btn btn-blue-o"\n    v-on:click.prevent="openCalendly(engineer.calendly_url)">\n    <i class="fa fa-calendar"></i> Meet with {{ engineer.first_name }}\n</a>\n\n<p>Hey, I\'m {{ engineer.first_name }}.  I am your project engineer.</p>'},{}],186:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({template:t("./projectEngineer.html"),props:["engineer"],methods:{openCalendly:function(t){CObj.logged_in&&(t+="?name="+encodeURIComponent(CObj.name)+"&email="+encodeURIComponent(CObj.email)),Calendly.showPopupWidget(t)}}})},{"./projectEngineer.html":185}],187:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"],r=t("./../../../../mixins/hasState")["default"];n["default"]=Vue.extend({mixins:[r],data:function(){return{sendingInvite:!1,form:{email:"",inviteTo:"single"},team:{},isOwner:!1,lodash:_}},computed:{isOwner:function(){return this.team.owner_id==CObj.user_id}},ready:function(){var t=this;this.$http.get("/api/project/"+this.state.project_id+"/team",{},function(e){t.team=e})},methods:{openInviteModal:function(){this.form.email="",$("#add-team-member").modal("show")},sendInvite:function(){var t=this;this.sendingInvite=!0;var e={email:this.form.email,projects:"single"==this.form.inviteTo?[this.state.project_id]:["*"]};this.$http.post("/settings/teams/"+this.state.team_id+"/invitations",e,function(e){if(t.form.email="",void 0!=e.id)t.team=e;else{var n=_.get(e,"data.user");n&&t.team.users.push(n)}$("#add-team-member").modal("hide"),i.success(void 0!=e.success?e.success:"Invitation has been sent")}).always(function(){t.sendingInvite=!1})},removeTeamInvitation:function(t){this.team.invitations=_.removeById(t.id,this.team.invitations),this.$http["delete"]("/settings/teams/"+this.team.id+"/invitations/"+t.id,{},function(){})},removeFromTeam:function(t){this.team.users=_.removeById(t.id,this.team.users),this.$http["delete"]("/settings/teams/"+this.team.id+"/members/"+t.id,{},function(){})}}})},{"./../../../../../misc/notify":64,"./../../../../mixins/hasState":230}],188:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({props:["developers","todo_id","project","projectEngineer"],data:function(){return{message:"",todo:{},lodash:_,subscribers:[],neighbors:[null,null],update:{title:"",created_by_id:null,category:"",developer_id:null},postingMessage:!1,updatingTodo:!1}},computed:{typeIcon:function(){return'<i style="position: absolute; top: 0; left: 0;" class="fa fa-2x '+("bug"==this.todo.type?"fa-exclamation-circle text-danger":"fa-star text-warning")+'">'},projectDevs:function(){var t=this;return _.filter(this.developers,function(e){return t.project.developers.indexOf(e.id+"")!=-1})}},ready:function(){var t=this;this.fetch(this.todo_id),this._loadSubscribers();var e=uploadcare.initialize("#todo-ucare"),n=e[0];void 0!=n&&n.onChange(function(e){e&&$.when.apply(null,e.files()).done(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];_.each(i,function(e,n){var i=_.merge(e,{reference_type:"todo",reference_id:t.todo_id});return t.$http.post("/api/files",i).success(function(e){t.todo.files.push(e.data)})}),n.value(null)})}),$(this.$els.newTodoDeliveryDate).datepicker("setDaysOfWeekDisabled",[0,6])},methods:{fetch:function(t){var e=this;this.todo_id=t,i.loading(!0),this.$http.get("/api/todos/"+this.todo_id,function(t){e.todo=t.data;var n=e.todo.delivery_date?moment(e.todo.delivery_date).format("MM/DD/YYYY"):null;e.update={title:e.todo.title,created_by_id:e.todo.created_by_id,category:e.todo.category,developer_id:e.todo.developer_id,delivery_date:n,visible_to_customer:e.todo.visible_to_customer},e.neighbors=t.neighbors;var i=new URI;History.replaceState(null,document.title,i.directory()+"/"+e.todo_id),$(e.$els.newTodoDeliveryDate).datepicker("setDate",n?n.toDate():null)}).always(function(){i.loading(!1)})},setStatus:function(t,e){var n=this;t.status=e,"accepted"==e&&(t.accepted_at=moment().format()),this.$http.put("/api/todos/"+t.id+"/set-status",{status:e},function(t){n.todo.readableActivityLog=t.data})},postMessage:function(){var t=this,e=this.todo.thread;this.postingMessage=!0,this.$http.post("/api/threads/"+e.id+"/messages",{content:this.message},function(n){e.messages.push(n.data),t.message=""}).always(function(){t.postingMessage=!1})},updateTodo:function(){var t=this;this.updatingTodo=!0,this.$http.put("/api/todos/"+this.todo.id,this.update,function(e){t.todo=e.data,i.success("ToDo has been updated")}).always(function(){t.updatingTodo=!1})},deleteTodo:function(){var t=this;i.confirm("Warning","Are you sure you want to delete this ToDo item?",function(){t.updatingTodo=!0,t.$http["delete"]("/api/todos/"+t.todo.id,function(e){i.success("ToDo has been deleted");var n=_.firstNotEmpty(t.neighbors[0],t.neighbors[1]);n?t.fetch(n):$("#back-to-all-todos").click()}).always(function(){t.updatingTodo=!1})})},_loadSubscribers:function(){var t=this;this.$http.get("/api/projects/"+this.project.id+"/subscribers",{},function(e){t.subscribers=e.data})}},components:{neighbors:t("./todo/neighbors")["default"],files:t("./todo/files")["default"],notificationSettings:t("./todo/notification-settings")["default"]}})},{"./../../../../../misc/notify":64,"./todo/files":190,"./todo/neighbors":192,"./todo/notification-settings":194}],189:[function(t,e,n){e.exports='<div>\n    <div v-if="files && files.length">\n        <div class="hr-divider">\n            <h3 class="hr-divider-content hr-divider-heading">To Do Files</h3>\n        </div>\n        <table class="table table-condensed table-middle m-b-0">\n            <thead>\n            <tr>\n                <th>File Name</th>\n                <th></th>\n            </tr>\n            </thead>\n\n            <tbody>\n            <tr v-for="file in files">\n                <td title="{{ file.name }}">{{ shortName(file.name) }}</td>\n                <td class="text-right"><a href="{{ file.path }}" target="_blank" class="btn btn-primary-outline btn-xs">Download</a></td>\n            </tr>\n            </tbody>\n\n        </table>\n\n        <hr v-if="todo.files.length" />\n    </div>\n</div>'},{}],190:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["files"],template:t("./files.html"),methods:{shortName:function(t){return _.trunc(t,15,"..")}}})},{"./files.html":189}],191:[function(t,e,n){e.exports='<div class="pull-right">\n    <a v-if="neighbors[0]" href="/project/{{ slug }}/to-dos/{{ neighbors[0] }}" class="text-muted"\n       v-on:click.prevent="callback(neighbors[0])">\n        <i class="fa fa-angle-double-left"></i> Previous To Do\n    </a>\n    <span v-else class="text-muted disabled"><i class="fa fa-angle-double-left"></i> Previous To Do</span>\n\n    &nbsp;&nbsp;&nbsp;&nbsp;\n\n    <a v-if="neighbors[1]" href="/project/{{ slug }}/to-dos/{{ neighbors[1] }}" class="text-muted"\n       v-on:click.prevent="callback(neighbors[1])">\n        Next To Do <i class="fa fa-angle-double-right"></i>\n    </a>\n    <span v-else class="text-muted disabled">Next To Do <i class="fa fa-angle-double-right"></i></span>\n</div>'},{}],192:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["neighbors","slug","callback"],template:t("./neighbors.html")})},{"./neighbors.html":191}],193:[function(t,e,n){e.exports='<div>\n    <p class="text-muted m-t" v-show="settingsClosed">\n        Your message will also be emailed to: {{ subscribersNamesString }}.(<a href="#" v-on:click.prevent="toggleSettings">change</a>)\n    </p>\n    <div class="well well-small p-sm m-t" v-cloak v-show="settingsOpened">\n        <div class="form-group">\n            <h5>Who should be notified about this to do item?</h5>\n            <hr />\n            <style>\n                .checkbox-inline {\n                    margin: 0 10px 10px 0 !important;\n                }\n            </style>\n            <div v-for="user in possible" class="checkbox-inline">\n                <label>\n                    <input value="{{ user.id }}" v-model="checked" type="checkbox"> {{ getDisplayName(user) }}\n                </label>\n            </div>\n        </div>\n        <div class="btn-group">\n            <button class="btn btn-sm btn-success btn-xs" v-on:click="updateSubscribers">Save Settings</button>\n        </div>\n    </div>\n</div>'},{}],194:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["possible","actual","threadId","projectEngineer"],template:t("./notification-settings.html"),data:function(){return{settingsOpened:!1,loading:!1,checked:[]}},ready:function(){this.checked=this.actual.map(function(t){return t.id})},methods:{toggleSettings:function(){this.settingsOpened=!this.settingsOpened},updateSubscribers:function(){var t=this;this.loading=!0,this.$http.post("/api/threads/"+this.threadId+"/subscribers",{subscribers:this.checked},function(e){t.actual=e.data,t.loading=!1}),this.toggleSettings()},getDisplayName:function(t){return t.id===CObj.user_id?"You":t.name}},computed:{subscribersNamesString:function(){var t=this,e=this.actual.map(function(e){return t.getDisplayName(e)});return this.projectEngineer.loading||e.push(this.projectEngineer.name),this.loading||!e.length?"Loading..":e.join(", ")},settingsClosed:function(){return!this.settingsOpened}}})},{"./notification-settings.html":193}],195:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../../../../misc/notify")["default"];n["default"]=Vue.extend({props:["project","reference_id","reference_type"],data:function(){return{creatingTodo:!1,todosFetched:!1,showAcceptedTodos:!1,todos:[],newTodo:{title:"",type:"",category:"",content:"",files:[]},meta:{frontend:"Front End",wordpress:"WordPress",other:"other"}}},computed:{accepted:function(){return _.reduce(this.todos,function(t,e){return"accepted"==e.status&&t.push(e),t},[])},inProgress:function(){return _.reduce(this.todos,function(t,e){return"accepted"!=e.status&&t.push(e),t},[])},isDeveloper:function(){return CObj.developer}},events:{sortableChange:function(t,e){var n=$(e.item[0]);this.$http.put("/api/todos/"+n.data("id")+"/move",{position:n.index()})}},ready:function(){var t=this;$(this.$els.newTodoDeliveryDate).datepicker("setStartDate",moment().add("+1","days").toDate()).datepicker("setDaysOfWeekDisabled",[0,6]),this.fetchTodos();var e=uploadcare.initialize("#create-to-do");this.ucare=e[0],void 0!=this.ucare&&this.ucare.onChange(function(e){e&&$.when.apply(null,e.files()).done(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t.newTodo.files=n})});var n=this;$(document).on("click","#to-do-type label",function(t){var e=$(this);n.newTodo.type=e.find("input").val()})},methods:{openCreateModal:function(){$("#create-to-do").modal("show"),this._resetNewTodo()},createTodo:function(){var t=this;this.creatingTodo=!0,this.$http.post("/api/todos",_.merge(this.newTodo,{reference_id:this.reference_id,reference_type:this.reference_type}),function(e){t.todos.unshift(e.data),t._resetNewTodo(),$("#create-to-do").modal("hide"),i.success("New To Do has been created")}).always(function(){t.creatingTodo=!1})},fetchTodos:function(){var t=this;this.$http.get("/api/todos",{reference_id:this.reference_id,reference_type:this.reference_type},function(e){t.todosFetched=!0,t.todos=e.data})},toggleAcceptedStories:function(){this.showAcceptedTodos=!this.showAcceptedTodos},setStatus:function(t,e){t.status=e,"accepted"==e&&(t.accepted_at=moment().format()),this.$http.put("/api/todos/"+t.id+"/set-status",{status:e})},_resetNewTodo:function(){$("#to-do-type > label").removeClass("active"),this.ucare.value(null);var t=moment().add(-300,"minutes").businessAdd(1);this.newTodo={title:"",type:"",category:"",content:"",files:[],delivery_date:t.format("MM/DD/YYYY")},$(this.$els.newTodoDeliveryDate).datepicker("setDate",t.toDate())},developerBelongsToProject:function(t){return this.project.developers.indexOf(t+"")!=-1}}})},{"./../../../../../misc/notify":64}],196:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./actions")["default"],r=t("./store")["default"];n["default"]=Vue.extend({props:["project"],data:function(){return{state:r.getState()}},ready:function(){i.initializeApp(JSON.parse(this.project))},created:function(){var t=this;this.unsubscribe=r.subscribe(function(){t.state=r.getState()})},destroyed:function(){this.unsubscribe()},computed:{canRestoreProject:function(){return CObj.admin||_.indexOf(["admin","owner"],CObj.team.pivot.role)>-1},prettyStatus:function(){switch(this.state.project.status){case"quote":return"Hang tight! We are preparing a project estimate for you.";case"brief":return"We are currently preparing the project brief.";case"development":return"Your project is in development.";case"qa":return"Your project is being QAed.";case"approval":return"We are waiting for your approval on the development brief.";case"complete":return"Your project is complete.";case"lost":return"Let us know if you are still interested in working with us on this project.";case"spam":return"This project got caught in our spam filter.  Post a message if you are a real person."}}},methods:{restore:function(){i.restoreProject(this.state.project.id)}},components:{admin:t("./components/admin")["default"],briefs:t("./components/briefs")["default"],info:t("./components/info")["default"],devInfo:t("./components/dev-info")["default"],developers:t("./components/developers")["default"],deploySettings:t("./components/deploy-settings")["default"],files:t("./components/files")["default"],invoices:t("./components/invoices")["default"],messages:t("./components/messages")["default"],news:t("./components/news")["default"],projectEngineer:t("./components/projectEngineer")["default"],team:t("./components/team")["default"],todo:t("./components/todo")["default"],todos:t("./components/todos")["default"],projectStatus:t("./components/project-status")["default"]}})},{"./actions":156,"./components/admin":159,"./components/briefs":160,"./components/deploy-settings":162,"./components/dev-info":166,"./components/developers":168,"./components/files":169,"./components/info":171,"./components/invoices":172,"./components/messages":174,"./components/news":182,"./components/project-status":184,"./components/projectEngineer":186,"./components/team":187,"./components/todo":188,"./components/todos":195,"./store":202}],197:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t=[]),e.type){case"DEVELOPERS_SET":return e.developers;default:return t}}},{}],198:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={threads:[],initialized:!1,loading:!1,subscribers:[]}),e.type){case"MESSAGES_INITIALIZE":return Object.assign({},t,{projectId:e.projectId,page:0,threads:[]});case"MESSAGES_LOAD_PAGE":return Object.assign({},t,{loading:!0});case"MESSAGE_PAGE_LOADED":return Object.assign({},t,{loading:!1,threads:[].concat(i(t.threads),i(e.threads)),page:e.page,totalPages:e.totalPages});case"MESSAGES_CREATE_THREAD":return Object.assign({},t,{creating:!0});case"MESSAGES_THREAD_CREATED":return Object.assign({},t,{threads:[e.thread].concat(i(t.threads))});case"MESSAGES_CREATE_THREAD_FINISH":return Object.assign({},t,{creating:!1});case"MESSAGES_ADD_MESSAGE_TO_THREAD":return Object.assign({},t,{replying:!0});case"MESSAGES_MESSAGE_ADDED_TO_THREAD":return Object.assign({},t,{replying:!1,threads:_.map([].concat(i(t.threads)),function(t){return t.id==e.threadId?Object.assign({},t,{messages:[].concat(i(t.messages),[e.message]),reply:null}):t})});case"MESSAGES_THREAD_DELETED":return Object.assign({},t,{threads:_.filter(t.threads,function(t){return t.id!==e.threadId})});case"MESSAGE_SUBSCRIBERS_LOADED":return Object.assign({},t,{subscribers:e.subscribers});case"MESSAGES_THREAD_SUBSCRIBERS_UPDATED":return Object.assign({},t,{threads:_.map([].concat(i(t.threads)),function(t){return t.id==e.threadId?Object.assign({},t,{subscribers:e.subscribers}):t})});default:return t}}},{}],199:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t=[]),e.type){case"NEWS_LOADED":return e.news;case"NEWS_VIEWED":return _.filter(t,function(t){return t.id!==e.id});default:return t}}},{}],200:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={}),e.type){case"PROJECT_UPDATE":return Object.assign({},t,e.project);case"PROJECT_UPDATE_START":return Object.assign({},t,{updating:!0});case"PROJECT_UPDATE_FINISH":return Object.assign({},t,{updating:!1});case"PROJECT_CREATE_REPOSITORY_START":return Object.assign({},t,{repoCreating:!0});case"PROJECT_CREATE_REPOSITORY_FINISH":return Object.assign({},t,{git_url:e.data.git_url,bitbucket_slug:e.data.bitbucket_slug,repoCreating:!1});case"PROJECT_GENERATE_BOILERPLATE_START":return Object.assign({},t,{boilerplateGenerating:!0});case"PROJECT_GENERATE_BOILERPLATE_FINISH":return Object.assign({},t,{boilerplateGenerating:!1},_.pick(e,["boilerplate_status","boilerplate_folder","boilerplate_brief_id"]));case"PROJECT_CODE_DOWNLOAD_START":return Object.assign({},t,{codeDownloading:!0});case"PROJECT_CODE_DOWNLOAD_FINISH":return Object.assign({},t,{codeDownloading:!1});case"PROJECT_DEPLOY_START":return Object.assign({},t,{deploying:!0});case"PROJECT_DEPLOY_FINISH":return Object.assign({},t,{deploying:!1,log:e.log});case"PROJECT_RESTORED":return Object.assign({},t,{archived_at:null
});default:return t}}},{}],201:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={loading:!0}),e.type){case"PROJECT_ENGINEER_FETCH_START":return Object.assign({},t,{loading:!0});case"PROJECT_ENGINEER_FETCH_FINISH":return Object.assign({},t,{loading:!1});case"PROJECT_ENGINEER_UPDATE":return Object.assign({},t,e.projectEngineer);default:return t}}},{}],202:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("redux");n["default"]=i.createStore(i.combineReducers({project:t("./reducers/project")["default"],projectEngineer:t("./reducers/projectEngineer")["default"],developers:t("./reducers/developers")["default"],messages:t("./reducers/messages")["default"],news:t("./reducers/news")["default"]}))},{"./reducers/developers":197,"./reducers/messages":198,"./reducers/news":199,"./reducers/project":200,"./reducers/projectEngineer":201,redux:53}],203:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({ready:function(){this.fetchPortfolioItems(),CMV.trackEvent("misc","Viewed Portfolio Page",0)},data:function(){return{loaded:!1,portfolioItems:[],modal:{tabs:[]}}},events:{portfolioLoaded:function(){}},methods:{fetchPortfolioItems:function(){this.$http.get("/code/get",function(t){this.portfolioItems=t,this.loaded=!0})},openCodeModal:function(t){for(var e=0;e<this.portfolioItems.length;e++)this.portfolioItems[e].name==t&&(this.modal=this.portfolioItems[e]);$("#modal-portfolio").modal("show").on("shown.bs.modal",function(t){$("pre code").each(function(t,e){return hljs.highlightBlock(e)}),$(this).find(".tab-pane:first").addClass("active")})}}})},{}],204:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({mixins:[t("./../../../mixins/hasState")["default"]],data:function(){return{companies:[],pagination:{},isLoading:!1,reps:[],types:[],search:"",lastSearch:"",filter:{rep:null,type:null,status:null}}},ready:function(){this.reps=this.state.reps,this.reps.unshift({id:null,name:"All Reps"}),this.types=this.state.types,this.filter.rep=this.state.rep,this.filter.type=this.state.type,this.loadPage(1)},methods:{loadPage:function(t){var e=this;if(this.isLoading)return!1;var n=this;n.isLoading=!0,n.lastSearch=n.search,n.$http.get("/api/companies",{page:t,search:n.search,rep_id:n.filter.rep,type:n.filter.type,status:n.filter.status},function(t){n.companies=t.data,n.pagination=t.pagination}).always(function(){n.isLoading=!1,history.pushState({},"",e.buildUrl())})},setStatusFilter:function(t){return!this.isLoading&&(this.filter.status=t,void this.loadPage(1))},setRepFilter:function(t){return!this.isLoading&&(this.filter.rep=t,void this.loadPage(1))},setTypeFilter:function(t){return!this.isLoading&&(this.filter.type=t,void this.loadPage(1))},buildUrl:function(){var t="/prospector/companies";return t+="/"+(this.filter.type||"all"),this.filter.rep&&(t+="/"+this.filter.rep),this.lastSearch&&(t+="/?search="+this.lastSearch),t}},computed:{pageTitle:function(){return""===this.lastSearch?"All Companies":"Search Results: "+this.lastSearch}}})},{"./../../../mixins/hasState":230}],205:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./store")["default"];n["default"]={initializeApp:function(t){i.dispatch({type:"COMPANY_LOADED",company:t}),this._loadProspects(),this._loadMeta()},_loadProspects:function(){i.dispatch({type:"COMPANY_PROSPECTS_LOAD"}),Vue.http.get("/api/companies/"+this._companyId()+"/prospects",{},function(t){i.dispatch({type:"COMPANY_PROSPECTS_LOADED",prospects:t.data})})},_loadMeta:function(){i.dispatch({type:"COMPANY_META_LOAD"}),Vue.http.get("/api/companies/"+this._companyId()+"/meta",{},function(t){i.dispatch({type:"COMPANY_META_LOADED",meta:t.data})})},_companyId:function(){return i.getState().company.id}}},{"./store":214}],206:[function(t,e,n){e.exports='<ol class="breadcrumb">\n    <li><a data-pjax href="/prospector/dashboard">Dashboard</a></li>\n    <li><a data-pjax href="/prospector/companies">Companies</a></li>\n    <li class="active" style="color: black">{{ state.company.name }}</li>\n</ol>'},{}],207:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["state"],template:t("./breadcrumbs.html")})},{"./breadcrumbs.html":206}],208:[function(t,e,n){e.exports='<div class="panel-body">\n    <div class="hr-divider m-b">\n        <h3 class="hr-divider-content hr-divider-heading">Company Info</h3>\n    </div>\n    <ul class="nav nav-tabs">\n        <li class="active"><a data-toggle="tab" href="#prospects">Prospects</a></li>\n        <li><a data-toggle="tab" href="#meta">Company Meta</a></li>\n    </ul>\n\n    <br />\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="prospects">\n            <div class="table-full">\n                <div class="table-responsive">\n                    <table class="table table-middle">\n                        <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Email</th>\n                            <th>Last Contacted</th>\n                            <th>&nbsp;</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-if="!state.prospects.loading && state.prospects.list.length == 0">\n                                <td colspan="4">No prospects.</td>\n                            </tr>\n                            <tr v-if="state.prospects.loading">\n                                <td colspan="4"><i class="fa fa-spinner fa-spin"></i></td>\n                            </tr>\n                            <tr v-for="prospect in state.prospects.list">\n                                <td>\n                                    <a data-pjax href="/prospector/company/{{state.company.id}}/prospect/{{prospect.id}}">\n                                        {{ prospect.first_name }} {{ prospect.last_name }}\n                                    </a>\n                                </td>\n                                <td>{{ prospect.email }}</td>\n                                <td>{{{ prospect.last_activity }}}</td>\n                                <td>\n                                    <a data-pjax href="/prospector/company/{{state.company.id}}/prospect/{{prospect.id}}" class="btn btn-primary-outline">\n                                        <i class="fa fa-arrow-right"></i>\n                                    </a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n\n        <div class="tab-pane" id="meta">\n            <table class="table table-striped">\n                <thead>\n                <tr>\n                    <th>Key</th>\n                    <th>Value</th>\n                    <th>&nbsp;</th>\n                </tr>\n                </thead>\n\n                <tbody>\n                <tr v-if="!state.meta.loading && state.meta.list.length == 0">\n                    <td colspan="4">No meta.</td>\n                </tr>\n                <tr v-if="state.meta.loading">\n                    <td colspan="4"><i class="fa fa-spinner fa-spin"></i></td>\n                </tr>\n                <tr v-for="meta in state.meta.list">\n                    <td>{{ meta.key }}</td>\n                    <td>{{ meta.value }}</td>\n                    <td>\n                        <a class="btn btn-danger-outline" v-on:click="deleteMeta(meta.id)">\n                            <i v-else class="fa fa-remove"></i>\n                        </a>\n                    </td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div><!--prospects-->\n    </div><!--tab-content-->\n</div>'},{}],209:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["state"],template:t("./companyInfo.html")})},{"./companyInfo.html":208}],210:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./actions")["default"],r=t("./store")["default"];n["default"]=Vue.extend({props:["company"],data:function(){return{state:r.getState()}},ready:function(){i.initializeApp(JSON.parse(this.company))},computed:{noSalesRepAssigned:function(){return!(this.state.company.sales_rep_id>0)}},components:{breadcrumbs:t("./components/breadcrumbs")["default"],companyInfo:t("./components/companyInfo")["default"]},created:function(){var t=this;this.unsubscribe=r.subscribe(function(){t.state=r.getState()})},destroyed:function(){this.unsubscribe()}})},{"./actions":205,"./components/breadcrumbs":207,"./components/companyInfo":209,"./store":214}],211:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={}),e.type){case"COMPANY_LOADED":return e.company;default:return t}}},{}],212:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={loading:!1,list:[]}),e.type){case"COMPANY_META_LOADED":return Object.assign({},t,{loading:!1,list:e.meta});case"COMPANY_META_LOAD":return Object.assign({},t,{loading:!0,list:[]});default:return t}}},{}],213:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){switch(void 0===t&&(t={loading:!1,list:[]}),e.type){case"COMPANY_PROSPECTS_LOADED":return Object.assign({},t,{loading:!1,list:e.prospects});case"COMPANY_PROSPECTS_LOAD":return Object.assign({},t,{loading:!0,list:[]});default:return t}}},{}],214:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("redux");n["default"]=i.createStore(i.combineReducers({company:t("./reducers/company")["default"],prospects:t("./reducers/prospects")["default"],meta:t("./reducers/meta")["default"]}))},{"./reducers/company":211,"./reducers/meta":212,"./reducers/prospects":213,redux:53}],215:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({data:function(){return{prospects:[],pagination:{},isLoading:!1,search:"",lastSearch:""}},ready:function(){this.loadPage(1)},methods:{loadPage:function(t){var e=this;e.isLoading=!0,e.lastSearch=e.search,e.$http.get("/api/prospects",{page:t,search:e.search},function(t){e.prospects=t.data,e.pagination=t.pagination}).always(function(){e.isLoading=!1})}},computed:{pageTitle:function(){return""===this.lastSearch?"All Prospects":"Search Results: "+this.lastSearch}},components:{prospect:t("./prospect")["default"]}})},{"./prospect":217}],216:[function(t,e,n){e.exports='<tr>\n    <td>\n        <h4 class="m-a-0">\n            <a href="{{ prospect.url }}" data-pjax>{{ prospect.first_name }} {{ prospect.last_name }}<br />\n            <small class="text-muted">{{ prospect.email }}</small></a>\n        </h4>\n    </td>\n    <td>{{ prospect.company.name }}</td>\n    <td>{{{ prospect.last_contact }}}</td>\n    <td><a href="{{ prospect.url }}" class="btn btn-primary-outline" data-pjax><i class="fa fa-arrow-right"></i></a></td>\n</tr>'},{}],217:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({props:["prospect"],template:t("./prospect.html")})},{"./prospect.html":216}],218:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Vue.extend({mixins:[t("./../../mixins/hasState")["default"]],data:function(){return{form:{email:"",name:"",password:"",password_confirmation:"",token:""},isRegistering:!1}},ready:function(){this.form.email=this.state.email,this.form.token=this.state.token},methods:{registerWithInvitation:function(){var t=this;this.isRegistering=!0,this.$http.post("/invitation/"+this.form.token+"/register",this.form,function(){window.location="/home"}).always(function(){t.isRegistering=!1})}}})},{"./../../mixins/hasState":230}],219:[function(t,e,n){"use strict";t("./directives/trix")["default"],t("./directives/submit")["default"],t("./directives/tooltip")["default"],t("./directives/sortable")["default"]},{"./directives/sortable":220,"./directives/submit":221,"./directives/tooltip":222,"./directives/trix":223}],220:[function(t,e,n){"use strict";Vue.directive("sortable",{bind:function(){var t=this.vm,e=$(this.el);e.sortable({handle:".fa.fa-reorder",helper:function(t,e){var n=this;return e.children().each(function(){$(n).width($(n).width())}),e},update:function(e,n){t.$emit("sortableChange",e,n)},cursor:"move"})}})},{}],221:[function(t,e,n){"use strict";Vue.directive("submit",{initialHTML:"",bind:function(){this.initialHTML=$(this.el).html()},update:function(t){t?($(this.el).html("<i class='fa fa-spinner fa-spin'></i>"),this.el.disabled=!0):($(this.el).html(this.initialHTML),this.el.disabled=!1)}})},{}],222:[function(t,e,n){"use strict";Vue.directive("tooltip",{unwatch:function(){},bind:function(){var t=_.randomStr();this.el.id=t,setTimeout(function(){$("#"+t).tooltip({html:!0})},100)}})},{}],223:[function(t,e,n){"use strict";Vue.directive("trix",{unwatch:function(){},bind:function(){var t=this;return!_.fetchGetParameter("selenium-test")&&void setTimeout(function(){t.el.id=_.randomStr();var e,n,i;e=$(t.el),e.hide(),t.$trix=$('<trix-editor input="'+t.el.id+'"></trix-editor>'),t.$trix.insertAfter(e),t.$trix.on("trix-change",function(t){e.trigger("change")}),n=e[0].__v_model,i=n.update,n.update=function(r){e.val()!=r&&t.$trix[0].editor.loadHTML(r),i.call(n,r)}},100)}})},{}],224:[function(t,e,n){"use strict";t("./filters/numbers")["default"],t("./filters/linkify")["default"],t("./filters/dates")["default"],t("./filters/strings")["default"]},{"./filters/dates":225,"./filters/linkify":226,"./filters/numbers":227,"./filters/strings":228}],225:[function(t,e,n){"use strict";Vue.filter("ago",function(t){return moment(t).from(_.est().format("YYYY-MM-DD HH:mm:ss"))}),Vue.filter("secondsToReadableAgo",function(t){return moment(0).from(moment(0).seconds(t))}),Vue.filter("date",function(t){return moment(t).format("MMMM, Do")}),Vue.filter("date2",function(t){return moment(t).format("M/D/YYYY")}),Vue.filter("date3",function(t){return moment(t).format("MMMM Do, YYYY")}),Vue.filter("mdYtoMDoY",function(t){return moment(t,"M/D/YYYY").format("MMMM Do, YYYY")}),Vue.filter("YmdWithTimeToReadable",function(t){return moment(t,"YYYY-M-D HH:mm:ss").format("MMMM D, YYYY, h:mma")}),Vue.filter("mdYtoReadable",function(t){var e=_.est();return moment(t,"M/D/YYYY").from(e)}),Vue.filter("dayOfWeek",function(t){return moment(t,"M/D/YYYY").format("dddd, MMMM Do")})},{}],226:[function(t,e,n){"use strict";Vue.filter("linkify",function(t){var e,n,i,r;return n=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(n,'<a href="$1" target="_blank">$1</a>'),i=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(i,'$1<a href="http://$2" target="_blank">$2</a>'),r=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(r,'<a href="mailto:$1">$1</a>')})},{}],227:[function(t,e,n){"use strict";Vue.filter("readableSize",function(t){var e="B";return t>1073741824&&(t/=1073741824,e="GB"),t>1048576&&(t/=1048576,e="MB"),t>1024&&(t/=1024,e="KB"),t.toFixed(2)+" "+e}),Vue.filter("numberFormat",function(t,e,n,i){return _.numberFormat(t,e,n,i)}),Vue.filter("businessDaysString",function(t){return"(in "+_.pluralize(t,"business day","business days")+")"})},{}],228:[function(t,e,n){"use strict";Vue.filter("ucfirst",function(t){return _.ucfirst(t)}),Vue.filter("shortenString",function(t){return t.substring(0,20)+"..."}),Vue.filter("pluralize",function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return _.pluralize(t,e,n,i)})},{}],229:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={ready:function(){this.enableScrollEvent()},beforeDestroy:function(){this.disableScrollEvent()},methods:{enableScrollEvent:function(){var t=this;$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&t.$emit("scrolledToBottom")})},disableScrollEvent:function(){$(window).unbind("scroll")}}}},{}],230:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={props:{state:{type:String,required:!0}},attached:function(){this.state=JSON.parse(this.state)}}},{}],231:[function(t,e,n){"use strict";Vue.component("spark-simple-registration-screen",{ready:function(){$(function(){$(".spark-first-field").filter(":visible:first").focus()});var t=URI(document.URL).query(!0);t.invitation&&this.getInvitation(t.invitation)},data:function(){return{invitation:null,failedToLoadInvitation:!1,registerForm:new SparkForm({team_name:"",name:"",email:"",password:"",password_confirmation:"",plan:"",terms:!1,invitation:null})}},methods:{getInvitation:function(t){this.$http.get("/spark/api/teams/invitation/"+t).success(function(t){this.invitation=t,this.registerForm.invitation=t.token,setTimeout(function(){$(function(){$(".spark-first-field").filter(":visible:first").focus()})},250)}).error(function(t){this.failedToLoadInvitation=!0,console.error("Unable to load invitation for given code.")})},register:function(){Spark.post("/register",this.registerForm).then(function(t){window.location=t.path})},hasError:function(t,e){return _.indexOf(_.keys(t.fullErrors),e)>-1},getError:function(t,e){if(this.hasError(t,e))return t.fullErrors[e][0]}}})},{}],232:[function(t,e,n){"use strict";Vue.component("spark-subscription-register-screen",{ready:function(){this.getPlans(),Stripe.setPublishableKey(STRIPE_KEY);var t=URI(document.URL).query(!0);t.coupon&&this.getCoupon(t.coupon),t.invitation&&this.getInvitation(t.invitation)},data:function(){return{plans:[],selectedPlan:null,planTypeState:!1,currentCoupon:null,invitation:null,failedToLoadInvitation:!1,registerForm:new SparkForm({team_name:"",name:"",email:"",password:"",password_confirmation:"",plan:"",terms:!1,coupon:null,invitation:null,stripe_token:null}),cardForm:new SparkForm({number:"",cvc:"",month:"",year:"",zip:""})}},computed:{plansAreLoaded:function(){return this.plans.length>0},defaultPlans:function(){return this.monthlyPlans.length>0?this.monthlyPlans:this.yearlyPlans.length>0?this.yearlyPlans:void 0},monthlyPlans:function(){return _.filter(this.plans,function(t){return"monthly"==t.interval&&t.active})},yearlyPlans:function(){return _.filter(this.plans,function(t){return"yearly"==t.interval&&t.active})},freePlanIsSelected:function(){return this.selectedPlan&&0===this.selectedPlan.price},shouldShowDefaultPlans:function(){return!this.planTypeState},shouldShowYearlyPlans:function(){return this.planTypeState},selectedPlanPrice:function(){if(this.selectedPlan)return this.selectedPlan.currencySymbol+this.selectedPlan.price},currentCouponDisplayDiscount:function(){if(this.currentCoupon){if(this.currentCoupon.amountOff)return"$"+this.currentCoupon.amountOff+" Off";if(this.currentCoupon.percentOff)return this.currentCoupon.percentOff+"% Off"}}},methods:{getPlans:function(){this.$http.get("spark/api/subscriptions/plans").success(function(t){var e=this;this.plans=_.filter(t,function(t){return t.active});var n=URI(document.URL).query(!0);if(1==this.plans.length)this.setSelectedPlan(this.plans[0]),setTimeout(function(){$(".spark-first-field").filter(":visible:first").focus()},100);else if(n.invitation)_.each(this.plans,function(t){if(0===t.price)return e.selectPlan(t)});else if(n.plan){var i=0;for(i=0;i<this.plans.length;i++)this.plans[i].id==n.plan&&this.setSelectedPlan(this.plans[i])}})},getCoupon:function(t){this.$http.get("spark/api/subscriptions/coupon/"+t).success(function(t){this.currentCoupon=t}).error(function(t){console.error("Unable to load coupon for given code.")})},getInvitation:function(t){this.$http.get("/spark/api/teams/invitation/"+t).success(function(t){this.invitation=t,setTimeout(function(){$(function(){$(".spark-first-field").filter(":visible:first").focus()})},250)}).error(function(t){this.failedToLoadInvitation=!0,console.error("Unable to load invitation for given code.")})},getDiscountPlanPrice:function(t){if(this.currentCoupon)return this.currentCoupon.amountOff&&(t-=this.currentCoupon.amountOff),this.currentCoupon.percentOff&&(t-=t*(this.currentCoupon.percentOff/100)),t<0?0:t.toFixed(2)},getCouponDisplayDuration:function(t){if(this.currentCoupon){if(this.currentCoupon.lastsOnce)return"monthly"==t.interval?"For The First Month":"For The First Year";if(this.currentCoupon.lastsForever)return"monthly"==t.interval?"Monthly For Life":"Yearly For Life";if(this.currentCoupon.months)return"monthly"==t.interval?"Monthly For The First "+this.currentCoupon.months+" Months":"For The First Year"}},selectPlan:function(t){this.setSelectedPlan(t),setTimeout(function(){$(".spark-first-field").filter(":visible:first").focus()},100)},setSelectedPlan:function(t){this.selectedPlan=t,this.registerForm.plan=t.id},selectAnotherPlan:function(){this.selectedPlan=null,this.registerForm.plan=""},register:function(){var t=this;if(this.cardForm.fullErrors={},this.cardForm.errors=[],this.registerForm.fullErrors={},this.registerForm.errors=[],this.registerForm.busy=!0,this.freePlanIsSelected)return this.sendRegistration();var e={name:this.registerForm.name,number:this.cardForm.number,cvc:this.cardForm.cvc,exp_month:this.cardForm.month,exp_year:this.cardForm.year,address_zip:this.cardForm.zip};Stripe.card.createToken(e,function(e,n){n.error?(t.cardForm.fullErrors={number:[n.error.message]},t.cardForm.errors.push(n.error.message),t.registerForm.busy=!1):(t.registerForm.stripe_token=n.id,t.sendRegistration())})},sendRegistration:function(){this.currentCoupon&&!this.freePlanIsSelected&&(this.registerForm.coupon=this.currentCoupon.id),this.invitation&&(this.registerForm.invitation=this.invitation.token),this.$http.post("/register",this.registerForm).success(function(t){window.location="/home?tab=concierge&cc=1"}).error(function(t){this.registerForm.busy=!1,this.registerForm.fullErrors=t,Spark.setErrorsOnForm(this.registerForm,t)})},getPlanColumnWidth:function(t){switch(t){case 1:return"col-md-4 col-md-offset-4";case 2:return"col-md-6";case 3:return"col-md-4";case 4:return"col-md-3";default:console.error("Spark only supports up to 4 plans per interval.")}},hasError:function(t,e){return _.indexOf(_.keys(t.fullErrors),e)>-1},getError:function(t,e){if(this.hasError(t,e))return t.fullErrors[e][0]}}})},{}],233:[function(t,e,n){"use strict";Vue.component("spark-errors",{props:["form"],template:"<div><div class='alert alert-danger' v-if='form.errors && form.errors.length > 0'>                <strong>Whoops!</strong> There were some problems with your input.<br><br>                <ul>                    <li v-for='error in form.errors'>                        {{ error }}                    </li>                </ul>            </div></div>"}),Vue.component("spark-error-alert",{props:["form"],template:"<div><div class='alert alert-danger' v-if='form.errors && form.errors.length > 0'>                <strong>Whoops!</strong> There were some problems with your input.            </div></div>"})},{}],234:[function(t,e,n){"use strict";t("./settings/dashboard/profile")["default"],t("./settings/dashboard/security/password")["default"],t("./settings/dashboard/security/two-factor")["default"],t("./settings/team/owner")["default"],t("./settings/team/membership/edit-team-member")["default"]},{"./settings/dashboard/profile":240,"./settings/dashboard/security/password":241,"./settings/dashboard/security/two-factor":242,"./settings/team/membership/edit-team-member":247,"./settings/team/owner":248}],235:[function(t,e,n){"use strict";t("./../common/errors"),t("./../nav"),t("./../auth/registration/simple"),t("./../auth/registration/subscription"),t("./../settings/dashboard"),t("./../settings/dashboard/subscription"),t("./../settings/dashboard/teams"),t("./../settings/team"),t("./../settings/team/membership")},{"./../auth/registration/simple":231,"./../auth/registration/subscription":232,"./../common/errors":233,"./../nav":238,"./../settings/dashboard":239,"./../settings/dashboard/subscription":243,"./../settings/dashboard/teams":244,"./../settings/team":245,"./../settings/team/membership":246}],236:[function(t,e,n){"use strict";var i={hasError:function(){return _.indexOf(_.keys(this.form.fullErrors),this.name)>-1},getError:function(){if(this.hasError())return this.form.fullErrors[this.name][0]}};Vue.component("spark-wide-text",{props:["display","form","name","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">        <label>{{ display }}</label>        <div>            <input type="text" class="form-control" v-model="input">            <span class="help-block" v-show="hasError()">                <strong>{{ getError() }}</strong>            </span>        </div>    </div>'}),Vue.component("spark-text",{props:["display","form","name","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label class="col-md-4 control-label">{{ display }}</label>    <div class="col-md-6">        <input type="text" class="form-control" v-model="input">        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'}),Vue.component("spark-email",{props:["display","form","name","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label class="col-md-4 control-label">{{ display }}</label>    <div class="col-md-6">        <input type="email" class="form-control" v-model="input">        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'}),Vue.component("spark-wide-email",{props:["display","form","name","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label>{{ display }}</label>    <div>        <input type="email" class="form-control" v-model="input">        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'}),Vue.component("spark-password",{props:["display","form","name","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label class="col-md-4 control-label">{{ display }}</label>    <div class="col-md-6">        <input type="password" class="form-control" v-model="input">        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'}),Vue.component("spark-select",{props:["display","form","name","items","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label class="col-md-4 control-label">{{ display }}</label>    <div class="col-md-8">        <select class="form-control" v-model="input">            <option v-for="item in items" :value="item.value">                {{ item.text }}            </option>        </select>        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'}),Vue.component("spark-wide-select",{props:["display","form","name","items","input"],methods:i,template:'<div class="form-group" :class="{\'has-error\': hasError()}">    <label class="control-label">{{ display }}</label>    <div>        <select class="form-control" v-model="input">            <option v-for="item in items" :value="item.value">                {{ item.text }}            </option>        </select>        <span class="help-block" v-show="hasError()">            <strong>{{ getError() }}</strong>        </span>    </div></div>'})},{}],237:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};window.SparkForm=function(t){var e=this;_.extend(this,t),this.fullErrors={},this.errors=[],this.busy=!1,this.successful=!1,this.startProcessing=function(){e.fullErrors={},e.errors=[],e.busy=!0,e.successful=!1},this.finishProcessing=function(){e.busy=!1,e.successful=!0}},_.extend(Spark,{post:function(t,e){return Spark.sendForm("post",t,e)},put:function(t,e){return Spark.sendForm("put",t,e)},"delete":function(t,e){return Spark.sendForm("delete",t,e)},sendForm:function(t,e,n){return new Promise(function(i,r){n.startProcessing(),Vue.http[t](e,n).success(function(t){n.finishProcessing(),i(t)}).error(function(t){n.fullErrors=t,Spark.setErrorsOnForm(n,t),n.busy=!1,r(t)})})},setErrorsOnForm:function(t,e){"object"===("undefined"==typeof e?"undefined":i(e))?t.errors=_.flatten(_.toArray(e)):t.errors.push("Something went wrong. Please try again.")}})},{}],238:[function(t,e,n){"use strict";Vue.component("spark-nav-bar-dropdown",{data:function(){return{user:null,teams:[]}},events:{userRetrieved:function(t){return this.user=t,!0},teamsRetrieved:function(t){return this.teams=t,!0}}})},{}],239:[function(t,e,n){"use strict";Vue.component("spark-settings-screen",{ready:function(){}})},{}],240:[function(t,e,n){"use strict";Vue.component("spark-settings-profile-screen",{ready:function(){},data:function(){return{user:null,uploadingAvatar:!1,updateProfileForm:new SparkForm({name:"",email:""})}},events:{userRetrieved:function(t){return this.user=t,this.updateProfileFormForNewUser(t),!0}},methods:{uploadNewAvatar:function(t){var e=this;if(this.uploadingAvatar)return!1;this.uploadingAvatar=!0;var n=t.target.files[0],i=new FormData;i.append("avatar",n),this.$http.post("/avatar",i,function(t){$("#current-avatar").attr("src",t.data+"?"+(new Date).getTime())}).always(function(){e.uploadingAvatar=!1})},updateProfileFormForNewUser:function(t){this.updateProfileForm.name=t.name,this.updateProfileForm.email=t.email},updateProfile:function(){var t=this;Spark.put("/settings/user",this.updateProfileForm).then(function(){t.$dispatch("updateUser")})}}})},{}],241:[function(t,e,n){"use strict";Vue.component("spark-settings-security-password-screen",{ready:function(){},data:function(){return{user:null,updatePasswordForm:new SparkForm({current_password:"",password:"",password_confirmation:""})}},events:{userRetrieved:function(t){return this.user=t,!0}},methods:{updatePassword:function(){var t=this;Spark.put("/settings/user/password",this.updatePasswordForm).then(function(){t.updatePasswordForm.current_password="",t.updatePasswordForm.password="",t.updatePasswordForm.password_confirmation=""})}}})},{}],242:[function(t,e,n){"use strict";Vue.component("spark-settings-security-two-factor-screen",{ready:function(){},data:function(){return{user:null,twoFactorForm:new SparkForm({country_code:"",phone_number:"",enabled:!1}),disableTwoFactorForm:new SparkForm({})}},events:{userRetrieved:function(t){return this.user=t,this.twoFactorForm.country_code=this.user.phone_country_code,this.twoFactorForm.phone_number=this.user.phone_number,!0}},methods:{enableTwoFactorAuth:function(){var t=this;Spark.post("/settings/user/two-factor",this.twoFactorForm).then(function(){t.$dispatch("updateUser"),t.twoFactorForm.enabled=!0})},disableTwoFactorAuth:function(){var t=this;this.twoFactorForm.enabled=!1,Spark["delete"]("/settings/user/two-factor",this.disableTwoFactorForm).then(function(){t.$dispatch("updateUser")})}}})},{}],243:[function(t,e,n){"use strict";var i={updateCard:function(){return{number:"",cvc:"",month:"",year:"",zip:"",fullErrors:{},errors:[],updating:!1,updated:!1}}};Vue.component("spark-settings-subscription-screen",{ready:function(){Stripe.setPublishableKey(STRIPE_KEY),this.getPlans(),this.initializeTooltips()},watch:{"subscribeForm.plan":function(t,e){t.length>0?setTimeout(function(){$(".spark-first-field").filter(":visible:first").focus()},250):this.initializeTooltips()}},data:function(){return{user:null,currentCoupon:null,plans:[],subscribeForm:new SparkForm({
plan:"",terms:!1,stripe_token:null}),cardForm:new SparkForm({number:"",cvc:"",month:"",year:"",zip:""}),changePlanForm:new SparkForm({plan:""}),updateCardForm:i.updateCard(),extraBillingInfoForm:new SparkForm({text:""}),resumeSubscriptionForm:new SparkForm({}),cancelSubscriptionForm:new SparkForm({})}},computed:{userIsLoaded:function(){return!!this.user},userIsOnGracePeriod:function(){return!!this.user.subscription_ends_at&&moment().isBefore(this.user.subscription_ends_at)},subscriptionEndsAt:function(){if(this.user.subscription_ends_at)return moment(this.user.subscription_ends_at).format("MMMM Do")},plansAreLoaded:function(){return this.plans.length>0},includesBothPlanIntervals:function(){return this.plansAreLoaded&&this.monthlyPlans.length>0&&this.yearlyPlans.length>0},currentPlan:function(){var t=this;if(!this.userIsLoaded)return null;var e=_.find(this.plans,function(e){return e.id==t.user.stripe_plan});return"undefined"!==e?e:void 0},selectedPlan:function(){var t=this;return _.find(this.plans,function(e){return e.id==t.subscribeForm.plan})},selectedPlanPrice:function(){if(this.selectedPlan)return this.selectedPlan.currencySymbol+this.selectedPlan.price},monthlyPlans:function(){return _.filter(this.plans,function(t){return"monthly"==t.interval&&t.active})},yearlyPlans:function(){return _.filter(this.plans,function(t){return"yearly"==t.interval&&t.active})},defaultPlans:function(){return this.monthlyPlans.length>0?this.monthlyPlans:this.yearlyPlans.length>0?this.yearlyPlans:void 0},defaultPlansExceptCurrent:function(){return this.monthlyPlansExceptCurrent.length>0?this.monthlyPlansExceptCurrent:this.yearlyPlansExceptCurrent.length>0?this.yearlyPlansExceptCurrent:void 0},monthlyPlansExceptCurrent:function(){var t=this;return this.currentPlan?_.filter(this.monthlyPlans,function(e){return e.id!=t.currentPlan.id}):[]},yearlyPlansExceptCurrent:function(){var t=this;return this.currentPlan?_.filter(this.yearlyPlans,function(e){return e.id!=t.currentPlan.id}):[]},currentCouponDisplayDiscount:function(){if(this.currentCoupon){if(this.currentCoupon.amountOff)return this.currentPlan.currencySymbol+this.currentCoupon.amountOff;if(this.currentCoupon.percentOff)return this.currentCoupon.percentOff+"%"}},currentCouponDisplayExpiresOn:function(){return moment(this.currentCoupon.expiresOn).format("MMMM Do, YYYY")}},events:{userRetrieved:function(t){return this.user=t,this.extraBillingInfoForm.text=this.user.extra_billing_info,this.user.stripe_id&&this.getCoupon(),!0}},methods:{getCoupon:function(){this.$http.get("spark/api/subscriptions/user/coupon").success(function(t){this.currentCoupon=t})},getPlans:function(){this.$http.get("spark/api/subscriptions/plans").success(function(t){this.plans=t})},subscribe:function(){var t=this;this.cardForm.fullErrors={},this.cardForm.errors=[],this.subscribeForm.fullErrors={},this.subscribeForm.errors=[],this.subscribeForm.busy=!0;var e={name:this.user.name,number:this.cardForm.number,cvc:this.cardForm.cvc,exp_month:this.cardForm.month,exp_year:this.cardForm.year,address_zip:this.cardForm.zip};Stripe.card.createToken(e,function(e,n){n.error?(t.cardForm.fullErrors={number:[n.error.message]},t.cardForm.errors=[n.error.message],t.subscribeForm.busy=!1):(t.subscribeForm.stripe_token=n.id,t.sendSubscription())})},sendSubscription:function(){var t=this;Spark.post("/settings/user/plan",this.subscribeForm).then(function(){t.$dispatch("updateUser"),window.location="/home?tab=concierge&cc=1"})},selectAnotherPlan:function(){this.subscribeForm.plan=""},confirmPlanChange:function(){this.changePlanForm.errors=[],this.changePlanForm.changing=!1,$("#modal-change-plan").modal("show"),this.initializeTooltips()},changePlan:function(){var t=this;Spark.put("/settings/user/plan",this.changePlanForm).then(function(){t.$dispatch("updateUser"),t.initializeTooltips(),$("#modal-change-plan").modal("hide")})},updateCard:function(){var t=this;this.updateCardForm.errors=[],this.updateCardForm.updated=!1,this.updateCardForm.updating=!0;var e={name:this.user.name,number:this.updateCardForm.number,cvc:this.updateCardForm.cvc,exp_month:this.updateCardForm.month,exp_year:this.updateCardForm.year,address_zip:this.updateCardForm.zip};Stripe.card.createToken(e,function(e,n){n.error?(t.updateCardForm.fullErrors={number:[n.error.message]},t.updateCardForm.errors=[n.error.message],t.updateCardForm.updating=!1):t.updateCardUsingToken(n.id)})},updateCardUsingToken:function(t){this.$http.put("settings/user/card",{stripe_token:t}).success(function(){this.$dispatch("updateUser"),this.updateCardForm=i.updateCard(),this.updateCardForm.updated=!0}).error(function(t){this.updateCardForm.updating=!1,Spark.setErrorsOnForm(this.updateCardForm,t)})},updateExtraBillingInfo:function(){Spark.put("/settings/user/vat",this.extraBillingInfoForm)},confirmSubscriptionCancellation:function(){$("#modal-cancel-subscription").modal("show")},cancelSubscription:function(){var t=this;Spark["delete"]("/settings/user/plan",this.cancelSubscriptionForm).then(function(){t.$dispatch("updateUser"),$("#modal-cancel-subscription").modal("hide"),setTimeout(function(){t.cancelSubscriptionForm.cancelling=!1},500)})},resumeSubscription:function(){var t=this;Spark.post("/settings/user/plan/resume",this.resumeSubscriptionForm).then(function(){t.$dispatch("updateUser")})},getPlanFeaturesForTooltip:function(t){var e="<ul>";return _.each(t.features,function(t){e+="<li>"+t+"</li>"}),e+"</ul>"},initializeTooltips:function(){setTimeout(function(){$('[data-toggle="tooltip"]').tooltip({html:!0})},250)},hasError:function(t,e){return _.indexOf(_.keys(t.fullErrors),e)>-1},getError:function(t,e){if(this.hasError(t,e))return t.fullErrors[e][0]}}})},{}],244:[function(t,e,n){"use strict";var i=t("./../../../../misc/notify")["default"];Vue.component("spark-settings-teams-screen",{ready:function(){this.getInvitations()},data:function(){return{user:null,teams:[],invitations:[],teamsLoaded:!1,teamToDelete:null,createTeamForm:new SparkForm({name:""}),deleteTeamForm:new SparkForm({})}},events:{userRetrieved:function(t){return this.user=t,!0},teamsRetrieved:function(t){return this.teams=t,this.teamsLoaded=!0,!0}},methods:{_pluralize:function(t,e,n){return _.pluralize(t,e,n)},getInvitations:function(){this.$http.get("/spark/api/teams/invitations").success(function(t){this.invitations=t})},createTeam:function(){var t=this;Spark.post("/settings/teams",this.createTeamForm).then(function(){t.createTeamForm.name="",t.$dispatch("updateUser"),t.$dispatch("updateTeams"),$("#new-team").modal("hide")})},leaveTeam:function(t){var e=this,n=this;i.confirm("Warning","You're about to leave the "+t.name+" team. Proceed?",function(){e.teams=_.reject(e.teams,function(e){return e.id==t.id}),e.$http["delete"]("/settings/teams/"+t.id+"/membership").success(function(){n.$dispatch("updateUser"),n.$dispatch("updateTeams")})})},confirmTeamDeletion:function(t){this.teamToDelete=t,$("#modal-delete-team").modal("show")},deleteTeam:function(){var t=this;Spark["delete"]("/settings/teams/"+this.teamToDelete.id,this.deleteTeamForm).then(function(){$("#modal-delete-team").modal("hide"),t.$dispatch("updateUser"),t.$dispatch("updateTeams")})},acceptInvite:function(t){this.invitations=_.reject(this.invitations,function(e){return e.id==t.id}),this.$http.post("/settings/teams/invitations/"+t.id+"/accept").success(function(){this.$dispatch("updateUser"),this.$dispatch("updateTeams")})},rejectInvite:function(t){this.invitations=_.reject(this.invitations,function(e){return e.id==t.id}),this.$http["delete"]("settings/teams/invitations/"+t.id)},userOwns:function(t){return!!this.user&&this.user.id===t.owner_id},hasError:function(t,e){var n=_.keys(t.fullErrors);return _.indexOf(n,e)>-1},getError:function(t,e){if(this.hasError(t,e))return t.fullErrors[e][0]}}})},{"./../../../../misc/notify":64}],245:[function(t,e,n){"use strict";Vue.component("spark-team-settings-screen",{ready:function(){this.getUsersAccess(),this.getTeam(),this.getRoles()},data:function(){return{team:null}},events:{updateTeam:function(){return this.getTeam(),this.getUsersAccess(),!0}},methods:{getTeam:function(){this.$http.get("/spark/api/teams/"+TEAM_ID).success(function(t){this.team=t,this.$broadcast("teamRetrieved",t)})},getUsersAccess:function(){var t=this;this.$http.get("/api/teams/"+TEAM_ID+"/users").success(function(e){t.access=e.data,t.$broadcast("usersAccessRetrieved",t.access)})},getRoles:function(){this.$http.get("/spark/api/teams/roles").success(function(t){this.roles=t,this.$broadcast("rolesRetrieved",t)})}},components:{project:t("../../controllers/misc/home/project")["default"]}})},{"../../controllers/misc/home/project":102}],246:[function(t,e,n){"use strict";var i=t("./../../../../misc/notify")["default"];Vue.component("spark-team-settings-membership-screen",{data:function(){return{user:null,team:null,roles:[],access:{},leavingTeam:!1,editingTeamMember:null,sendInviteForm:new SparkForm({email:"",role:"member",projects:[]})}},computed:{assignableRoles:function(){return _.reject(this.roles,function(t){return"owner"==t.value})},everythingIsLoaded:function(){return this.user&&this.team&&this.roles.length>0},teamMembersExceptMe:function(){var t=this;return this.team&&this.user?_.reject(this.team.users,function(e){return e.id===t.user.id}):[]},canEditCollaborators:function(){return["owner","admin"].indexOf(this.team.pivot.role)!=-1}},events:{userRetrieved:function(t){return this.user=t,!0},teamRetrieved:function(t){return this.team=t,!0},rolesRetrieved:function(t){return this.roles=t,!0},usersAccessRetrieved:function(t){return this.access=t,!0}},methods:{sendInvite:function(){var t=this;Spark.post("/settings/teams/"+this.team.id+"/invitations",this.sendInviteForm).then(function(){t.$dispatch("updateTeam"),t.sendInviteForm.email="",t.sendInviteForm.projects=[]})},cancelInvite:function(t){var e=this;this.team.invitations=_.reject(this.team.invitations,function(e){return e.id===t.id}),this.$http["delete"]("/settings/teams/"+this.team.id+"/invitations/"+t.id).success(function(){e.$dispatch("updateTeam")})},editTeamMember:function(t){this.editingTeamMember=t,$("#modal-edit-team-member").modal("show")},teamMemberIsEditable:function(t){return"owner"!=t.pivot.role},removeTeamMember:function(t){var e=this;this.team.users=_.reject(this.team.users,function(e){return e.id==t.id}),this.$http["delete"]("/settings/teams/"+this.team.id+"/members/"+t.id).success(function(){e.$dispatch("updateTeam")})},teamMemberIsRemovable:function(t){return"owner"!=t.pivot.role},leaveTeam:function(){var t=this;i.confirm("Warning","You're about to leave the "+this.team.name+" team. Proceed?",function(){t.leavingTeam=!0,t.$http["delete"]("/settings/teams/"+t.team.id+"/membership").success(function(){window.location="/settings?tab=teams"})})},userOwns:function(t){return!(!this.user||!t)&&this.user.id===t.owner_id}},filters:{role:function(t){return _.find(this.roles,function(e){return e.value==t}).text}}})},{"./../../../../misc/notify":64}],247:[function(t,e,n){"use strict";Vue.component("spark-team-settings-edit-team-member-screen",{props:["teamMember"],data:function(){return{user:null,team:null,roles:[],access:{},updateTeamMemberForm:new SparkForm({role:"",name:"",email:"",projects:[]})}},watch:{teamMember:function(t){this.updateTeamMemberForm.name=t.name,this.updateTeamMemberForm.email=t.email,this.updateTeamMemberForm.role=t.pivot.role,this.updateTeamMemberForm.projects=_.clone(this.access[t.id].projects)}},computed:{assignableRoles:function(){return _.reject(this.roles,function(t){return"owner"==t.value})}},events:{userRetrieved:function(t){return this.user=t,!0},teamRetrieved:function(t){return this.team=t,!0},rolesRetrieved:function(t){return this.roles=t,!0},usersAccessRetrieved:function(t){return this.access=t,!0}},methods:{updateTeamMember:function(){var t=this;Spark.put("/settings/teams/"+this.team.id+"/members/"+this.teamMember.id,this.updateTeamMemberForm).then(function(){t.$dispatch("updateTeam"),$("#modal-edit-team-member").modal("hide")})}}})},{}],248:[function(t,e,n){"use strict";Vue.component("spark-team-settings-owner-screen",{ready:function(){},data:function(){return{user:null,team:null,updateTeamForm:new SparkForm({name:""})}},events:{userRetrieved:function(t){return this.user=t,!0},teamRetrieved:function(t){return this.team=t,this.updateTeamForm.name=this.team.name,!0}},methods:{updateTeam:function(){var t=this;Spark.put("/settings/teams/"+this.team.id,this.updateTeamForm).then(function(){t.$dispatch("updateTeam"),t.$dispatch("updateTeams")})}}})},{}],249:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t("./core/components"),t("./core/form-utils"),t("./core/form-fields"),n["default"]={el:"#spark-app",ready:function(){$(function(){$(".spark-first-field").filter(":visible:first").focus()}),Spark.userId&&(this.getUser(),this.getTeams()),Spark.currentTeamId&&this.getCurrentTeam(),this.whenReady()},events:{updateUser:function(){return this.getUser(),!0},updateTeams:function(){return this.getTeams(),!0}},methods:{whenReady:function(){},getUser:function(){this.$http.get("/spark/api/users/me").success(function(t){this.$broadcast("userRetrieved",t)})},getTeams:function(){this.$http.get("/spark/api/teams").success(function(t){this.$broadcast("teamsRetrieved",t)})},getCurrentTeam:function(){this.$http.get("/spark/api/teams/"+Spark.currentTeamId).success(function(t){this.$broadcast("currentTeamRetrieved",t)})}}}},{"./core/components":235,"./core/form-fields":236,"./core/form-utils":237}]},{},[61]);